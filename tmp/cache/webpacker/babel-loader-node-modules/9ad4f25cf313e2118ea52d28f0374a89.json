{"ast":null,"code":"import { Users, User, UsersCollection } from \"../BackboneModel/user_model\";\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\";\nimport { Match, Matchs } from \"../BackboneModel/matchs_model\";\nimport { Wars, War } from \"../BackboneModel/war_model\";\nimport { Chatroom } from \"../BackboneModel/chat_list_model\";\n/* win | guild adverse name | prix | */\n\nvar WarView = Backbone.View.extend({\n  initialize: function initialize(options) {\n    this.e = options.element;\n  },\n  render: function render() {\n    var date;\n    date = new Date(this.model.get(\"start_at\"));\n    var start_date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n    date = new Date(this.model.get(\"end_at\"));\n    var end_date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n    this.$el.html('<li class=\"war-li\">\\\n        <p>' + this.model.get(\"im_winner\") + '</p>\\\n        <p class=\"wlist-me\">' + $(this.e.currentTarget).find(\">:first-child\").html() + ' (points: ' + this.model.get(\"my_point\") + ')</p>\\\n        <p class=\"wlist-vs\">ðŸ†š</p>\\\n        <p class=\"wlist-him\">' + this.model.get(\"enemy\") + ' (point: ' + this.model.get(\"his_point\") + ')</p>\\\n        <p class=\"wlist-prize\">prize: ' + this.model.get(\"prize\") + ' ðŸ’°</p>\\\n        <div class=\"wlist-time\">\\\n            <p class=\"wlist-start\">start: ' + start_date_string + '</p>\\\n            <p class=\"wlist-end\">end: ' + end_date_string + '</p>\\\n        </div>\\\n        </li>');\n    return this;\n  }\n});\nvar ProfilGuildView = Backbone.View.extend({\n  initialize: function initialize() {\n    this.ProfilIsOpen = false;\n  },\n  render: function render(e) {\n    var self = this;\n\n    if (self.ProfilIsOpen == false) {\n      var wars = new Wars();\n      wars.fetch({\n        data: {\n          guild: $(e.currentTarget).find(\">:first-child\").html()\n        }\n      }).then(function () {\n        self.ProfilIsOpen = true;\n        $(\".Center\").append('<div class=\"PopUp\" id=\"popup-profil\">\\\n                <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"âœ–\"></input>' + '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-refresh\" value=\"âŸ³\"></input>\\\n                <h2 id=\"title-popup-chatroom-pannel\">' + $(e.currentTarget).find(\">:first-child\").html() + '</h2>\\\n            <img id=\"profil-image-user\" src=\"https://images04.military.com/sites/default/files/styles/full/public/media/news/conflicts/2015/04/pro-russian-tank-600.jpg?itok=FPZYi7nD\">\\\n            <h2>War Historic</h2>\\\n            <ul id=\"guild-war-historic\"></lu>');\n        wars.each(function (war) {\n          var warView = new WarView({\n            model: war,\n            element: e\n          });\n          $(\"ul#guild-war-historic\").append(warView.render().$el);\n        });\n\n        var removePopup = function removePopup() {\n          self.ProfilIsOpen = false;\n          $(\".PopUp\").remove();\n        };\n\n        self.mouseIn = false;\n        $(\".PopUp\").hover(function () {\n          self.mouseIn = true;\n        }, function () {\n          self.mouseIn = false;\n        });\n        $(\"body\").mouseup(function () {\n          if (self.mouseIn == false) removePopup();\n        });\n        $(\"#popup-chatroom-administration-refresh\").click(function () {\n          this.render();\n        });\n        $(\"#popup-chatroom-administration-quit\").click(function () {\n          removePopup();\n        });\n      });\n    }\n  }\n});\nexport { ProfilGuildView };","map":{"version":3,"sources":["/home/mathis/Documents/no_docker/app/javascript/BackboneViews/ProfilGuildView.js"],"names":["Users","User","UsersCollection","UsersChatroom","Match","Matchs","Wars","War","Chatroom","WarView","Backbone","View","extend","initialize","options","e","element","render","date","Date","model","get","start_date_string","getDate","getMonth","getFullYear","getHours","getMinutes","end_date_string","$el","html","$","currentTarget","find","ProfilGuildView","ProfilIsOpen","self","wars","fetch","data","guild","then","append","each","war","warView","removePopup","remove","mouseIn","hover","mouseup","click"],"mappings":"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","sourcesContent":["import { Users, User, UsersCollection } from \"../BackboneModel/user_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\"\nimport { Match, Matchs } from \"../BackboneModel/matchs_model\"\nimport { Wars, War } from \"../BackboneModel/war_model\"\nimport { Chatroom } from \"../BackboneModel/chat_list_model\"\n\n/* win | guild adverse name | prix | */\n\nvar WarView = Backbone.View.extend({\n    initialize: function(options) {\n        this.e = options.element;\n    },\n\n    render: function () {\n        var date;\n        \n        date = new Date(this.model.get(\"start_at\"));\n        var start_date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n        \n        date = new Date(this.model.get(\"end_at\"));\n        var end_date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n\n\n        this.$el.html('<li class=\"war-li\">\\\n        <p>' + this.model.get(\"im_winner\") + '</p>\\\n        <p class=\"wlist-me\">' + $(this.e.currentTarget).find(\">:first-child\").html() + ' (points: ' + this.model.get(\"my_point\") + ')</p>\\\n        <p class=\"wlist-vs\">ðŸ†š</p>\\\n        <p class=\"wlist-him\">' + this.model.get(\"enemy\") + ' (point: ' + this.model.get(\"his_point\") + ')</p>\\\n        <p class=\"wlist-prize\">prize: ' + this.model.get(\"prize\") + ' ðŸ’°</p>\\\n        <div class=\"wlist-time\">\\\n            <p class=\"wlist-start\">start: ' + start_date_string + '</p>\\\n            <p class=\"wlist-end\">end: ' + end_date_string + '</p>\\\n        </div>\\\n        </li>')\n        return this;\n    }\n})\n\nvar ProfilGuildView = Backbone.View.extend({\n\n    initialize: function() {\n        this.ProfilIsOpen = false;\n    },\n\n    render: function (e) {\n        var self = this;\n        if (self.ProfilIsOpen == false) {\n            var wars = new Wars()\n            wars.fetch({ data: { guild: $(e.currentTarget).find(\">:first-child\").html() } }).then(function () {\n                self.ProfilIsOpen = true;\n                $(\".Center\").append('<div class=\"PopUp\" id=\"popup-profil\">\\\n                <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"âœ–\"></input>' +\n                    '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-refresh\" value=\"âŸ³\"></input>\\\n                <h2 id=\"title-popup-chatroom-pannel\">' + $(e.currentTarget).find(\">:first-child\").html() + '</h2>\\\n            <img id=\"profil-image-user\" src=\"https://images04.military.com/sites/default/files/styles/full/public/media/news/conflicts/2015/04/pro-russian-tank-600.jpg?itok=FPZYi7nD\">\\\n            <h2>War Historic</h2>\\\n            <ul id=\"guild-war-historic\"></lu>');\n\n            \n\n            wars.each(function (war) {\n                    var warView = new WarView({ model: war, element: e})\n                    $(\"ul#guild-war-historic\").append(warView.render().$el);\n                })\n\n                var removePopup = function () {\n                    self.ProfilIsOpen = false;\n                    $(\".PopUp\").remove()\n                }\n\n                self.mouseIn = false;\n\n                $(\".PopUp\").hover(function () {\n                    self.mouseIn = true;\n                }, function () {\n                    self.mouseIn = false;\n                });\n\n                $(\"body\").mouseup(function () {\n                    if (self.mouseIn == false)\n                        removePopup();\n                });\n\n                $(\"#popup-chatroom-administration-refresh\").click(function () {\n                    this.render();\n                });\n\n                $(\"#popup-chatroom-administration-quit\").click(function () {\n                    removePopup();\n                });\n            });\n        }\n    }\n})\n\nexport { ProfilGuildView }"]},"metadata":{},"sourceType":"module"}