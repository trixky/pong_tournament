{"ast":null,"code":"import { router } from \"../BackboneRouter/application_router\";\nimport { connectedMenu } from \"../BackboneViews/ConnectedView\";\nimport { socialView } from \"../BackboneViews/SocialView\";\nimport { adminContentView } from \"../BackboneViews/AdminView\";\nimport { User } from \"../BackboneModel/user_model\";\n\nvar getUrlParam = function getUrlParam(name) {\n  var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\n  return results[1] || 0;\n};\n\nfunction getCookie(cname) {\n  var name = cname + \"=\";\n  var decodedCookie = decodeURIComponent(document.cookie);\n  var ca = decodedCookie.split(';');\n\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1);\n    }\n\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n\n  return \"\";\n}\n\nfunction imageExists(image_url) {\n  var http = new XMLHttpRequest();\n  http.open('HEAD', image_url, false);\n  http.send();\n  return http.status != 404;\n}\n\nfunction tokenValidity(view) {\n  var user = new User({\n    id: Cookies.get(\"login\")\n  });\n  user.fetch().then(function (res) {\n    if (res[\"error\"] == \"banned\") {\n      router.navigate(\"/banned\", {\n        trigger: true\n      });\n    } else if (res[\"error\"] == \"acces denied\") {\n      router.navigate(\"/acces_denied\", {\n        trigger: true\n      });\n    } else {\n      if (view[0] != adminContentView) {\n        connectedMenu.render();\n        if ($(\".title-notification\").length == 0) socialView.render();\n      }\n\n      view.forEach(function (e) {\n        e.render();\n      });\n    }\n  });\n}\n\nexport { getUrlParam, getCookie, imageExists, tokenValidity };","map":{"version":3,"sources":["/home/mathis/Documents/dernier/app/javascript/utils/utils_1.js"],"names":["router","connectedMenu","socialView","adminContentView","User","getUrlParam","name","results","RegExp","exec","window","location","href","getCookie","cname","decodedCookie","decodeURIComponent","document","cookie","ca","split","i","length","c","charAt","substring","indexOf","imageExists","image_url","http","XMLHttpRequest","open","send","status","tokenValidity","view","user","id","Cookies","get","fetch","then","res","navigate","trigger","render","$","forEach","e"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,sCAArB;AACA,SAAQC,aAAR,QAA4B,gCAA5B;AACA,SAAQC,UAAR,QAAyB,6BAAzB;AACA,SAAQC,gBAAR,QAA+B,4BAA/B;AACA,SAAQC,IAAR,QAAmB,6BAAnB;;AAEA,IAAIC,WAAW,GAAG,SAAdA,WAAc,CAASC,IAAT,EAAc;AAC/B,MAAIC,OAAO,GAAG,IAAIC,MAAJ,CAAW,UAAUF,IAAV,GAAiB,WAA5B,EAAyCG,IAAzC,CAA8CC,MAAM,CAACC,QAAP,CAAgBC,IAA9D,CAAd;AACA,SAAOL,OAAO,CAAC,CAAD,CAAP,IAAc,CAArB;AACA,CAHD;;AAKA,SAASM,SAAT,CAAmBC,KAAnB,EAA0B;AACzB,MAAIR,IAAI,GAAGQ,KAAK,GAAG,GAAnB;AACA,MAAIC,aAAa,GAAGC,kBAAkB,CAACC,QAAQ,CAACC,MAAV,CAAtC;AACA,MAAIC,EAAE,GAAGJ,aAAa,CAACK,KAAd,CAAoB,GAApB,CAAT;;AACA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAEF,EAAE,CAACG,MAArB,EAA6BD,CAAC,EAA9B,EAAkC;AAChC,QAAIE,CAAC,GAAGJ,EAAE,CAACE,CAAD,CAAV;;AACA,WAAOE,CAAC,CAACC,MAAF,CAAS,CAAT,KAAe,GAAtB,EAA2B;AAC5BD,MAAAA,CAAC,GAAGA,CAAC,CAACE,SAAF,CAAY,CAAZ,CAAJ;AACE;;AACD,QAAIF,CAAC,CAACG,OAAF,CAAUpB,IAAV,KAAmB,CAAvB,EAA0B;AAC3B,aAAOiB,CAAC,CAACE,SAAF,CAAYnB,IAAI,CAACgB,MAAjB,EAAyBC,CAAC,CAACD,MAA3B,CAAP;AACE;AACF;;AACD,SAAO,EAAP;AACE;;AAGH,SAASK,WAAT,CAAqBC,SAArB,EAA+B;AAE3B,MAAIC,IAAI,GAAG,IAAIC,cAAJ,EAAX;AAEAD,EAAAA,IAAI,CAACE,IAAL,CAAU,MAAV,EAAkBH,SAAlB,EAA6B,KAA7B;AACAC,EAAAA,IAAI,CAACG,IAAL;AAEA,SAAOH,IAAI,CAACI,MAAL,IAAe,GAAtB;AAEH;;AAED,SAASC,aAAT,CAAuBC,IAAvB,EACA;AAEC,MAAIC,IAAI,GAAG,IAAIhC,IAAJ,CAAS;AAACiC,IAAAA,EAAE,EAAEC,OAAO,CAACC,GAAR,CAAY,OAAZ;AAAL,GAAT,CAAX;AACAH,EAAAA,IAAI,CAACI,KAAL,GAAaC,IAAb,CAAkB,UAACC,GAAD,EAAO;AACxB,QAAIA,GAAG,CAAC,OAAD,CAAH,IAAgB,QAApB,EACA;AACC1C,MAAAA,MAAM,CAAC2C,QAAP,CAAgB,SAAhB,EAA2B;AAACC,QAAAA,OAAO,EAAE;AAAV,OAA3B;AACA,KAHD,MAIK,IAAIF,GAAG,CAAC,OAAD,CAAH,IAAgB,cAApB,EACL;AACC1C,MAAAA,MAAM,CAAC2C,QAAP,CAAgB,eAAhB,EAAiC;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAjC;AACA,KAHI,MAKL;AACC,UAAIT,IAAI,CAAC,CAAD,CAAJ,IAAWhC,gBAAf,EACA;AACCF,QAAAA,aAAa,CAAC4C,MAAd;AACA,YAAIC,CAAC,CAAC,qBAAD,CAAD,CAAyBxB,MAAzB,IAAmC,CAAvC,EACCpB,UAAU,CAAC2C,MAAX;AACD;;AACDV,MAAAA,IAAI,CAACY,OAAL,CAAa,UAACC,CAAD,EAAK;AACjBA,QAAAA,CAAC,CAACH,MAAF;AACA,OAFD;AAGA;AACD,GArBD;AAsBA;;AAED,SAAQxC,WAAR,EAAqBQ,SAArB,EAAgCc,WAAhC,EAA6CO,aAA7C","sourcesContent":["import {router} from \"../BackboneRouter/application_router\"\nimport {connectedMenu} from \"../BackboneViews/ConnectedView\"\nimport {socialView} from \"../BackboneViews/SocialView\"\nimport {adminContentView} from \"../BackboneViews/AdminView\"\nimport {User} from \"../BackboneModel/user_model\"\n\nvar getUrlParam = function(name){\n\tvar results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\n\treturn results[1] || 0;\n}\n\nfunction getCookie(cname) {\n\tvar name = cname + \"=\";\n\tvar decodedCookie = decodeURIComponent(document.cookie);\n\tvar ca = decodedCookie.split(';');\n\tfor(var i = 0; i <ca.length; i++) {\n\t  var c = ca[i];\n\t  while (c.charAt(0) == ' ') {\n\t\tc = c.substring(1);\n\t  }\n\t  if (c.indexOf(name) == 0) {\n\t\treturn c.substring(name.length, c.length);\n\t  }\n\t}\n\treturn \"\";\n  }\n\n\nfunction imageExists(image_url){\n\n    var http = new XMLHttpRequest();\n\n    http.open('HEAD', image_url, false);\n    http.send();\n\n    return http.status != 404;\n\n}\n\nfunction tokenValidity(view)\n{\n\n\tvar user = new User({id: Cookies.get(\"login\")});\n\tuser.fetch().then((res)=>{\n\t\tif (res[\"error\"] == \"banned\")\n\t\t{\n\t\t\trouter.navigate(\"/banned\", {trigger: true});\n\t\t}\n\t\telse if (res[\"error\"] == \"acces denied\")\n\t\t{\n\t\t\trouter.navigate(\"/acces_denied\", {trigger: true});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (view[0] != adminContentView)\n\t\t\t{\n\t\t\t\tconnectedMenu.render();\n\t\t\t\tif ($(\".title-notification\").length == 0)\n\t\t\t\t\tsocialView.render();\n\t\t\t}\n\t\t\tview.forEach((e)=>{\n\t\t\t\te.render();\n\t\t\t});\n\t\t}\n\t})\n}\n\nexport {getUrlParam, getCookie, imageExists, tokenValidity};"]},"metadata":{},"sourceType":"module"}