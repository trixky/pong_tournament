{"ast":null,"code":"import { router } from \"../BackboneRouter/application_router\";\nvar TwoFactorContent = Backbone.View.extend({\n  events: {\n    \"click #authenticate\": \"verifyCode\"\n  },\n  render: function render() {\n    $(\".Menu\").html(\"\\n        <div class=\\\"NavBar\\\">\\n            <h1 id=\\\"title\\\"> Ultimate Pong Tournament </h1>\\n        </div>\\n        \");\n    this.$el.html(\"\\n        <div class=\\\"AuthBox\\\">\\n            <h1> Enter google authentification code to authenticate </h1>\\n            <input id=\\\"authInput\\\" placeholder=\\\"two factor code\\\"/>\\n            <button id=\\\"authenticate\\\">Confirm</button>\\n        </div>\\n        \");\n  },\n  verifyCode: function verifyCode() {\n    axios.get(\"/api/twofactor/\".concat(Cookies.get(\"login\"), \"?code=\").concat($(\"#authInput\").val())).then(function (res) {\n      if (res.data[\"error\"]) {\n        if (!$(\"#errorCreate\").length) $(\".Center\").append(\"\\n                        <p id=\\\"errorCreate\\\"> error: incorrect code </p>\\n                    \");\n      } else router.navigate(\"connected/play\", {\n        trigger: true\n      });\n    });\n  }\n});\nvar twoFactorContent = new TwoFactorContent({\n  el: \".Center\"\n});\nexport { twoFactorContent };","map":{"version":3,"sources":["/home/mathis/Documents/dede/app/javascript/BackboneViews/TwoFactorView.js"],"names":["router","TwoFactorContent","Backbone","View","extend","events","render","$","html","$el","verifyCode","axios","get","Cookies","val","then","res","data","length","append","navigate","trigger","twoFactorContent","el"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,sCAArB;AAEA,IAAIC,gBAAgB,GAAGC,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB;AACxCC,EAAAA,MAAM,EAAE;AACJ,2BAAwB;AADpB,GADgC;AAIxCC,EAAAA,MAAM,EAAE,kBACR;AACIC,IAAAA,CAAC,CAAC,OAAD,CAAD,CAAWC,IAAX;AAKA,SAAKC,GAAL,CAASD,IAAT;AAOH,GAlBuC;AAmBxCE,EAAAA,UAAU,EAAE,sBACZ;AACIC,IAAAA,KAAK,CAACC,GAAN,0BAA4BC,OAAO,CAACD,GAAR,CAAY,OAAZ,CAA5B,mBAAyDL,CAAC,CAAC,YAAD,CAAD,CAAgBO,GAAhB,EAAzD,GAAkFC,IAAlF,CAAuF,UAACC,GAAD,EACvF;AACI,UAAIA,GAAG,CAACC,IAAJ,CAAS,OAAT,CAAJ,EACA;AACI,YAAI,CAACV,CAAC,CAAC,cAAD,CAAD,CAAkBW,MAAvB,EACIX,CAAC,CAAC,SAAD,CAAD,CAAaY,MAAb;AAGP,OAND,MAQInB,MAAM,CAACoB,QAAP,CAAgB,gBAAhB,EAAkC;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAlC;AACP,KAXD;AAYH;AAjCuC,CAArB,CAAvB;AAoCA,IAAIC,gBAAgB,GAAG,IAAIrB,gBAAJ,CAAqB;AAACsB,EAAAA,EAAE,EAAE;AAAL,CAArB,CAAvB;AAEA,SAAQD,gBAAR","sourcesContent":["import {router} from \"../BackboneRouter/application_router\"\n\nvar TwoFactorContent = Backbone.View.extend({\n    events: {\n        \"click #authenticate\" : \"verifyCode\"\n    },\n    render: function ()\n    {\n        $(\".Menu\").html(`\n        <div class=\"NavBar\">\n            <h1 id=\"title\"> Ultimate Pong Tournament </h1>\n        </div>\n        `)\n        this.$el.html(`\n        <div class=\"AuthBox\">\n            <h1> Enter google authentification code to authenticate </h1>\n            <input id=\"authInput\" placeholder=\"two factor code\"/>\n            <button id=\"authenticate\">Confirm</button>\n        </div>\n        `)\n    },\n    verifyCode: function ()\n    {\n        axios.get(`/api/twofactor/${Cookies.get(\"login\")}?code=${$(\"#authInput\").val()}`).then((res)=>\n        {\n            if (res.data[\"error\"])\n            {\n                if (!$(\"#errorCreate\").length)\n                    $(\".Center\").append(`\n                        <p id=\"errorCreate\"> error: incorrect code </p>\n                    `)\n            }\n            else\n                router.navigate(\"connected/play\", {trigger: true});\n        });\n    }\n});\n\nvar twoFactorContent = new TwoFactorContent({el: \".Center\"});\n\nexport {twoFactorContent}\n"]},"metadata":{},"sourceType":"module"}