{"ast":null,"code":"import { Users, User, UsersCollection } from \"../BackboneModel/user_model\";\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\";\nimport { Chatroom } from \"../BackboneModel/chat_list_model\";\nvar AdminChatroomPannelView = Backbone.View.extend({\n  render: function render(self, e) {\n    if (self.panelChatroomAdminIsOpen == false) {\n      self.panelChatroomAdminIsOpen = true;\n      $(\".Center\").append('<div class=\"PopUp\" id=\"popup-chatroom-administration\">\\\n            <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"âœ–\"></input>' + ($(e.currentTarget).html() == 'â™”' ? '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-delete\" value=\"ðŸ—‘\"></input>' : '') + '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-refresh\" value=\"âŸ³\"></input>\\\n            <h2 id=\"title-popup-chatroom-pannel\">' + $(e.currentTarget).prev().html() + '</h2>\\\n            <div id=\"owner-input-chat-controller-pannel\">\\\n            </div>\\\n            <ul id=\"pseudo-list-adminstation-list\">\\\n            </ul>\\\n            </div>');\n\n      if ($(e.currentTarget).html() == 'â™”') {\n        $(\"#owner-input-chat-controller-pannel\").append('<input type=\"password\" id=\"picpc-1\" placeholder=\"current password  (to change an old password)\"></input>\\\n                <input type=\"password\" id=\"picpc-2\" placeholder=\"new password\"></input>\\\n                <input type=\"password\" id=\"picpc-3\" placeholder=\"new password  (again)\"></input>\\\n                <p id=\"nacp\" >need actual password for change the password</p>\\\n                <input type=\"button\" class=\"social-hover\" id=\"cap-input-1\" value=\"add/change password\"></input>\\\n                <input type=\"button\" class=\"social-hover\" id=\"cap-input-2\" value=\"remove password\"></input>');\n      } else {\n        $(\"#owner-input-chat-controller-pannel\").remove();\n      }\n\n      var refreshList = function refreshList() {\n        var users = new UsersCollection();\n        users.fetch({\n          data: {\n            findby: \"chatroom\",\n            value: $(e.currentTarget).prev().html()\n          }\n        }).then(function () {\n          $(\"#pseudo-list-adminstation-list\").html('');\n          users.each(function (user) {\n            var bandate = user.get(\"bandate\");\n            if (bandate == null) date_string = \"--/--/---\";else {\n              var date = new Date(bandate);\n              var date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear();\n            }\n            $(\"#pseudo-list-adminstation-list\").append('<li class=\"user-li\">\\\n                    <p class=\"pseudo-adminstation-list\">' + user.get(\"pseudo\") + '</p>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-3 social-hover\" value=\"â™™\"' + (!user.get(\"admin\") ? 'style=\"background:yellow;\"' : '') + ' ' + (user.get(\"owner\") ? 'disabled' : '') + '></input>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-4 social-hover\" value=\"â™—\"' + (user.get(\"admin\") ? 'style=\"background:yellow;\"' : '') + ' ' + (user.get(\"owner\") ? 'disabled' : '') + '></input>\\\n                            <p class=\"date-adminstation-list\">' + date_string + '</p>\\\n                            <input type=\"date\" class=\"li-chat-adm cap-input-5\"' + (user.get(\"admin\") ? 'disabled' : '') + '></input>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-6 social-hover\" value=\"ban\"' + (user.get(\"admin\") ? 'disabled' : '') + '></input>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-7 social-hover\" value=\"unban\"' + (user.get(\"admin\") ? 'disabled' : '') + '></input>\\\n                        </li>');\n          });\n          $(\"#cap-input-1\").click(function (ee) {\n            var chatroom = new Chatroom({\n              id: $(\"#title-popup-chatroom-pannel\").html()\n            });\n            chatroom.save({\n              change_add_password: true,\n              older: $(\"#picpc-1\").val(),\n              new_1: $(\"#picpc-2\").val(),\n              new_2: $(\"#picpc-3\").val()\n            }).then(function () {\n              refreshList();\n              $(\"#picpc-1\").val('');\n              $(\"#picpc-2\").val('');\n              $(\"#picpc-3\").val('');\n            });\n          });\n          $(\"#cap-input-2\").click(function (ee) {\n            var chatroom = new Chatroom({\n              id: $(\"#title-popup-chatroom-pannel\").html()\n            });\n            chatroom.save({\n              remove_password: true\n            }).then(function () {\n              refreshList();\n            });\n          });\n          $(\".cap-input-3\").click(function (ee) {\n            var usersChatroom = new UsersChatroom();\n            usersChatroom.save({\n              id: $(e.currentTarget).prev().html(),\n              pseudo: $(ee.currentTarget).prev().html(),\n              admin: false\n            }).then(function () {\n              refreshList();\n            });\n          });\n          $(\".cap-input-4\").click(function (ee) {\n            var usersChatroom = new UsersChatroom();\n            usersChatroom.save({\n              id: $(e.currentTarget).prev().html(),\n              pseudo: $(ee.currentTarget).prev().prev().html(),\n              admin: true\n            }).then(function () {\n              refreshList();\n            });\n          });\n          $(\".cap-input-6\").click(function (ee) {\n            var usersChatroom = new UsersChatroom();\n            usersChatroom.save({\n              id: $(e.currentTarget).prev().html(),\n              pseudo: $(ee.currentTarget).prev().prev().prev().prev().prev().html(),\n              bandate: $(ee.currentTarget).prev().val()\n            }).then(function () {\n              refreshList();\n            });\n          });\n          $(\".cap-input-7\").click(function (ee) {\n            var usersChatroom = new UsersChatroom();\n            usersChatroom.save({\n              id: $(e.currentTarget).prev().html(),\n              pseudo: $(ee.currentTarget).prev().prev().prev().prev().prev().prev().html(),\n              annule_bandate: true\n            }).then(function () {\n              refreshList();\n            });\n          });\n        });\n      };\n\n      var removePopup = function removePopup() {\n        self.panelChatroomAdminIsOpen = false;\n        $(\".PopUp\").remove();\n      };\n\n      refreshList();\n      self.mouseIn = false;\n      $(\".PopUp\").hover(function () {\n        self.mouseIn = true;\n      }, function () {\n        self.mouseIn = false;\n      });\n      $(\"body\").mouseup(function () {\n        if (self.mouseIn == false) removePopup();\n      });\n      $(\"#popup-chatroom-administration-refresh\").click(function () {\n        refreshList();\n      });\n      $(\"#popup-chatroom-administration-quit\").click(function () {\n        removePopup();\n      });\n      $(\"#popup-chatroom-administration-delete\").click(function () {\n        var chatroom = new Chatroom();\n        chatroom.set({\n          id: $(\"#title-popup-chatroom-pannel\").html()\n        });\n        chatroom.fetch().then(function () {\n          chatroom.destroy().then(function () {\n            self.bus.trigger(\"leaveChatroom\", $(\"#title-popup-chatroom-pannel\").html());\n            self.render();\n            removePopup();\n          });\n        });\n      });\n    }\n  }\n});\nexport { AdminChatroomPannelView };","map":{"version":3,"sources":["/home/mathis/Documents/final/app/javascript/BackboneViews/AdminChatroomPannelView.js"],"names":["Users","User","UsersCollection","UsersChatroom","Chatroom","AdminChatroomPannelView","Backbone","View","extend","render","self","e","panelChatroomAdminIsOpen","$","append","currentTarget","html","prev","remove","refreshList","users","fetch","data","findby","value","then","each","user","bandate","get","date_string","date","Date","getDate","getMonth","getFullYear","click","ee","chatroom","id","save","change_add_password","older","val","new_1","new_2","remove_password","usersChatroom","pseudo","admin","annule_bandate","removePopup","mouseIn","hover","mouseup","set","destroy","bus","trigger"],"mappings":"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","sourcesContent":["import { Users, User , UsersCollection} from \"../BackboneModel/user_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\"\nimport { Chatroom } from \"../BackboneModel/chat_list_model\"\n\n\nvar AdminChatroomPannelView = Backbone.View.extend({\n    render: function (self, e) {\n        if (self.panelChatroomAdminIsOpen == false) {\n            self.panelChatroomAdminIsOpen = true;\n            $(\".Center\").append('<div class=\"PopUp\" id=\"popup-chatroom-administration\">\\\n            <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"âœ–\"></input>' +\n                ($(e.currentTarget).html() == 'â™”' ? '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-delete\" value=\"ðŸ—‘\"></input>' : '') +\n                '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-refresh\" value=\"âŸ³\"></input>\\\n            <h2 id=\"title-popup-chatroom-pannel\">' + $(e.currentTarget).prev().html() + '</h2>\\\n            <div id=\"owner-input-chat-controller-pannel\">\\\n            </div>\\\n            <ul id=\"pseudo-list-adminstation-list\">\\\n            </ul>\\\n            </div>');\n            if ($(e.currentTarget).html() == 'â™”') {\n                $(\"#owner-input-chat-controller-pannel\").append('<input type=\"password\" id=\"picpc-1\" placeholder=\"current password  (to change an old password)\"></input>\\\n                <input type=\"password\" id=\"picpc-2\" placeholder=\"new password\"></input>\\\n                <input type=\"password\" id=\"picpc-3\" placeholder=\"new password  (again)\"></input>\\\n                <p id=\"nacp\" >need actual password for change the password</p>\\\n                <input type=\"button\" class=\"social-hover\" id=\"cap-input-1\" value=\"add/change password\"></input>\\\n                <input type=\"button\" class=\"social-hover\" id=\"cap-input-2\" value=\"remove password\"></input>');\n            } else {\n                $(\"#owner-input-chat-controller-pannel\").remove()\n            }\n\n            var refreshList = function () {\n                var users = new UsersCollection();\n                users.fetch({ data: { findby: \"chatroom\", value: $(e.currentTarget).prev().html() } }).then(function () {\n                    $(\"#pseudo-list-adminstation-list\").html('')\n                    users.each(function (user) {\n                        var bandate = user.get(\"bandate\");\n                        if (bandate == null)\n                            date_string = \"--/--/---\";\n                        else {\n                            var date = new Date(bandate);\n                            var date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear();\n                        }\n                        $(\"#pseudo-list-adminstation-list\").append('<li class=\"user-li\">\\\n                    <p class=\"pseudo-adminstation-list\">' + user.get(\"pseudo\") + '</p>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-3 social-hover\" value=\"â™™\"' + (!user.get(\"admin\") ? 'style=\"background:yellow;\"' : '') + ' ' + (user.get(\"owner\") ? 'disabled' : '') + '></input>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-4 social-hover\" value=\"â™—\"' + (user.get(\"admin\") ? 'style=\"background:yellow;\"' : '') + ' ' + (user.get(\"owner\") ? 'disabled' : '') + '></input>\\\n                            <p class=\"date-adminstation-list\">' + date_string + '</p>\\\n                            <input type=\"date\" class=\"li-chat-adm cap-input-5\"' + (user.get(\"admin\") ? 'disabled' : '') + '></input>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-6 social-hover\" value=\"ban\"' + (user.get(\"admin\") ? 'disabled' : '') + '></input>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-7 social-hover\" value=\"unban\"' + (user.get(\"admin\") ? 'disabled' : '') + '></input>\\\n                        </li>');\n                    })\n                    $(\"#cap-input-1\").click(function (ee) {\n                        var chatroom = new Chatroom({ id: $(\"#title-popup-chatroom-pannel\").html() });\n                        chatroom.save({\n                            change_add_password: true,\n                            older: $(\"#picpc-1\").val(),\n                            new_1: $(\"#picpc-2\").val(),\n                            new_2: $(\"#picpc-3\").val()\n                        }).then(function () {\n                            refreshList();\n                            $(\"#picpc-1\").val('')\n                            $(\"#picpc-2\").val('')\n                            $(\"#picpc-3\").val('')\n                        })\n                    })\n                    $(\"#cap-input-2\").click(function (ee) {\n                        var chatroom = new Chatroom({ id: $(\"#title-popup-chatroom-pannel\").html() });\n                        chatroom.save({ remove_password: true }).then(function () {\n                            refreshList();\n                        })\n                    })\n                    $(\".cap-input-3\").click(function (ee) {\n                        var usersChatroom = new UsersChatroom();\n                        usersChatroom.save({ id: $(e.currentTarget).prev().html(), pseudo: $(ee.currentTarget).prev().html(), admin: false }).then(function () {\n                            refreshList();\n                        })\n                    })\n                    $(\".cap-input-4\").click(function (ee) {\n                        var usersChatroom = new UsersChatroom();\n                        usersChatroom.save({ id: $(e.currentTarget).prev().html(), pseudo: $(ee.currentTarget).prev().prev().html(), admin: true }).then(function () {\n                            refreshList();\n                        })\n                    })\n                    $(\".cap-input-6\").click(function (ee) {\n                        var usersChatroom = new UsersChatroom();\n                        usersChatroom.save({ id: $(e.currentTarget).prev().html(), pseudo: $(ee.currentTarget).prev().prev().prev().prev().prev().html(), bandate: $(ee.currentTarget).prev().val() }).then(function () {\n                            refreshList();\n                        })\n                    })\n                    $(\".cap-input-7\").click(function (ee) {\n                        var usersChatroom = new UsersChatroom();\n                        usersChatroom.save({ id: $(e.currentTarget).prev().html(), pseudo: $(ee.currentTarget).prev().prev().prev().prev().prev().prev().html(), annule_bandate: true }).then(function () {\n                            refreshList();\n                        })\n                    })\n                })\n            };\n\n            var removePopup = function () {\n                self.panelChatroomAdminIsOpen = false;\n                $(\".PopUp\").remove()\n            }\n\n            refreshList();\n\n            self.mouseIn = false;\n\n            $(\".PopUp\").hover(function () {\n                self.mouseIn = true;\n            }, function () {\n                self.mouseIn = false;\n            });\n\n            $(\"body\").mouseup(function () {\n                if (self.mouseIn == false)\n                    removePopup();\n            });\n\n            $(\"#popup-chatroom-administration-refresh\").click(function () {\n                refreshList();\n            });\n\n            $(\"#popup-chatroom-administration-quit\").click(function () {\n                removePopup();\n            });\n\n            $(\"#popup-chatroom-administration-delete\").click(function () {\n                var chatroom = new Chatroom();\n                chatroom.set({ id: $(\"#title-popup-chatroom-pannel\").html() })\n                chatroom.fetch().then(function () {\n                    chatroom.destroy().then(function () {\n\n\n                        self.bus.trigger(\"leaveChatroom\", $(\"#title-popup-chatroom-pannel\").html())\n                        self.render();\n                        removePopup();\n                    })\n                })\n            });\n        }\n    }\n})\n\nexport { AdminChatroomPannelView }"]},"metadata":{},"sourceType":"module"}