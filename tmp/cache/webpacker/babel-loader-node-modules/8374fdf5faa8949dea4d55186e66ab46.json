{"ast":null,"code":"import { router } from \"../BackboneRouter/application_router\";\nimport { User } from \"../BackboneModel/user_model\";\nimport { getUrlParam } from \"../utils/utils_1\";\nvar CreateUserContent = Backbone.View.extend({\n  events: {\n    \"click #registerButton\": \"registerUser\"\n  },\n  render: function render() {\n    this.$el.html(\"\\n        <div id=\\\"flex_div\\\">\\n            <h1> Create User </h1>\\n            <input id=\\\"pseudo\\\" placeholder=\\\"pseudo\\\"/>\\n            <button id=\\\"registerButton\\\"> create </button>\\n        </div>\\n        \");\n    return this;\n  },\n  registerUser: function registerUser() {\n    if ($(\"#pseudo\").val().length < 3) {\n      if ($(\"#errorCreate\").length == 0) $(\".Center\").append(\"<p id=\\\"errorCreate\\\"> The user pseudo must be at least 3 character </p>\");\n      return;\n    }\n\n    var user = new User({\n      login: Cookies.get(\"login\"),\n      pseudo: $(\"#pseudo\").val()\n    });\n    user.save(null, {\n      success: function success(res) {\n        if (res.attributes.error) {\n          if (!$(\"#errorCreate\").length) $(\".Center\").append(\"<p id=\\\"errorCreate\\\"> error: Username already exist in the database </p>\");\n        } else {\n          Cookies.set(\"id\", res.attributes[\"id\"]);\n          router.navigate(\"/connected/play\", {\n            trigger: true\n          });\n        }\n      }\n    });\n  }\n});\nvar CreateUserMenu = Backbone.View.extend({\n  render: function render() {\n    this.$el.html(\" <div class=\\\"NavBar\\\">\\n            <h1 id=\\\"title\\\"> Ultimate Pong Tournament </h1>\\n        </div>\");\n    return this;\n  },\n  home: function home() {\n    router.navigate(\"\", {\n      trigger: true\n    });\n  }\n});\nvar createUserContent = new CreateUserContent({\n  el: \".Center\"\n});\nvar createUserMenu = new CreateUserMenu({\n  el: \".Menu\"\n});\nexport { createUserContent, createUserMenu };","map":{"version":3,"sources":["/home/mathis/Documents/final/app/javascript/BackboneViews/CreateUserView.js"],"names":["router","User","getUrlParam","CreateUserContent","Backbone","View","extend","events","render","$el","html","registerUser","$","val","length","append","user","login","Cookies","get","pseudo","save","success","res","attributes","error","set","navigate","trigger","CreateUserMenu","home","createUserContent","el","createUserMenu"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,sCAArB;AACA,SAAQC,IAAR,QAAmB,6BAAnB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AAEA,IAAIC,iBAAiB,GAAGC,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB;AACzCC,EAAAA,MAAM,EACN;AACI,6BAA0B;AAD9B,GAFyC;AAKzCC,EAAAA,MAAM,EAAG,kBACT;AACI,SAAKC,GAAL,CAASC,IAAT;AAOA,WAAO,IAAP;AACH,GAfwC;AAgBzCC,EAAAA,YAAY,EAAE,wBACd;AACI,QAAIC,CAAC,CAAC,SAAD,CAAD,CAAaC,GAAb,GAAmBC,MAAnB,GAA4B,CAAhC,EACA;AACI,UAAIF,CAAC,CAAC,cAAD,CAAD,CAAkBE,MAAlB,IAA4B,CAAhC,EACIF,CAAC,CAAC,SAAD,CAAD,CAAaG,MAAb;AACJ;AACH;;AACD,QAAIC,IAAI,GAAG,IAAIf,IAAJ,CAAS;AAACgB,MAAAA,KAAK,EAAEC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAR;AAA8BC,MAAAA,MAAM,EAAER,CAAC,CAAC,SAAD,CAAD,CAAaC,GAAb;AAAtC,KAAT,CAAX;AACAG,IAAAA,IAAI,CAACK,IAAL,CAAU,IAAV,EAAgB;AACZC,MAAAA,OAAO,EAAG,iBAACC,GAAD,EAAO;AACb,YAAIA,GAAG,CAACC,UAAJ,CAAeC,KAAnB,EACA;AACI,cAAI,CAACb,CAAC,CAAC,cAAD,CAAD,CAAkBE,MAAvB,EACIF,CAAC,CAAC,SAAD,CAAD,CAAaG,MAAb;AACP,SAJD,MAMA;AACIG,UAAAA,OAAO,CAACQ,GAAR,CAAY,IAAZ,EAAkBH,GAAG,CAACC,UAAJ,CAAe,IAAf,CAAlB;AACAxB,UAAAA,MAAM,CAAC2B,QAAP,CAAgB,iBAAhB,EAAmC;AAACC,YAAAA,OAAO,EAAE;AAAV,WAAnC;AACH;AACJ;AAZW,KAAhB;AAcH;AAvCwC,CAArB,CAAxB;AA0CA,IAAIC,cAAc,GAAGzB,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB;AACtCE,EAAAA,MAAM,EAAG,kBACT;AACI,SAAKC,GAAL,CAASC,IAAT;AAGA,WAAO,IAAP;AACH,GAPqC;AAQtCoB,EAAAA,IAAI,EAAE,gBACN;AACI9B,IAAAA,MAAM,CAAC2B,QAAP,CAAgB,EAAhB,EAAoB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAApB;AACH;AAXqC,CAArB,CAArB;AAcA,IAAIG,iBAAiB,GAAG,IAAI5B,iBAAJ,CAAsB;AAAC6B,EAAAA,EAAE,EAAE;AAAL,CAAtB,CAAxB;AACA,IAAIC,cAAc,GAAG,IAAIJ,cAAJ,CAAmB;AAACG,EAAAA,EAAE,EAAE;AAAL,CAAnB,CAArB;AAEA,SAAQD,iBAAR,EAA2BE,cAA3B","sourcesContent":["import {router} from \"../BackboneRouter/application_router\";\nimport {User} from \"../BackboneModel/user_model\"\nimport {getUrlParam} from \"../utils/utils_1\"\n\nvar CreateUserContent = Backbone.View.extend({\n    events:\n    {\n        \"click #registerButton\" : \"registerUser\",\n    },\n    render : function()\n    {\n        this.$el.html(`\n        <div id=\"flex_div\">\n            <h1> Create User </h1>\n            <input id=\"pseudo\" placeholder=\"pseudo\"/>\n            <button id=\"registerButton\"> create </button>\n        </div>\n        `);\n        return this;\n    },\n    registerUser: function()\n    {\n        if ($(\"#pseudo\").val().length < 3)\n        {\n            if ($(\"#errorCreate\").length == 0)\n                $(\".Center\").append(`<p id=\"errorCreate\"> The user pseudo must be at least 3 character </p>`);\n            return ;\n        }\n        var user = new User({login: Cookies.get(\"login\"), pseudo: $(\"#pseudo\").val()});\n        user.save(null, {\n            success : (res)=>{\n                if (res.attributes.error)\n                {\n                    if (!$(\"#errorCreate\").length)\n                        $(\".Center\").append(`<p id=\"errorCreate\"> error: Username already exist in the database </p>`)\n                }\n                else\n                {\n                    Cookies.set(\"id\", res.attributes[\"id\"])\n                    router.navigate(\"/connected/play\", {trigger: true})\n                }\n            }\n        });\n    }\n})\n\nvar CreateUserMenu = Backbone.View.extend({\n    render : function()\n    {\n        this.$el.html(` <div class=\"NavBar\">\n            <h1 id=\"title\"> Ultimate Pong Tournament </h1>\n        </div>`);\n        return this;\n    },\n    home: function ()\n    {\n        router.navigate(\"\", {trigger: true})\n    }\n})\n\nvar createUserContent = new CreateUserContent({el: \".Center\"});\nvar createUserMenu = new CreateUserMenu({el: \".Menu\"});\n\nexport {createUserContent, createUserMenu}"]},"metadata":{},"sourceType":"module"}