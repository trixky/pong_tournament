{"ast":null,"code":"import { usersCollection, User } from \"../BackboneModel/user_model\";\nimport { guildCollection } from \"../BackboneModel/guild_model\";\nimport { Chatrooms } from \"../BackboneModel/chat_list_model\";\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\";\nimport { router } from \"../BackboneRouter/application_router\";\nimport { Tournament, Tournaments } from \"../BackboneModel/tournament_model\";\nimport { AdminTournamentPannelView_generated } from \"../BackboneViews/AdminTournamentPannelView\";\nvar AdminContentView = Backbone.View.extend({\n  events: {\n    \"keyup #adminSearch\": \"updateList\",\n    \"change #selectValAdmin\": \"updateList\",\n    \"click .adminBox\": \"handleClick\",\n    \"click #quitPopUpAdmin\": \"removePopUp\",\n    \"click #confirmAdmin\": \"confirm\",\n    \"keyup #c\": \"updateMemberList\",\n    \"click .adminMemberBox\": \"handleMemberClick\",\n    \"keyup #adminChatSearch\": \"updateChatroomUserList\",\n    \"click #chatAdminBox\": \"handleChatClick\"\n  },\n  initialize: function initialize() {\n    this.adminTournamentPannelView = AdminTournamentPannelView_generated;\n  },\n  render: function render() {\n    var _this = this;\n\n    var self = this;\n    self.panelTournamentAdminIsOpen = false;\n    axios.get(\"/api/users/\".concat(Cookies.get(\"login\"))).then(function (res) {\n      if (res.data.admin == false) {\n        $(\".social\").empty();\n        $(\".Menu\").empty();\n        $(\".Center\").html(\"\\n\\t\\t\\t\\t<div id=\\\"confirmDiv\\\">\\n\\t\\t\\t\\t\\t<h1> ERROR: YOU NEED TO BE AN ADMIN TO ACCESS THIS PAGE </h1>\\n\\t\\t\\t\\t\\t<h1> Click <span id=\\\"loginSpan\\\"> here </span> to go to login page </h1>\\n\\t\\t\\t\\t</div>\");\n        $(\"body\").append(\"<div class=\\\"BackClick\\\"></div>\");\n        $(\"#loginSpan\").click(function () {\n          $(\".BackClick\").remove();\n          $(\"#confirmDiv\").remove();\n          $(\".Menu\").css({\n            \"background-color\": \"black\"\n          });\n          router.navigate(\"\", {\n            trigger: true\n          });\n        });\n      } else {\n        _this.$el.html(\"\\n                <div id=\\\"select\\\">\\n                <select id=\\\"selectValAdmin\\\">\\n                    <option value=\\\"0\\\">users</option>\\n                    <option value=\\\"1\\\">guilds</option>\\n                    <option value=\\\"2\\\">chatrooms</option>\\n                    <option value=\\\"3\\\">tournaments</option>\\n                </select>\\n                </div>\\n                <input id=\\\"adminSearch\\\"/>\\n                <div id=\\\"listAdmin\\\"> </div>\\n                \");\n\n        $(\"#selectValAdmin\").css({\n          \"background-color\": \"#0356fc\"\n        });\n\n        _this.updateList();\n      }\n\n      return _this;\n    });\n  },\n  updateList: function updateList() {\n    var self = this;\n    $(\"#listAdmin\").empty();\n\n    if ($(\"#selectValAdmin option:selected\").text() == \"users\") {\n      usersCollection.fetch({\n        data: {\n          pseudo: $(\"#adminSearch\").val()\n        }\n      }).then(function (res) {\n        usersCollection.each(function (model) {\n          $(\"#listAdmin\").append(\"\\n                    <div class=\\\"adminBox\\\">\\n                        <p id=\\\"login\\\">\".concat(model.attributes[\"login\"], \"</p>\\n                        <p id=\\\"pseudo\\\">\").concat(model.attributes[\"pseudo\"], \"</p>\\n                    </div>\\n                    \"));\n        });\n      });\n    } else if ($(\"#selectValAdmin option:selected\").text() == \"guilds\") {\n      guildCollection.fetch({\n        data: {\n          name: $(\"#adminSearch\").val(),\n          admin: true\n        }\n      }).then(function (res) {\n        guildCollection.each(function (model) {\n          $(\"#listAdmin\").append(\"\\n                    <div class=\\\"adminBox\\\" id=\".concat(model.attributes[\"id\"], \">\\n                        <p id=\\\"name\\\">\").concat(model.attributes[\"name\"], \"</p>\\n                        <p id=\\\"anagram\\\">\").concat(model.attributes[\"anagram\"], \"</p>\\n                        <p>\").concat(model.attributes[\"points\"], \"</p>\\n                    </div>\\n                    \"));\n        });\n      });\n    } else if ($(\"#selectValAdmin option:selected\").text() == \"chatrooms\") {\n      var chatrooms = new Chatrooms();\n      chatrooms.fetch({\n        data: {\n          search_entry: $(\"#adminSearch\").val(),\n          admin: true\n        }\n      }).then(function (res) {\n        chatrooms.each(function (model) {\n          $(\"#listAdmin\").append(\"\\n                    <div class=\\\"adminBox\\\" id=\".concat(model.attributes[\"id\"], \">\\n                        <p id=\\\"name\\\">\").concat(model.attributes[\"name\"], \"</p>\\n                    </div>\\n                    \"));\n        });\n      });\n    } else if ($(\"#selectValAdmin option:selected\").text() == \"tournaments\") {\n      var tournaments = new Tournaments();\n      tournaments.fetch({\n        data: {\n          name: $(\"#adminSearch\").val()\n        }\n      }).then(function () {\n        $(\"#listAdmin\").html('<div id=\"list-tournament\"></div>');\n        tournaments.each(function (model) {\n          var date_start = new Date(model.attributes[\"start_at\"]);\n          var date_start_string = date_start.getDate() + '/' + date_start.getMonth() + '/' + date_start.getFullYear() + '  ' + date_start.getHours() + ':' + date_start.getMinutes();\n          var date_end = new Date(model.attributes[\"end_at\"]);\n          var date_end_string = date_end.getDate() + '/' + date_end.getMonth() + '/' + date_end.getFullYear() + '  ' + date_end.getHours() + ':' + date_end.getMinutes();\n          $(\"#list-tournament\").append('<div class=\"adminBox-tab\">\\\n                    <p class=\"tab-name\">' + model.attributes[\"name\"] + '</p>\\\n                    <p class=\"tab-time\">[' + date_start_string + ' - ' + date_end_string + ']</p>\\\n                    </div>');\n        });\n        $(\"#listAdmin\").append('<div class=\"create-tournament\">\\\n                    <h2>create new tournament</h2>\\\n                    <p class=\"create-tournament-input-p\">regisration start:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-1\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">regisration end:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-2\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">tournament start:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-3\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">tournament end:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-4\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">prize</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-5\" type=\"number\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">name</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-6\" type=\"texte\"></input>\\\n                    <br>\\\n                    <input id=\"button-create-tournament\" class=\"create-tournament-input\" type=\"button\" value=\"create\">\\\n                </div>');\n        $(\"#button-create-tournament\").click(function () {\n          if ($(\"#create-tournament-input-1\").val() != '' && $(\"#create-tournament-input-2\").val() != '' && $(\"#create-tournament-input-3\").val() != '' && $(\"#create-tournament-input-4\").val() != '') {\n            var tournament = new Tournament({\n              start_registration: $(\"#create-tournament-input-1\").val(),\n              end_registration: $(\"#create-tournament-input-2\").val(),\n              start_at: $(\"#create-tournament-input-3\").val(),\n              end_at: $(\"#create-tournament-input-4\").val(),\n              prize: $(\"#create-tournament-input-5\").val(),\n              name: $(\"#create-tournament-input-6\").val()\n            });\n            tournament.save().then(function (res) {\n              if (res[\"res\"] != \"success\") {\n                alert(res[\"res\"]);\n              }\n\n              self.updateList();\n            });\n          }\n        });\n        $(\".adminBox-tab\").click(function (e) {\n          self.adminTournamentPannelView.render(self, e);\n        });\n      });\n    }\n  },\n  handleClick: function handleClick(e) {\n    var _this2 = this;\n\n    if ($(\"#selectValAdmin option:selected\").text() == \"users\" && $(\".PopUp\").length == 0) {\n      $(\"body\").append(\"<div class=\\\"BackClick\\\"></div>\");\n      $(\".BackClick\").click(function () {\n        _this2.removePopUp();\n      });\n      this.login = e.currentTarget.querySelector(\"#login\").innerHTML;\n      $(\".Center\").append(\"\\n            <div class=\\\"PopUp\\\" id=\\\"PopUpAdmin\\\">\\n            <p class=\\\"QuitPopUp\\\" id=\\\"quitPopUpAdmin\\\">\\u274C</p>\\n            <h1>login: \".concat(e.currentTarget.querySelector(\"#login\").innerHTML, \"</h1>\\n            <h1>pseudo: \").concat(e.currentTarget.querySelector(\"#pseudo\").innerHTML, \"</h1>\\n            <div class=\\\"AdminCheckBox\\\">\\n            <h1> Ban user </h1>\\n            <input id=\\\"banUserCheck\\\" type=\\\"checkbox\\\"/>\\n            </div>\\n            <button id=\\\"confirmAdmin\\\"> confirm </button>\\n            </div>\\n            \"));\n      var user = new User();\n      user.set({\n        id: e.currentTarget.querySelector(\"#login\").innerHTML\n      });\n      user.fetch().then(function (res) {\n        if (res[\"ban\"] == \"true\") {\n          $('#banUserCheck').prop('checked', true);\n        }\n      });\n    } else if ($(\"#selectValAdmin option:selected\").text() == \"guilds\" && $(\".PopUp\").length == 0) {\n      $(\"body\").append(\"<div class=\\\"BackClick\\\"></div>\");\n      $(\".BackClick\").click(function () {\n        _this2.removePopUp();\n      });\n      this.guildId = $(e.currentTarget).attr(\"id\");\n      $(\"body\").append(\"<div class=\\\"BackClick\\\"></div>\");\n      $(\".BackClick\").click(function () {\n        _this2.removePopUp();\n      });\n      $(\".Center\").append(\"\\n            <div class=\\\"PopUp\\\" id=\\\"PopUpAdmin\\\">\\n            <p class=\\\"QuitPopUp\\\" id=\\\"quitPopUpAdmin\\\">\\u274C</p>\\n            <h1>name: \".concat(e.currentTarget.querySelector(\"#name\").innerHTML, \"</h1>\\n            <h1>anagram: \").concat(e.currentTarget.querySelector(\"#anagram\").innerHTML, \"</h1>\\n            <input placeholder=\\\"search for guild member\\\" id=\\\"adminGuildSearch\\\"/>\\n            <div id=\\\"listGuildAdmin\\\"></div>\\n            </div>\\n            \"));\n      this.updateMemberList();\n    } else if ($(\"#selectValAdmin option:selected\").text() == \"chatrooms\" && $(\".PopUp\").length == 0) {\n      $(\"body\").append(\"<div class=\\\"BackClick\\\"></div>\");\n      $(\".BackClick\").click(function () {\n        _this2.removePopUp();\n      });\n      $(\".Center\").append(\"\\n            <div class=\\\"PopUp\\\" id=\\\"PopUpAdmin\\\">\\n            <p class=\\\"QuitPopUp\\\" id=\\\"quitPopUpAdmin\\\">\\u274C</p>\\n            <h1>\".concat(e.currentTarget.querySelector(\"#name\").innerHTML, \"</h1>\\n            <input placeholder=\\\"search for chatroom member\\\" id=\\\"adminChatSearch\\\"/>\\n            <div id=\\\"listChatAdmin\\\"></div>\\n            </div>\"));\n      this.chatroom = e.currentTarget.querySelector(\"#name\").innerHTML;\n      this.updateChatroomUserList();\n    }\n  },\n  removePopUp: function removePopUp() {\n    $(\".PopUp\").remove();\n    $(\".BackClick\").remove();\n  },\n  confirm: function confirm() {\n    var _this3 = this;\n\n    var user = new User({\n      id: this.login\n    });\n    var banned;\n    if ($('#banUserCheck').prop('checked')) banned = \"true\";else banned = \"false\";\n    user.fetch().then(function () {\n      user.set({\n        banned: banned\n      });\n      user.save();\n\n      _this3.removePopUp();\n    });\n  },\n  updateMemberList: function updateMemberList() {\n    axios.get(\"/api/guilds/\".concat(this.guildId, \"?pseudo=\").concat($(\"#adminGuildSearch\").val(), \"&admin=true\")).then(function (res) {\n      var object = JSON.parse(res[\"request\"].response);\n      $(\"#listGuildAdmin\").empty();\n      $.each(object, function (i) {\n        $(\"#listGuildAdmin\").append(\"\\n                <div class=\\\"adminMemberBox\\\">\\n                <p id=\\\"name\\\">\".concat(object[i][\"pseudo\"], \"</p>\\n                <p>\").concat(object[i][\"guildStatus\"], \"</p>\\n                <p id=\\\"ban\\\">ban</p>\\n                <p id=\\\"promote\\\">promote</p>\\n                <p id=\\\"demote\\\">demote</p>\\n                </div>\\n                \"));\n      });\n    });\n  },\n  handleMemberClick: function handleMemberClick(e) {\n    var _this4 = this;\n\n    if (e.target.innerHTML == \"ban\") {\n      var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n      axios.patch(\"/api/guilds/\".concat(this.guildId, \"?ban=\").concat(user)).then(function (res) {\n        _this4.updateMemberList();\n      });\n    } else if (e.target.innerHTML == \"promote\") {\n      var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n      axios.patch(\"/api/guilds/\".concat(this.guildId, \"?promote=\").concat(user)).then(function (res) {\n        _this4.updateMemberList();\n      });\n    } else if (e.target.innerHTML == \"demote\") {\n      var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n      axios.patch(\"/api/guilds/\".concat(this.guildId, \"?demote=\").concat(user)).then(function (res) {\n        _this4.updateMemberList();\n      });\n    }\n  },\n  updateChatroomUserList: function updateChatroomUserList() {\n    $(\"#listChatAdmin\").empty();\n    axios.get(\"/api/chatrooms/\".concat(this.chatroom, \"?user=\").concat($(\"#adminChatSearch\").val())).then(function (res) {\n      $.each(res.data, function (i) {\n        var status;\n        if (res.data[i].owner == true) status = \"owner\";else if (res.data[i].admin == true) status = \"admin\";else status = \"member\";\n        $(\"#listChatAdmin\").append(\"\\n                <div class=\\\"adminBox\\\" id=\\\"chatAdminBox\\\" chat_id=\".concat(res.data[i].chat_id, \" user_id=\").concat(res.data[i].id, \">\\n                <p id=\\\"login\\\">\").concat(res.data[i].login, \"</p>\\n                <p id=\\\"pseudo\\\">\").concat(res.data[i].pseudo, \"</p>\\n                <p id=\\\"status\\\">\").concat(status, \"</p>\\n                <p id=\\\"promote\\\">promote</p>\\n                <p id=\\\"demote\\\">demote</p>\\n                </div>\\n                \"));\n      });\n    });\n  },\n  handleChatClick: function handleChatClick(e) {\n    var _this5 = this;\n\n    if ($(e.target).attr(\"id\") == \"promote\") {\n      axios.patch(\"/api/userschatrooms/\".concat($(e.currentTarget).attr(\"chat_id\"), \"?user_id=\").concat($(e.currentTarget).attr(\"user_id\"), \"&promote=true\")).then(function (res) {\n        _this5.updateChatroomUserList();\n      });\n    } else if ($(e.target).attr(\"id\") == \"demote\") axios.patch(\"/api/userschatrooms/\".concat($(e.currentTarget).attr(\"chat_id\"), \"?user_id=\").concat($(e.currentTarget).attr(\"user_id\"), \"&demote=true\")).then(function (res) {\n      _this5.updateChatroomUserList();\n    });\n  }\n});\nvar AdminMenuView = Backbone.View.extend({\n  render: function render() {\n    $(\".Menu\").html(\"\\n        <div class=\\\"NavBar\\\">\\n        <h1 id=\\\"title\\\"> Ultimate Pong Tournament </h1>\\n        <div>\\n        <h1 id=\\\"disconnect\\\"> Disconnect </h1>\\n        </div>\\n        </div>\\n        \");\n    $(\".Menu\").css({\n      \"background-color\": \"#0356fc\"\n    });\n    return this;\n  }\n});\nvar adminContentView = new AdminContentView({\n  el: \".Center\"\n});\nvar adminMenuView = new AdminMenuView({\n  el: \".Menu\"\n});\nexport { adminContentView, adminMenuView };","map":{"version":3,"sources":["/home/mathis/Documents/dede/app/javascript/BackboneViews/AdminView.js"],"names":["usersCollection","User","guildCollection","Chatrooms","UsersChatroom","router","Tournament","Tournaments","AdminTournamentPannelView_generated","AdminContentView","Backbone","View","extend","events","initialize","adminTournamentPannelView","render","self","panelTournamentAdminIsOpen","axios","get","Cookies","then","res","data","admin","$","empty","html","append","click","remove","css","navigate","trigger","$el","updateList","text","fetch","pseudo","val","each","model","attributes","name","chatrooms","search_entry","tournaments","date_start","Date","date_start_string","getDate","getMonth","getFullYear","getHours","getMinutes","date_end","date_end_string","tournament","start_registration","end_registration","start_at","end_at","prize","save","alert","e","handleClick","length","removePopUp","login","currentTarget","querySelector","innerHTML","user","set","id","prop","guildId","attr","updateMemberList","chatroom","updateChatroomUserList","confirm","banned","object","JSON","parse","response","i","handleMemberClick","target","patch","status","owner","chat_id","handleChatClick","AdminMenuView","adminContentView","el","adminMenuView"],"mappings":"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","sourcesContent":["import { usersCollection, User } from \"../BackboneModel/user_model\"\nimport { guildCollection } from \"../BackboneModel/guild_model\"\nimport { Chatrooms } from \"../BackboneModel/chat_list_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\";\nimport { router } from \"../BackboneRouter/application_router\"\nimport { Tournament, Tournaments } from \"../BackboneModel/tournament_model\"\nimport { AdminTournamentPannelView_generated } from \"../BackboneViews/AdminTournamentPannelView\"\n\nvar AdminContentView = Backbone.View.extend({\n    events: {\n        \"keyup #adminSearch\": \"updateList\",\n        \"change #selectValAdmin\": \"updateList\",\n        \"click .adminBox\": \"handleClick\",\n        \"click #quitPopUpAdmin\": \"removePopUp\",\n        \"click #confirmAdmin\": \"confirm\",\n        \"keyup #c\": \"updateMemberList\",\n        \"click .adminMemberBox\": \"handleMemberClick\",\n        \"keyup #adminChatSearch\": \"updateChatroomUserList\",\n        \"click #chatAdminBox\": \"handleChatClick\"\n    },\n\n    initialize: function () {\n        this.adminTournamentPannelView = AdminTournamentPannelView_generated;\n    },\n\n    render: function () {\n        var self = this;\n        self.panelTournamentAdminIsOpen = false;\n        axios.get(`/api/users/${Cookies.get(\"login\")}`).then((res) => {\n            if (res.data.admin == false) {\n                $(\".social\").empty();\n                $(\".Menu\").empty();\n                $(\".Center\").html(`\n\t\t\t\t<div id=\"confirmDiv\">\n\t\t\t\t\t<h1> ERROR: YOU NEED TO BE AN ADMIN TO ACCESS THIS PAGE </h1>\n\t\t\t\t\t<h1> Click <span id=\"loginSpan\"> here </span> to go to login page </h1>\n\t\t\t\t</div>`)\n                $(\"body\").append(`<div class=\"BackClick\"></div>`);\n                $(\"#loginSpan\").click(() => {\n                    $(\".BackClick\").remove();\n                    $(\"#confirmDiv\").remove();\n                    $(\".Menu\").css({ \"background-color\": \"black\" });\n                    router.navigate(\"\", { trigger: true })\n                })\n            }\n            else {\n                this.$el.html(`\n                <div id=\"select\">\n                <select id=\"selectValAdmin\">\n                    <option value=\"0\">users</option>\n                    <option value=\"1\">guilds</option>\n                    <option value=\"2\">chatrooms</option>\n                    <option value=\"3\">tournaments</option>\n                </select>\n                </div>\n                <input id=\"adminSearch\"/>\n                <div id=\"listAdmin\"> </div>\n                `)\n                $(\"#selectValAdmin\").css({ \"background-color\": \"#0356fc\" });\n                this.updateList();\n            }\n            return this;\n        });\n    },\n    updateList: function () {\n        var self = this;\n        $(\"#listAdmin\").empty();\n        if ($(\"#selectValAdmin option:selected\").text() == \"users\") {\n            usersCollection.fetch({\n                data: {\n                    pseudo: $(\"#adminSearch\").val()\n                }\n            }).then((res) => {\n                usersCollection.each((model) => {\n                    $(\"#listAdmin\").append(`\n                    <div class=\"adminBox\">\n                        <p id=\"login\">${model.attributes[\"login\"]}</p>\n                        <p id=\"pseudo\">${model.attributes[\"pseudo\"]}</p>\n                    </div>\n                    `)\n                });\n            })\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"guilds\") {\n            guildCollection.fetch({\n                data: {\n                    name: $(\"#adminSearch\").val(),\n                    admin: true\n                }\n            }).then((res) => {\n                guildCollection.each((model) => {\n                    $(\"#listAdmin\").append(`\n                    <div class=\"adminBox\" id=${model.attributes[\"id\"]}>\n                        <p id=\"name\">${model.attributes[\"name\"]}</p>\n                        <p id=\"anagram\">${model.attributes[\"anagram\"]}</p>\n                        <p>${model.attributes[\"points\"]}</p>\n                    </div>\n                    `)\n                });\n            })\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"chatrooms\") {\n            var chatrooms = new Chatrooms;\n            chatrooms.fetch({\n                data: {\n                    search_entry: $(\"#adminSearch\").val(),\n                    admin: true\n                }\n            }).then((res) => {\n                chatrooms.each((model) => {\n                    $(\"#listAdmin\").append(`\n                    <div class=\"adminBox\" id=${model.attributes[\"id\"]}>\n                        <p id=\"name\">${model.attributes[\"name\"]}</p>\n                    </div>\n                    `)\n                });\n            })\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"tournaments\") {\n            var tournaments = new Tournaments();\n            tournaments.fetch({ data: { name: $(\"#adminSearch\").val() } }).then(function () {\n                $(\"#listAdmin\").html('<div id=\"list-tournament\"></div>')\n                tournaments.each((model) => {\n                    var date_start = new Date(model.attributes[\"start_at\"]);\n                    var date_start_string = date_start.getDate() + '/' + date_start.getMonth() + '/' + date_start.getFullYear() + '  ' + date_start.getHours() + ':' + date_start.getMinutes();\n                    var date_end = new Date(model.attributes[\"end_at\"]);\n                    var date_end_string = date_end.getDate() + '/' + date_end.getMonth() + '/' + date_end.getFullYear() + '  ' + date_end.getHours() + ':' + date_end.getMinutes();\n\n\n\n                    $(\"#list-tournament\").append('<div class=\"adminBox-tab\">\\\n                    <p class=\"tab-name\">' + model.attributes[\"name\"] + '</p>\\\n                    <p class=\"tab-time\">[' + date_start_string + ' - ' + date_end_string + ']</p>\\\n                    </div>'\n                    )\n                });\n                $(\"#listAdmin\").append('<div class=\"create-tournament\">\\\n                    <h2>create new tournament</h2>\\\n                    <p class=\"create-tournament-input-p\">regisration start:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-1\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">regisration end:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-2\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">tournament start:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-3\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">tournament end:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-4\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">prize</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-5\" type=\"number\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">name</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-6\" type=\"texte\"></input>\\\n                    <br>\\\n                    <input id=\"button-create-tournament\" class=\"create-tournament-input\" type=\"button\" value=\"create\">\\\n                </div>');\n\n                $(\"#button-create-tournament\").click(function () {\n                    if ($(\"#create-tournament-input-1\").val() != '' &&\n                        $(\"#create-tournament-input-2\").val() != '' &&\n                        $(\"#create-tournament-input-3\").val() != '' &&\n                        $(\"#create-tournament-input-4\").val() != '') {\n                        var tournament = new Tournament({\n                            start_registration: $(\"#create-tournament-input-1\").val(),\n                            end_registration: $(\"#create-tournament-input-2\").val(),\n                            start_at: $(\"#create-tournament-input-3\").val(),\n                            end_at: $(\"#create-tournament-input-4\").val(),\n                            prize: $(\"#create-tournament-input-5\").val(),\n                            name: $(\"#create-tournament-input-6\").val()\n                        });\n                        tournament.save().then(function (res) {\n                            if (res[\"res\"] != \"success\") {\n                                alert(res[\"res\"])\n                            }\n                            self.updateList();\n                        })\n                    }\n                })\n\n                $(\".adminBox-tab\").click(function (e) {\n                    self.adminTournamentPannelView.render(self, e);\n                })\n            })\n        }\n    },\n\n    handleClick: function (e) {\n        if ($(\"#selectValAdmin option:selected\").text() == \"users\" && $(\".PopUp\").length == 0) {\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n            $(\".BackClick\").click(() => {\n                this.removePopUp();\n            });\n            this.login = e.currentTarget.querySelector(\"#login\").innerHTML;\n            $(\".Center\").append(`\n            <div class=\"PopUp\" id=\"PopUpAdmin\">\n            <p class=\"QuitPopUp\" id=\"quitPopUpAdmin\">❌</p>\n            <h1>login: ${e.currentTarget.querySelector(\"#login\").innerHTML}</h1>\n            <h1>pseudo: ${e.currentTarget.querySelector(\"#pseudo\").innerHTML}</h1>\n            <div class=\"AdminCheckBox\">\n            <h1> Ban user </h1>\n            <input id=\"banUserCheck\" type=\"checkbox\"/>\n            </div>\n            <button id=\"confirmAdmin\"> confirm </button>\n            </div>\n            `);\n            var user = new User;\n            user.set({ id: e.currentTarget.querySelector(\"#login\").innerHTML });\n            user.fetch().then((res) => {\n                if (res[\"ban\"] == \"true\") {\n                    $('#banUserCheck').prop('checked', true);\n                }\n            });\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"guilds\" && $(\".PopUp\").length == 0) {\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n            $(\".BackClick\").click(() => {\n                this.removePopUp();\n            });\n            this.guildId = $(e.currentTarget).attr(\"id\");\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n            $(\".BackClick\").click(() => {\n                this.removePopUp();\n            });\n            $(\".Center\").append(`\n            <div class=\"PopUp\" id=\"PopUpAdmin\">\n            <p class=\"QuitPopUp\" id=\"quitPopUpAdmin\">❌</p>\n            <h1>name: ${e.currentTarget.querySelector(\"#name\").innerHTML}</h1>\n            <h1>anagram: ${e.currentTarget.querySelector(\"#anagram\").innerHTML}</h1>\n            <input placeholder=\"search for guild member\" id=\"adminGuildSearch\"/>\n            <div id=\"listGuildAdmin\"></div>\n            </div>\n            `);\n            this.updateMemberList();\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"chatrooms\" && $(\".PopUp\").length == 0) {\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n            $(\".BackClick\").click(() => {\n                this.removePopUp();\n            });\n            $(\".Center\").append(`\n            <div class=\"PopUp\" id=\"PopUpAdmin\">\n            <p class=\"QuitPopUp\" id=\"quitPopUpAdmin\">❌</p>\n            <h1>${e.currentTarget.querySelector(\"#name\").innerHTML}</h1>\n            <input placeholder=\"search for chatroom member\" id=\"adminChatSearch\"/>\n            <div id=\"listChatAdmin\"></div>\n            </div>`);\n            this.chatroom = e.currentTarget.querySelector(\"#name\").innerHTML;\n            this.updateChatroomUserList();\n        }\n    },\n    removePopUp: function () {\n        $(\".PopUp\").remove();\n        $(\".BackClick\").remove();\n    },\n    confirm: function () {\n        var user = new User({ id: this.login });\n        var banned;\n        if ($('#banUserCheck').prop('checked'))\n            banned = \"true\";\n        else\n            banned = \"false\";\n        user.fetch().then(() => {\n            user.set({ banned: banned })\n            user.save();\n            this.removePopUp();\n        });\n    },\n    updateMemberList: function () {\n        axios.get(`/api/guilds/${this.guildId}?pseudo=${$(\"#adminGuildSearch\").val()}&admin=true`).then((res) => {\n            var object = JSON.parse(res[\"request\"].response);\n            $(\"#listGuildAdmin\").empty();\n            $.each(object, (i) => {\n                $(\"#listGuildAdmin\").append(`\n                <div class=\"adminMemberBox\">\n                <p id=\"name\">${object[i][\"pseudo\"]}</p>\n                <p>${object[i][\"guildStatus\"]}</p>\n                <p id=\"ban\">ban</p>\n                <p id=\"promote\">promote</p>\n                <p id=\"demote\">demote</p>\n                </div>\n                `)\n            })\n        })\n    },\n    handleMemberClick: function (e) {\n        if (e.target.innerHTML == \"ban\") {\n            var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n            axios.patch(`/api/guilds/${this.guildId}?ban=${user}`).then((res) => {\n                this.updateMemberList();\n            });\n        }\n        else if (e.target.innerHTML == \"promote\") {\n            var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n            axios.patch(`/api/guilds/${this.guildId}?promote=${user}`).then((res) => {\n                this.updateMemberList();\n            });\n        }\n        else if (e.target.innerHTML == \"demote\") {\n            var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n            axios.patch(`/api/guilds/${this.guildId}?demote=${user}`).then((res) => {\n                this.updateMemberList();\n            });\n        }\n    },\n    updateChatroomUserList: function () {\n        $(\"#listChatAdmin\").empty();\n        axios.get(`/api/chatrooms/${this.chatroom}?user=${$(\"#adminChatSearch\").val()}`).then((res) => {\n            $.each(res.data, (i) => {\n                var status;\n                if (res.data[i].owner == true)\n                    status = \"owner\";\n                else if (res.data[i].admin == true)\n                    status = \"admin\";\n                else\n                    status = \"member\";\n                $(\"#listChatAdmin\").append(`\n                <div class=\"adminBox\" id=\"chatAdminBox\" chat_id=${res.data[i].chat_id} user_id=${res.data[i].id}>\n                <p id=\"login\">${res.data[i].login}</p>\n                <p id=\"pseudo\">${res.data[i].pseudo}</p>\n                <p id=\"status\">${status}</p>\n                <p id=\"promote\">promote</p>\n                <p id=\"demote\">demote</p>\n                </div>\n                `);\n            });\n        });\n    },\n    handleChatClick: function (e) {\n        if ($(e.target).attr(\"id\") == \"promote\") {\n            axios.patch(`/api/userschatrooms/${$(e.currentTarget).attr(\"chat_id\")}?user_id=${$(e.currentTarget).attr(\"user_id\")}&promote=true`).then((res) => {\n                this.updateChatroomUserList();\n            });\n        }\n        else if ($(e.target).attr(\"id\") == \"demote\")\n            axios.patch(`/api/userschatrooms/${$(e.currentTarget).attr(\"chat_id\")}?user_id=${$(e.currentTarget).attr(\"user_id\")}&demote=true`).then((res) => {\n                this.updateChatroomUserList();\n            });\n    }\n});\n\nvar AdminMenuView = Backbone.View.extend({\n\n    render: function () {\n        $(\".Menu\").html(`\n        <div class=\"NavBar\">\n        <h1 id=\"title\"> Ultimate Pong Tournament </h1>\n        <div>\n        <h1 id=\"disconnect\"> Disconnect </h1>\n        </div>\n        </div>\n        `)\n        $(\".Menu\").css({ \"background-color\": \"#0356fc\" });\n        return this;\n    }\n});\n\nvar adminContentView = new AdminContentView({ el: \".Center\" });\nvar adminMenuView = new AdminMenuView({ el: \".Menu\" });\n\nexport { adminContentView, adminMenuView }"]},"metadata":{},"sourceType":"module"}