{"version":3,"file":"js/application-3d89d56d199ed12b0c7d.js","sources":["webpack:///webpack/bootstrap","webpack:///./app/javascript/BackboneModel/ban_model.js","webpack:///./app/javascript/BackboneModel/battle_list_model.js","webpack:///./app/javascript/BackboneModel/chat_list_model.js","webpack:///./app/javascript/BackboneModel/friend_list_model.js","webpack:///./app/javascript/BackboneModel/friends_message_model.js","webpack:///./app/javascript/BackboneModel/game_model.js","webpack:///./app/javascript/BackboneModel/guild_model.js","webpack:///./app/javascript/BackboneModel/matchs_model.js","webpack:///./app/javascript/BackboneModel/message_model.js","webpack:///./app/javascript/BackboneModel/notification_model.js","webpack:///./app/javascript/BackboneModel/tournament_model.js","webpack:///./app/javascript/BackboneModel/user_model.js","webpack:///./app/javascript/BackboneModel/users_chatroom_model.js","webpack:///./app/javascript/BackboneModel/users_tournament_model.js","webpack:///./app/javascript/BackboneModel/war_model.js","webpack:///./app/javascript/BackboneRouter/application_router.js","webpack:///./app/javascript/BackboneViews/AdminChatroomPannelView.js","webpack:///./app/javascript/BackboneViews/AdminTournamentPannelView.js","webpack:///./app/javascript/BackboneViews/AdminView.js","webpack:///./app/javascript/BackboneViews/ChatListView.js","webpack:///./app/javascript/BackboneViews/ChatView.js","webpack:///./app/javascript/BackboneViews/ConnectedView.js","webpack:///./app/javascript/BackboneViews/CreateUserView.js","webpack:///./app/javascript/BackboneViews/DeniedView.js","webpack:///./app/javascript/BackboneViews/FriendListView.js","webpack:///./app/javascript/BackboneViews/GameView.js","webpack:///./app/javascript/BackboneViews/GuildListView.js","webpack:///./app/javascript/BackboneViews/GuildView.js","webpack:///./app/javascript/BackboneViews/LoginView.js","webpack:///./app/javascript/BackboneViews/MinimizeChatView.js","webpack:///./app/javascript/BackboneViews/ProfilGuildView.js","webpack:///./app/javascript/BackboneViews/ProfilView.js","webpack:///./app/javascript/BackboneViews/SettingsView.js","webpack:///./app/javascript/BackboneViews/SocialView.js","webpack:///./app/javascript/BackboneViews/TournamentView.js","webpack:///./app/javascript/BackboneViews/TwoFactorView.js","webpack:///./app/javascript/channel_handler/script_1.js","webpack:///./app/javascript/channels sync _channel\\.js$","webpack:///./app/javascript/channels/chat_channel.js","webpack:///./app/javascript/channels/consumer.js","webpack:///./app/javascript/channels/game_channel.js","webpack:///./app/javascript/channels/index.js","webpack:///./app/javascript/channels/notification_channel.js","webpack:///./app/javascript/packs/application.js","webpack:///./app/javascript/utils/game_class.js","webpack:///./app/javascript/utils/utils_1.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@rails/actioncable/app/assets/javascripts/action_cable.js","webpack:///./node_modules/@rails/activestorage/app/assets/javascripts/activestorage.js","webpack:///./node_modules/@rails/ujs/lib/assets/compiled/rails-ujs.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///(webpack)/buildin/module.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/javascript/packs/application.js\");\n","var Ban = Backbone.Model.extend({\n    urlRoot: \"/api/bans\",\n});\n\nexport {Ban}\n","var Battle = Backbone.Model.extend({\n    urlRoot: \"/api/battles\",\n});\n\nvar Battles = Backbone.Collection.extend({\n    model: Battle,\n\n    url: \"/api/battles.json\",\n});\n\nexport {Battle, Battles}\n","var Chatroom = Backbone.Model.extend({\n    urlRoot: \"/api/chatrooms\",\n});\n\nvar Chatrooms = Backbone.Collection.extend({\n    model: Chatroom,\n\n    url: \"/api/chatrooms.json\",\n});\n\nexport {Chatroom, Chatrooms}","var Friend = Backbone.Model.extend({\n    urlRoot: \"/api/friends\",\n});\n\nvar Friends = Backbone.Collection.extend({\n    model: Friend,\n\n    url: \"/api/friends.json\",\n});\n\nexport {Friend, Friends}","var FriendsMessage = Backbone.Model.extend({\n    urlRoot: \"/api/friendsmessages\",\n});\n\nvar FriendsMessages = Backbone.Collection.extend({\n    model: FriendsMessage,\n\n    url: \"/api/friendsmessages.json\",\n});\n\nexport { FriendsMessage, FriendsMessages }","var GameModel = Backbone.Model.extend({\n    urlRoot: \"/api/games\",\n})\n\nexport {GameModel}","import { User } from \"./user_model\";\n\nvar Guild = Backbone.Model.extend({\n    urlRoot: \"/api/guilds\",\n})\n\nvar GuildCollection = Backbone.Collection.extend({\n    url: \"/api/guilds\"\n});\n\nvar guildCollection = new GuildCollection;\n\nexport { Guild, guildCollection, GuildCollection }","var Match = Backbone.Model.extend({\n    urlRoot: \"/api/matchs\",\n});\n\nvar Matchs = Backbone.Collection.extend({\n    model: Match,\n\n    url: \"/api/matchs.json\",\n});\n\nexport { Match, Matchs }","var Message = Backbone.Model.extend({\n    urlRoot: \"/api/messages\",\n});\n\nvar Messages = Backbone.Collection.extend({\n    model: Message,\n\n    url: \"/api/messages.json\",\n});\n\nexport {Message, Messages}","var Notification = Backbone.Model.extend({\n    urlRoot: \"/api/notifications\",\n});\n\nvar Notifications = Backbone.Collection.extend({\n    model: Notification,\n\n    url: \"/api/notifications.json\",\n});\n\nexport {Notification, Notifications}","var Tournament = Backbone.Model.extend({\n    urlRoot: \"/api/tournaments\",\n});\n\nvar Tournaments = Backbone.Collection.extend({\n    model: Tournament,\n\n    url: \"/api/tournaments.json\",\n});\n\nexport { Tournament, Tournaments }","var User = Backbone.Model.extend({\n    urlRoot: \"/api/users\",\n    default:\n    {\n        two_factor: false,\n        victory: 0,\n        loss: 0,\n        status: \"\",\n        banned: false\n    }\n})\n\nvar UsersCollection = Backbone.Collection.extend({\n    model: User,\n    url: \"/api/users\"\n});\n\nvar usersCollection = new UsersCollection;\nvar usersCollection_2 = new UsersCollection;\nvar Users = new UsersCollection;\n\nexport {User, usersCollection, usersCollection_2, UsersCollection}\n","var UsersChatroom = Backbone.Model.extend({\n    urlRoot: \"/api/userschatrooms\",\n});\n\nexport {UsersChatroom}","var UserTourament = Backbone.Model.extend({\n    urlRoot: \"/api/userstournament\",\n});\n\nvar UsersTourament = Backbone.Collection.extend({\n    model: UserTourament,\n\n    url: \"/api/userstournament.json\",\n});\n\nexport { UserTourament, UsersTourament }","var War = Backbone.Model.extend({\n    urlRoot: \"/api/wars\",\n});\n\nvar Wars = Backbone.Collection.extend({\n    model: War,\n\n    url: \"/api/wars.json\",\n});\n\nexport { Wars, War }","import { loginContent, loginMenu } from \"../BackboneViews/LoginView\";\nimport { createUserMenu, createUserContent } from \"../BackboneViews/CreateUserView\";\nimport { connectedContent, connectedMenu } from \"../BackboneViews/ConnectedView\";\nimport { settingsContent } from \"../BackboneViews/SettingsView\"\nimport { socialView } from \"../BackboneViews/SocialView\"\nimport { guildCreateContent, guildContent, guildJoinContent, guildManageContent } from \"../BackboneViews/GuildView\";\nimport { tokenValidity } from \"../utils/utils_1\"\nimport { adminContentView, adminMenuView } from \"../BackboneViews/AdminView\"\nimport { denied, banned } from \"../BackboneViews/DeniedView\"\nimport { twoFactorContent } from \"../BackboneViews/TwoFactorView\"\nimport { gameContent } from \"../BackboneViews/GameView\"\nimport { tournamentContent } from \"../BackboneViews/TournamentView\"\n\nvar Router = Backbone.Router.extend({\n  initialize: function () {\n    Backbone.history.start({ pushState: true });\n  },\n  routes: {\n    '': \"home\",\n    \"connected/create_user\": \"createUser\",\n    \"connected/play\": \"connectedUser\",\n    \"connected/settings\": \"connectedSettings\",\n    \"connected/guild\": \"connectedGuild\",\n    \"connected/guild/create\": \"createGuild\",\n    \"connected/guild/join\": \"joinGuild\",\n    \"connected/guild/manage\": \"manageGuild\",\n    \"admin\": \"admin\",\n    \"acces_denied\": \"denied\",\n    \"banned\": \"banned\",\n    \"twofactor\": \"twofactor\",\n    \"connected/game\": \"game\",\n    \"connected/tournament\": \"tournament\"\n  },\n  home: function () {\n    $(\".social\").html(\"\");\n    loginContent.render();\n    loginMenu.render();\n  },\n  createUser: function () {\n    createUserContent.render();\n    createUserMenu.render();\n  },\n  connectedUser: function () {\n    tokenValidity([connectedContent]);\n  },\n  connectedSettings: function () {\n    tokenValidity([settingsContent]);\n  },\n  connectedGuild: async function () {\n    tokenValidity([guildContent]);\n  },\n  createGuild: function () {\n    tokenValidity([guildCreateContent]);\n  },\n  joinGuild: function () {\n    tokenValidity([guildJoinContent]);\n  },\n  manageGuild: function () {\n    tokenValidity([guildManageContent]);\n  },\n  admin: function () {\n    $(\".social\").html(\"\");\n    tokenValidity([adminContentView, adminMenuView]);\n  },\n  denied: function () {\n    denied.render();\n  },\n  banned: function () {\n    banned.render();\n  },\n  twofactor: function () {\n    twoFactorContent.render();\n  },\n  game: function () {\n    tokenValidity([gameContent]);\n  },\n  tournament: function () {\n    tokenValidity([tournamentContent]);\n  }\n});\nvar router = new Router;\n\nexport { router };\n","import { Users, User , UsersCollection} from \"../BackboneModel/user_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\"\nimport { Chatroom } from \"../BackboneModel/chat_list_model\"\n\n\nvar AdminChatroomPannelView = Backbone.View.extend({\n    render: function (self, e) {\n        if (self.panelChatroomAdminIsOpen == false) {\n            self.panelChatroomAdminIsOpen = true;\n            $(\".Center\").append('<div class=\"PopUp\" id=\"popup-chatroom-administration\">\\\n            <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"✖\"></input>' +\n                ($(e.currentTarget).html() == '♔' ? '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-delete\" value=\"🗑\"></input>' : '') +\n                '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-refresh\" value=\"⟳\"></input>\\\n            <h2 id=\"title-popup-chatroom-pannel\">' + $(e.currentTarget).prev().html() + '</h2>\\\n            <div id=\"owner-input-chat-controller-pannel\">\\\n            </div>\\\n            <ul id=\"pseudo-list-adminstation-list\">\\\n            </ul>\\\n            </div>');\n            if ($(e.currentTarget).html() == '♔') {\n                $(\"#owner-input-chat-controller-pannel\").append('<input type=\"password\" id=\"picpc-1\" placeholder=\"current password  (to change an old password)\"></input>\\\n                <input type=\"password\" id=\"picpc-2\" placeholder=\"new password\"></input>\\\n                <input type=\"password\" id=\"picpc-3\" placeholder=\"new password  (again)\"></input>\\\n                <p id=\"nacp\" >need actual password for change the password</p>\\\n                <input type=\"button\" class=\"social-hover\" id=\"cap-input-1\" value=\"add/change password\"></input>\\\n                <input type=\"button\" class=\"social-hover\" id=\"cap-input-2\" value=\"remove password\"></input>');\n            } else {\n                $(\"#owner-input-chat-controller-pannel\").remove()\n            }\n\n            var refreshList = function () {\n                var users = new UsersCollection();\n                users.fetch({ data: { findby: \"chatroom\", value: $(e.currentTarget).prev().html() } }).then(function () {\n                    $(\"#pseudo-list-adminstation-list\").html('')\n                    users.each(function (user) {\n                        var bandate = user.get(\"bandate\");\n                        if (bandate == null)\n                            date_string = \"--/--/---\";\n                        else {\n                            var date = new Date(bandate);\n                            var date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear();\n                        }\n                        $(\"#pseudo-list-adminstation-list\").append('<li class=\"user-li\">\\\n                    <p class=\"pseudo-adminstation-list\">' + user.get(\"pseudo\") + '</p>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-3 social-hover\" value=\"♙\"' + (!user.get(\"admin\") ? 'style=\"background:yellow;\"' : '') + ' ' + (user.get(\"owner\") ? 'disabled' : '') + '></input>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-4 social-hover\" value=\"♗\"' + (user.get(\"admin\") ? 'style=\"background:yellow;\"' : '') + ' ' + (user.get(\"owner\") ? 'disabled' : '') + '></input>\\\n                            <p class=\"date-adminstation-list\">' + date_string + '</p>\\\n                            <input type=\"date\" class=\"li-chat-adm cap-input-5\"' + (user.get(\"admin\") ? 'disabled' : '') + '></input>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-6 social-hover\" value=\"ban\"' + (user.get(\"admin\") ? 'disabled' : '') + '></input>\\\n                            <input type=\"button\" class=\"li-chat-adm cap-input-7 social-hover\" value=\"unban\"' + (user.get(\"admin\") ? 'disabled' : '') + '></input>\\\n                        </li>');\n                    })\n                    $(\"#cap-input-1\").click(function (ee) {\n                        var chatroom = new Chatroom({ id: $(\"#title-popup-chatroom-pannel\").html() });\n                        chatroom.save({\n                            change_add_password: true,\n                            older: $(\"#picpc-1\").val(),\n                            new_1: $(\"#picpc-2\").val(),\n                            new_2: $(\"#picpc-3\").val()\n                        }).then(function () {\n                            refreshList();\n                            $(\"#picpc-1\").val('')\n                            $(\"#picpc-2\").val('')\n                            $(\"#picpc-3\").val('')\n                        })\n                    })\n                    $(\"#cap-input-2\").click(function (ee) {\n                        var chatroom = new Chatroom({ id: $(\"#title-popup-chatroom-pannel\").html() });\n                        chatroom.save({ remove_password: true }).then(function () {\n                            refreshList();\n                        })\n                    })\n                    $(\".cap-input-3\").click(function (ee) {\n                        var usersChatroom = new UsersChatroom();\n                        usersChatroom.save({ id: $(e.currentTarget).prev().html(), pseudo: $(ee.currentTarget).prev().html(), admin: false }).then(function () {\n                            refreshList();\n                        })\n                    })\n                    $(\".cap-input-4\").click(function (ee) {\n                        var usersChatroom = new UsersChatroom();\n                        usersChatroom.save({ id: $(e.currentTarget).prev().html(), pseudo: $(ee.currentTarget).prev().prev().html(), admin: true }).then(function () {\n                            refreshList();\n                        })\n                    })\n                    $(\".cap-input-6\").click(function (ee) {\n                        var usersChatroom = new UsersChatroom();\n                        usersChatroom.save({ id: $(e.currentTarget).prev().html(), pseudo: $(ee.currentTarget).prev().prev().prev().prev().prev().html(), bandate: $(ee.currentTarget).prev().val() }).then(function () {\n                            refreshList();\n                        })\n                    })\n                    $(\".cap-input-7\").click(function (ee) {\n                        var usersChatroom = new UsersChatroom();\n                        usersChatroom.save({ id: $(e.currentTarget).prev().html(), pseudo: $(ee.currentTarget).prev().prev().prev().prev().prev().prev().html(), annule_bandate: true }).then(function () {\n                            refreshList();\n                        })\n                    })\n                })\n            };\n\n            var removePopup = function () {\n                self.panelChatroomAdminIsOpen = false;\n                $(\".PopUp\").remove()\n            }\n\n            refreshList();\n\n            self.mouseIn = false;\n\n            $(\".PopUp\").hover(function () {\n                self.mouseIn = true;\n            }, function () {\n                self.mouseIn = false;\n            });\n\n            $(\"body\").mouseup(function () {\n                if (self.mouseIn == false)\n                    removePopup();\n            });\n\n            $(\"#popup-chatroom-administration-refresh\").click(function () {\n                refreshList();\n            });\n\n            $(\"#popup-chatroom-administration-quit\").click(function () {\n                removePopup();\n            });\n\n            $(\"#popup-chatroom-administration-delete\").click(function () {\n                var chatroom = new Chatroom();\n                chatroom.set({ id: $(\"#title-popup-chatroom-pannel\").html() })\n                chatroom.fetch().then(function () {\n                    chatroom.destroy().then(function () {\n\n\n                        self.bus.trigger(\"leaveChatroom\", $(\"#title-popup-chatroom-pannel\").html())\n                        self.render();\n                        removePopup();\n                    })\n                })\n            });\n        }\n    }\n})\n\nexport { AdminChatroomPannelView }","import { Users, User, UsersCollection } from \"../BackboneModel/user_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\"\nimport { Chatroom } from \"../BackboneModel/chat_list_model\"\nimport { Tournament, Tournaments } from \"../BackboneModel/tournament_model\"\n\nvar AdminTournamentPannelView = Backbone.View.extend({\n    render: function (self, e) {\n        var selfself = this;\n        if (self.panelTournamentAdminIsOpen == false) {\n            self.panelTournamentAdminIsOpen = true;\n            var tournament = new Tournament({ id: $(e.currentTarget).children().html() })\n            tournament.fetch().then(function () {\n                var date_s_r = new Date(tournament.get(\"start_registration\"));\n                var date_s_r_string = date_s_r.getDate() + '/' + date_s_r.getMonth() + '/' + date_s_r.getFullYear() + '  ' + date_s_r.getHours() + ':' + date_s_r.getMinutes();\n                var date_e_r = new Date(tournament.get(\"end_registration\"));\n                var date_e_r_string = date_e_r.getDate() + '/' + date_e_r.getMonth() + '/' + date_e_r.getFullYear() + '  ' + date_e_r.getHours() + ':' + date_e_r.getMinutes();\n                var date_s_t = new Date(tournament.get(\"start_at\"));\n                var date_s_t_string = date_s_t.getDate() + '/' + date_s_t.getMonth() + '/' + date_s_t.getFullYear() + '  ' + date_s_t.getHours() + ':' + date_s_t.getMinutes();\n                var date_e_t = new Date(tournament.get(\"end_at\"));\n                var date_e_t_string = date_e_t.getDate() + '/' + date_e_t.getMonth() + '/' + date_e_t.getFullYear() + '  ' + date_e_t.getHours() + ':' + date_e_t.getMinutes();\n                $(\".Center\").append('<div class=\"PopUp\" id=\"popup-chatroom-administration\">\\\n                <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"✖\"></input>' +\n                    '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-delete\" value=\"🗑\"></input>\\\n                <h2 id=\"title-popup-chatroom-pannel\">' + $(e.currentTarget).children().html() + '</h2>\\\n                <div>\\\n                    <h3>registration start</h3><p class=\"atp-date\">' + date_s_r_string + '</p><input type=\"date\" class=\"atp-date-input\"></input><button class=\"atp-change-button\" id=\"atpcb-1\">update</button>\\\n                </div>\\\n                <div>\\\n                    <h3>registration end</h3><p class=\"atp-date\">' + date_e_r_string + '</p><input type=\"date\" class=\"atp-date-input\"></input><button class=\"atp-change-button\" id=\"atpcb-2\">update</button>\\\n                </div>\\\n                <div>\\\n                    <h3>tournament start</h3><p class=\"atp-date\">' + date_s_t_string + '</p><input type=\"date\" class=\"atp-date-input\"></input><button class=\"atp-change-button\" id=\"atpcb-3\">update</button>\\\n                </div>\\\n                <div>\\\n                    <h3>tournament end</h3><p class=\"atp-date\">' + date_e_t_string + '</p><input type=\"date\" class=\"atp-date-input\"></input><button class=\"atp-change-button\" id=\"atpcb-4\">update</button>\\\n                </div>')\n\n                var removePopup = function () {\n                    self.panelTournamentAdminIsOpen = false;\n                    $(\".PopUp\").remove()\n                }\n\n                self.mouseIn = false;\n\n                $(\".PopUp\").hover(function () {\n                    self.mouseIn = true;\n                }, function () {\n                    self.mouseIn = false;\n                });\n\n                $(\"body\").mouseup(function () {\n                    if (self.mouseIn == false)\n                        removePopup();\n                });\n\n                $(\"#popup-chatroom-administration-quit\").click(function () {\n                    removePopup();\n                });\n\n                $(\"#popup-chatroom-administration-delete\").click(function () {\n                    var tournament = new Tournament({ id: $(e.currentTarget).children().html() })\n                    tournament.destroy().then(function () {\n                        removePopup();\n                        self.updateList();\n                    })\n                });\n\n                $(\"#atpcb-1\").click(function (ee) {\n                    if ($(ee.currentTarget).prev().val() != \"\") {\n                        var tournament_atpcb_1 = new Tournament({ id: $(e.currentTarget).children().prev().html(), start_registration: $(ee.currentTarget).prev().val() });\n                        tournament_atpcb_1.save().then(function (res) {\n                            if (res[\"res\"] != \"success\") {\n                                alert(res[\"res\"])\n                            }\n                            removePopup();\n                            selfself.render(self, e);\n                        })\n                    }\n                })\n\n                $(\"#atpcb-2\").click(function (ee) {\n                    if ($(ee.currentTarget).prev().val() != \"\") {\n                        var tournament_atpcb_2 = new Tournament({ id: $(e.currentTarget).children().prev().html(), end_registration: $(ee.currentTarget).prev().val() });\n                        tournament_atpcb_2.save().then(function (res) {\n                            if (res[\"res\"] != \"success\") {\n                                alert(res[\"res\"])\n                            }\n                            removePopup();\n                            selfself.render(self, e);\n                        })\n                    }\n                })\n\n                $(\"#atpcb-3\").click(function (ee) {\n                    if ($(ee.currentTarget).prev().val() != \"\") {\n                        var tournament_atpcb_3 = new Tournament({ id: $(e.currentTarget).children().prev().html(), start_at: $(ee.currentTarget).prev().val() });\n                        tournament_atpcb_3.save().then(function (res) {\n                            if (res[\"res\"] != \"success\") {\n                                alert(res[\"res\"])\n                            }\n                            removePopup();\n                            selfself.render(self, e);\n                        })\n                    }\n                })\n\n                $(\"#atpcb-4\").click(function (ee) {\n                    if ($(ee.currentTarget).prev().val() != \"\") {\n                        var tournament_atpcb_4 = new Tournament({ id: $(e.currentTarget).children().prev().html(), end_at: $(ee.currentTarget).prev().val() });\n                        tournament_atpcb_4.save().then(function (res) {\n                            if (res[\"res\"] != \"success\") {\n                                alert(res[\"res\"])\n                            }\n                            removePopup();\n                            selfself.render(self, e);\n                        })\n                    }\n                })\n            })\n        }\n    }\n})\n\nvar AdminTournamentPannelView_generated = new AdminTournamentPannelView();\n\nexport { AdminTournamentPannelView_generated }","import { usersCollection, User } from \"../BackboneModel/user_model\"\nimport { guildCollection } from \"../BackboneModel/guild_model\"\nimport { Chatrooms } from \"../BackboneModel/chat_list_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\";\nimport { router } from \"../BackboneRouter/application_router\"\nimport { Tournament, Tournaments } from \"../BackboneModel/tournament_model\"\nimport { AdminTournamentPannelView_generated } from \"../BackboneViews/AdminTournamentPannelView\"\n\nvar AdminContentView = Backbone.View.extend({\n    events: {\n        \"keyup #adminSearch\": \"updateList\",\n        \"change #selectValAdmin\": \"updateList\",\n        \"click .adminBox\": \"handleClick\",\n        \"click #quitPopUpAdmin\": \"removePopUp\",\n        \"click #confirmAdmin\": \"confirm\",\n        \"keyup #c\": \"updateMemberList\",\n        \"click .adminMemberBox\": \"handleMemberClick\",\n        \"keyup #adminChatSearch\": \"updateChatroomUserList\",\n        \"click #chatAdminBox\": \"handleChatClick\"\n    },\n\n    initialize: function () {\n        this.adminTournamentPannelView = AdminTournamentPannelView_generated;\n    },\n\n    render: function () {\n        var self = this;\n        self.panelTournamentAdminIsOpen = false;\n        axios.get(`/api/users/${Cookies.get(\"login\")}`).then((res) => {\n            if (res.data.admin == false) {\n                $(\".social\").empty();\n                $(\".Menu\").empty();\n                $(\".Center\").html(`\n\t\t\t\t<div id=\"confirmDiv\">\n\t\t\t\t\t<h1> ERROR: YOU NEED TO BE AN ADMIN TO ACCESS THIS PAGE </h1>\n\t\t\t\t\t<h1> Click <span id=\"loginSpan\"> here </span> to go to login page </h1>\n\t\t\t\t</div>`)\n                $(\"body\").append(`<div class=\"BackClick\"></div>`);\n                $(\"#loginSpan\").click(() => {\n                    $(\".BackClick\").remove();\n                    $(\"#confirmDiv\").remove();\n                    $(\".Menu\").css({ \"background-color\": \"black\" });\n                    router.navigate(\"\", { trigger: true })\n                })\n            }\n            else {\n                this.$el.html(`\n                <div id=\"select\">\n                <select id=\"selectValAdmin\">\n                    <option value=\"0\">users</option>\n                    <option value=\"1\">guilds</option>\n                    <option value=\"2\">chatrooms</option>\n                    <option value=\"3\">tournaments</option>\n                </select>\n                </div>\n                <input id=\"adminSearch\"/>\n                <div id=\"listAdmin\"> </div>\n                `)\n                $(\"#selectValAdmin\").css({ \"background-color\": \"#0356fc\" });\n                this.updateList();\n            }\n            return this;\n        });\n    },\n    updateList: function () {\n        var self = this;\n        $(\"#listAdmin\").empty();\n        if ($(\"#selectValAdmin option:selected\").text() == \"users\") {\n            usersCollection.fetch({\n                data: {\n                    pseudo: $(\"#adminSearch\").val()\n                }\n            }).then((res) => {\n                usersCollection.each((model) => {\n                    $(\"#listAdmin\").append(`\n                    <div class=\"adminBox\">\n                        <p id=\"login\">${model.attributes[\"login\"]}</p>\n                        <p id=\"pseudo\">${model.attributes[\"pseudo\"]}</p>\n                    </div>\n                    `)\n                });\n            })\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"guilds\") {\n            guildCollection.fetch({\n                data: {\n                    name: $(\"#adminSearch\").val(),\n                    admin: true\n                }\n            }).then((res) => {\n                guildCollection.each((model) => {\n                    $(\"#listAdmin\").append(`\n                    <div class=\"adminBox\" id=${model.attributes[\"id\"]}>\n                        <p id=\"name\">${model.attributes[\"name\"]}</p>\n                        <p id=\"anagram\">${model.attributes[\"anagram\"]}</p>\n                        <p>${model.attributes[\"points\"]}</p>\n                    </div>\n                    `)\n                });\n            })\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"chatrooms\") {\n            var chatrooms = new Chatrooms;\n            chatrooms.fetch({\n                data: {\n                    search_entry: $(\"#adminSearch\").val(),\n                    admin: true\n                }\n            }).then((res) => {\n                chatrooms.each((model) => {\n                    $(\"#listAdmin\").append(`\n                    <div class=\"adminBox\" id=${model.attributes[\"id\"]}>\n                        <p id=\"name\">${model.attributes[\"name\"]}</p>\n                    </div>\n                    `)\n                });\n            })\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"tournaments\") {\n            var tournaments = new Tournaments();\n            tournaments.fetch({ data: { name: $(\"#adminSearch\").val() } }).then(function () {\n                $(\"#listAdmin\").html('<div id=\"list-tournament\"></div>')\n                tournaments.each((model) => {\n                    var date_start = new Date(model.attributes[\"start_at\"]);\n                    var date_start_string = date_start.getDate() + '/' + date_start.getMonth() + '/' + date_start.getFullYear() + '  ' + date_start.getHours() + ':' + date_start.getMinutes();\n                    var date_end = new Date(model.attributes[\"end_at\"]);\n                    var date_end_string = date_end.getDate() + '/' + date_end.getMonth() + '/' + date_end.getFullYear() + '  ' + date_end.getHours() + ':' + date_end.getMinutes();\n\n\n\n                    $(\"#list-tournament\").append('<div class=\"adminBox-tab\">\\\n                    <p class=\"tab-name\">' + model.attributes[\"name\"] + '</p>\\\n                    <p class=\"tab-time\">[' + date_start_string + ' - ' + date_end_string + ']</p>\\\n                    </div>'\n                    )\n                });\n                $(\"#listAdmin\").append('<div class=\"create-tournament\">\\\n                    <h2>create new tournament</h2>\\\n                    <p class=\"create-tournament-input-p\">regisration start:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-1\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">regisration end:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-2\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">tournament start:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-3\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">tournament end:</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-4\" type=\"datetime-local\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">prize</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-5\" type=\"number\"></input>\\\n                    <br>\\\n                    <p class=\"create-tournament-input-p\">name</p>\\\n                    <input class=\"create-tournament-input\" id=\"create-tournament-input-6\" type=\"texte\"></input>\\\n                    <br>\\\n                    <input id=\"button-create-tournament\" class=\"create-tournament-input\" type=\"button\" value=\"create\">\\\n                </div>');\n\n                $(\"#button-create-tournament\").click(function () {\n                    if ($(\"#create-tournament-input-1\").val() != '' &&\n                        $(\"#create-tournament-input-2\").val() != '' &&\n                        $(\"#create-tournament-input-3\").val() != '' &&\n                        $(\"#create-tournament-input-4\").val() != '') {\n                        var tournament = new Tournament({\n                            start_registration: $(\"#create-tournament-input-1\").val(),\n                            end_registration: $(\"#create-tournament-input-2\").val(),\n                            start_at: $(\"#create-tournament-input-3\").val(),\n                            end_at: $(\"#create-tournament-input-4\").val(),\n                            prize: $(\"#create-tournament-input-5\").val(),\n                            name: $(\"#create-tournament-input-6\").val()\n                        });\n                        tournament.save().then(function (res) {\n                            if (res[\"res\"] != \"success\") {\n                                alert(res[\"res\"])\n                            }\n                            self.updateList();\n                        })\n                    }\n                })\n\n                $(\".adminBox-tab\").click(function (e) {\n                    self.adminTournamentPannelView.render(self, e);\n                })\n            })\n        }\n    },\n\n    handleClick: function (e) {\n        if ($(\"#selectValAdmin option:selected\").text() == \"users\" && $(\".PopUp\").length == 0) {\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n            $(\".BackClick\").click(() => {\n                this.removePopUp();\n            });\n            this.login = e.currentTarget.querySelector(\"#login\").innerHTML;\n            $(\".Center\").append(`\n            <div class=\"PopUp\" id=\"PopUpAdmin\">\n            <p class=\"QuitPopUp\" id=\"quitPopUpAdmin\">❌</p>\n            <h1>login: ${e.currentTarget.querySelector(\"#login\").innerHTML}</h1>\n            <h1>pseudo: ${e.currentTarget.querySelector(\"#pseudo\").innerHTML}</h1>\n            <div class=\"AdminCheckBox\">\n            <h1> Ban user </h1>\n            <input id=\"banUserCheck\" type=\"checkbox\"/>\n            </div>\n            <button id=\"confirmAdmin\"> confirm </button>\n            </div>\n            `);\n            var user = new User;\n            user.set({ id: e.currentTarget.querySelector(\"#login\").innerHTML });\n            user.fetch().then((res) => {\n                if (res[\"ban\"] == \"true\") {\n                    $('#banUserCheck').prop('checked', true);\n                }\n            });\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"guilds\" && $(\".PopUp\").length == 0) {\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n            $(\".BackClick\").click(() => {\n                this.removePopUp();\n            });\n            this.guildId = $(e.currentTarget).attr(\"id\");\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n            $(\".BackClick\").click(() => {\n                this.removePopUp();\n            });\n            $(\".Center\").append(`\n            <div class=\"PopUp\" id=\"PopUpAdmin\">\n            <p class=\"QuitPopUp\" id=\"quitPopUpAdmin\">❌</p>\n            <h1>name: ${e.currentTarget.querySelector(\"#name\").innerHTML}</h1>\n            <h1>anagram: ${e.currentTarget.querySelector(\"#anagram\").innerHTML}</h1>\n            <input placeholder=\"search for guild member\" id=\"adminGuildSearch\"/>\n            <div id=\"listGuildAdmin\"></div>\n            </div>\n            `);\n            this.updateMemberList();\n        }\n        else if ($(\"#selectValAdmin option:selected\").text() == \"chatrooms\" && $(\".PopUp\").length == 0) {\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n            $(\".BackClick\").click(() => {\n                this.removePopUp();\n            });\n            $(\".Center\").append(`\n            <div class=\"PopUp\" id=\"PopUpAdmin\">\n            <p class=\"QuitPopUp\" id=\"quitPopUpAdmin\">❌</p>\n            <h1>${e.currentTarget.querySelector(\"#name\").innerHTML}</h1>\n            <input placeholder=\"search for chatroom member\" id=\"adminChatSearch\"/>\n            <div id=\"listChatAdmin\"></div>\n            </div>`);\n            this.chatroom = e.currentTarget.querySelector(\"#name\").innerHTML;\n            this.updateChatroomUserList();\n        }\n    },\n    removePopUp: function () {\n        $(\".PopUp\").remove();\n        $(\".BackClick\").remove();\n    },\n    confirm: function () {\n        var user = new User({ id: this.login });\n        var banned;\n        if ($('#banUserCheck').prop('checked'))\n            banned = \"true\";\n        else\n            banned = \"false\";\n        user.fetch().then(() => {\n            user.set({ banned: banned })\n            user.save();\n            this.removePopUp();\n        });\n    },\n    updateMemberList: function () {\n        axios.get(`/api/guilds/${this.guildId}?pseudo=${$(\"#adminGuildSearch\").val()}&admin=true`).then((res) => {\n            var object = JSON.parse(res[\"request\"].response);\n            $(\"#listGuildAdmin\").empty();\n            $.each(object, (i) => {\n                $(\"#listGuildAdmin\").append(`\n                <div class=\"adminMemberBox\">\n                <p id=\"name\">${object[i][\"pseudo\"]}</p>\n                <p>${object[i][\"guildStatus\"]}</p>\n                <p id=\"ban\">ban</p>\n                <p id=\"promote\">promote</p>\n                <p id=\"demote\">demote</p>\n                </div>\n                `)\n            })\n        })\n    },\n    handleMemberClick: function (e) {\n        if (e.target.innerHTML == \"ban\") {\n            var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n            axios.patch(`/api/guilds/${this.guildId}?ban=${user}`).then((res) => {\n                this.updateMemberList();\n            });\n        }\n        else if (e.target.innerHTML == \"promote\") {\n            var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n            axios.patch(`/api/guilds/${this.guildId}?promote=${user}`).then((res) => {\n                this.updateMemberList();\n            });\n        }\n        else if (e.target.innerHTML == \"demote\") {\n            var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n            axios.patch(`/api/guilds/${this.guildId}?demote=${user}`).then((res) => {\n                this.updateMemberList();\n            });\n        }\n    },\n    updateChatroomUserList: function () {\n        $(\"#listChatAdmin\").empty();\n        axios.get(`/api/chatrooms/${this.chatroom}?user=${$(\"#adminChatSearch\").val()}`).then((res) => {\n            $.each(res.data, (i) => {\n                var status;\n                if (res.data[i].owner == true)\n                    status = \"owner\";\n                else if (res.data[i].admin == true)\n                    status = \"admin\";\n                else\n                    status = \"member\";\n                $(\"#listChatAdmin\").append(`\n                <div class=\"adminBox\" id=\"chatAdminBox\" chat_id=${res.data[i].chat_id} user_id=${res.data[i].id}>\n                <p id=\"login\">${res.data[i].login}</p>\n                <p id=\"pseudo\">${res.data[i].pseudo}</p>\n                <p id=\"status\">${status}</p>\n                <p id=\"promote\">promote</p>\n                <p id=\"demote\">demote</p>\n                </div>\n                `);\n            });\n        });\n    },\n    handleChatClick: function (e) {\n        if ($(e.target).attr(\"id\") == \"promote\") {\n            axios.patch(`/api/userschatrooms/${$(e.currentTarget).attr(\"chat_id\")}?user_id=${$(e.currentTarget).attr(\"user_id\")}&promote=true`).then((res) => {\n                this.updateChatroomUserList();\n            });\n        }\n        else if ($(e.target).attr(\"id\") == \"demote\")\n            axios.patch(`/api/userschatrooms/${$(e.currentTarget).attr(\"chat_id\")}?user_id=${$(e.currentTarget).attr(\"user_id\")}&demote=true`).then((res) => {\n                this.updateChatroomUserList();\n            });\n    }\n});\n\nvar AdminMenuView = Backbone.View.extend({\n\n    render: function () {\n        $(\".Menu\").html(`\n        <div class=\"NavBar\">\n        <h1 id=\"title\"> Ultimate Pong Tournament </h1>\n        <div>\n        <h1 id=\"disconnect\"> Disconnect </h1>\n        </div>\n        </div>\n        `)\n        $(\".Menu\").css({ \"background-color\": \"#0356fc\" });\n        return this;\n    }\n});\n\nvar adminContentView = new AdminContentView({ el: \".Center\" });\nvar adminMenuView = new AdminMenuView({ el: \".Menu\" });\n\nexport { adminContentView, adminMenuView }","import { Chatrooms, Chatroom } from \"../BackboneModel/chat_list_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\"\n\nvar NotificationView = Backbone.View.extend({\n\n    initialize: function (options) {\n        this.bus = options.bus;\n    },\n\n    events: {\n        \"click .title-notification\": \"onClick\"\n    },\n\n    onClick: function () {\n        this.bus.trigger(\"notificationSelected\", this)\n    },\n\n    render: function () {\n        this.$el.html('<li class=\"notification\"><p class=\"title-notification social-hover\">' + \"notification\" + '</p></li>')\n        return this;\n    }\n})\n\nvar ChatroomView = Backbone.View.extend({\n\n    initialize: function (options) {\n        this.bus = options.bus;\n    },\n\n    events: {\n        \"click .title-chatroom\": \"onClick\"\n    },\n\n    onClick: function () {\n        this.bus.trigger(\"chatroomSelected\", this.model)\n    },\n\n    render: function () {\n        this.$el.html('<li class=\"chatroom\"><p class=\"title-chatroom social-hover\">' + this.model.get(\"name\") + '</p><p class=\"subscribers-grade' + (this.model.get(\"owner\") || this.model.get(\"admin\") == true ? ' social-hover' : '') + '\">' + (this.model.get(\"owner\") == true ? '♔' : (this.model.get(\"admin\") == true ? '♗' : '♙')) + '</p><p class=\"user-leave social-hover\">⎋</p></li>')\n        return this;\n    }\n});\n\n\nvar ChatListViews = Backbone.View.extend({\n    el: \".chat-list\",\n\n    initialize: function (options) {\n        var self = this;\n        this.chatrooms = new Chatrooms();\n        this.search_is_open = false;\n        this.bus = options.bus;\n        this.adminChatroomPannelView = options.adminChatroomPannelView;\n        this.notifications = options.notifications;\n    },\n\n    generateSearchList: function () {\n        var self = this;\n        $(\"#search-corps\").html('<ul id=\"chat-search-list\">\\\n        </ul>');\n        this.chatrooms.fetch({ data: { search_entry: $(\"#input-button-search-chatroom\").val() } }).then(function () {\n            $(\"#chat-search-list\").html(\"\");\n            self.chatrooms.each(function (chatroom) {\n                $(\"#chat-search-list\").append('<li class=\"chatroom\"><p class=\"title-chatroom-search\">' + chatroom.get(\"name\") + (chatroom.get(\"private\") ? ' 🔒' : '') + '</p><p class=\"user-enter social-hover\" data-private=\"' + (chatroom.get(\"private\") ? true : false) + '\" data-open=\"false\">⎆</p></li><input type=\"text\" class=\"pass chatroom-text-input\" placeholder=\"password...\" style=\"display:none;\"></input>')\n            })\n            $(\".user-enter\").click(function (e) {\n                var green_button = this;\n                if (green_button.getAttribute(\"data-private\") == 'true') {\n                    var password_input = $(e.currentTarget).parent().next()\n                    if ($(e.currentTarget).parent().next().attr(\"style\") == \"display:none;\") {\n                        password_input.attr(\"style\", \"display:block;\")\n                        password_input.focus()\n                    }\n                    else {\n                        var userChatroom = new UsersChatroom();\n                        var chatroom_name = $(e.currentTarget).parent().children(\".title-chatroom-search\").html();\n                        userChatroom.set({\n                            chatroom: chatroom_name.substring(0, chatroom_name.length - 3),\n                            password: password_input.val()\n                        })\n                        userChatroom.save({}, {\n                            success: function (model, response) {\n                                if (response.created != \"success\")\n                                    alert(\"imposssible de rejoindre le channel: \" + response.created)\n                            }\n                        }).then(function () {\n                            // userChatroom.destroy()\n                            self.render();\n                        })\n                    }\n                }\n                else {\n                    var userChatroom = new UsersChatroom();\n                    userChatroom.set({ chatroom: $(e.currentTarget).parent().children(\".title-chatroom-search\").html() })\n                    userChatroom.save({}, {\n                        success: function (model, response) {\n                            if (response.created != \"success\")\n                                alert(\"imposssible de rejoindre le channel: \" + response.created)\n                        }\n                    }).then(function () {\n                        // userChatroom.destroy()\n                        self.render();\n                    })\n                }\n            })\n        });\n    },\n\n    events: {\n        \"click #right-button-sub\": \"onClickForSearch\",\n        \"click .user-leave\": \"onClickForLeave\"\n    },\n\n    onClickForSearch: function () {\n        var self = this;\n        if (this.search_is_open == false) {\n            $(\"#chat-list\").prepend('<div id=\"search-sub\">\\\n                    <input type=\"text\" id=\"input-button-search-chatroom\"></input><p class=\"private-chatroom-button social-hover\">🤫</p><p class=\"create-chatroom-button social-hover\">C</p>\\\n                    <div id=\"search-corps\">\\\n                    </div>\\\n                </div>')\n            $(\"#input-button-search-chatroom\").keyup(function (e) {\n                self.generateSearchList();\n            })\n            self.generateSearchList();\n            $(\".private-chatroom-button\").click(function (e) {\n                $(\"#search-corps\").html('<div id=\"div-private-chatroom-search-topbar\"><p class=\"private-chatroom-search-topbar\">join private chatroom</p><p class=\"user-enter-private social-hover\">⎆</p></div>\\\n                    <input class=\"chatroom-text-input private-input\" id=\"private-chatroom-name-input\" placeholder=\"chatroom name\" type=\"texte\"></input>\\\n                    <input class=\"pass chatroom-text-input private-input\" id=\"private-chatroom-password-input\" placeholder=\"password\" type=\"text\"></input>');\n                $(\".user-enter-private\").click(function (e) {\n                    var userChatroom = new UsersChatroom();\n                    userChatroom.set({\n                        chatroom: $(\"#private-chatroom-name-input\").val(),\n                        password: $(\"#private-chatroom-password-input\").val()\n                    })\n                    userChatroom.save({}, {\n                        success: function (model, response) {\n                            if (response.created != \"success\")\n                                alert(\"imposssible de rejoindre le channel: \" + response.created)\n                        }\n                    }).then(function () {\n                        // userChatroom.destroy()\n                        self.render();\n                    })\n                })\n            })\n            $(\".create-chatroom-button\").click(function (e) {\n                $(\"#search-corps\").html('<div id=\"div-create-chatroom-search-topbar\"><p class=\"create-chatroom-search-topbar\">create your chatroom</p><p class=\"user-enter-create social-hover\">⎆</p></div>\\\n                    <input class=\"chatroom-text-input create-input\" id=\"private-chatroom-name-input\" placeholder=\"chatroom name\" type=\"texte\"></input>\\\n                    <input class=\"chatroom-text-input create-input\" id=\"private-chatroom-password-input\" placeholder=\"password\" type=\"text\" disabled></input>\\\n                    <input class=\"pass chatroom-check-input create-input\" id=\"chatroom-check-password-input\" type=\"checkbox\"></input><p class=\"chatroom-tag-create-input\">password</p>\\\n                    <input class=\"chatroom-check-input create-input\" id=\"chatroom-check-private-input\" type=\"checkbox\"></input><p class=\"chatroom-tag-create-input\">private</p>');\n                $(\".user-enter-create\").click(function (e) {    /* create */\n                    var chatroom = new Chatroom();\n                    chatroom.set({\n                        chatroom: $(\"#private-chatroom-name-input\").val(),\n                        protected: $(\"#chatroom-check-password-input\").is(\":checked\"),\n                        password: $(\"#private-chatroom-password-input\").val(),\n                        private: !($(\"#chatroom-check-private-input\").is(\":checked\"))\n                    });\n                    chatroom.save({}, {\n                        success: function (model, response) {\n                            if (response.created != \"success\")\n                                alert(\"imposssible de rejoindre le channel: \" + response.created)\n                        }\n                    }).then(function () {\n                        // chatroom.destroy()\n                        self.render();\n                    })\n                })\n                $(\"#chatroom-check-password-input\").click(function (e) {    /* password check */\n                    if ($(\"#chatroom-check-password-input\").is(\":checked\")) {\n                        $(\"#private-chatroom-password-input\").prop(\"disabled\", false);\n                    }\n                    else {\n                        $(\"#private-chatroom-password-input\").prop(\"disabled\", true);\n                        $(\"#private-chatroom-password-input\").val('');\n                    }\n                })\n                $(\"#chatroom-check-private-input\").click(function (e) {    /* private check */\n                    if ($(\"#chatroom-check-private-input\").is(\":checked\")) {\n                        $(\"#private-chatroom-password-input\").prop(\"disabled\", false);\n                        $(\"#chatroom-check-password-input\").prop(\"checked\", true);\n                        $(\"#chatroom-check-password-input\").prop(\"disabled\", true);\n                    }\n                    else {\n                        $(\"#chatroom-check-password-input\").prop(\"checked\", false);\n                        $(\"#chatroom-check-password-input\").prop(\"disabled\", false);\n                        $(\"#private-chatroom-password-input\").prop(\"disabled\", true);\n                        $(\"#private-chatroom-password-input\").val('');\n                    }\n                })\n            })\n            $(\"#right-button-sub\").html(\"−\")\n            $(\"#right-button-sub\").css(\"background\", \"red\")\n            this.search_is_open = true;\n        }\n        else {\n            $(\"#right-button-sub\").html(\"✚\")\n            $(\"#right-button-sub\").css(\"background\", \"green\")\n            $(\"#search-sub\").remove()\n            this.search_is_open = false;\n        }\n    },\n\n    onClickForLeave: function (e) {\n        var self = this;\n\n        if ($(e.currentTarget).prev().html() == '♔') {\n            alert(\"attention, en tant que owner de la chatroom, pour quitter celle-ci, vous devez la detruire via le chat-pannel-controller\")\n        }\n        else {\n            var userChatroom = new UsersChatroom({id: $(e.currentTarget).parent().children(\".title-chatroom\").html()});\n            userChatroom.destroy().then(function () {\n                self.render();\n            })\n        }\n    },\n\n    render: function () {\n        var self = this;\n        self.panelChatroomAdminIsOpen = false;\n        this.search_is_open = false\n        this.$el.html('<div id=\"chat-list\">\\\n            <div id=\"chat-list-top-bar\">\\\n                <p id=\"center\">YourSubs</p><p id=\"right-button-sub\" class=\"social-hover\">✚</p>\\\n            </div>\\\n            <ul id=\"chat-list-container\">\\\n            </ul>\\\n            </div>');\n        $(\"#right-button-sub\").css(\"background\", \"green\")\n        var notificationView = new NotificationView({ bus: self.bus })\n        self.$el.find(\"ul#chat-list-container\").append(notificationView.render().$el);\n        self.notifications.fetch().then(function () {\n            if (self.notifications.length > 0) {\n                $(\".title-notification\").addClass(\"notification-blink\")\n            }\n        })\n        self.model.fetch().then(function () {\n            self.model.each(function (chatroom) {\n                var chatroomView = new ChatroomView({ model: chatroom, bus: self.bus })\n                self.$el.find(\"ul#chat-list-container\").append(chatroomView.render().$el);\n            })\n\n            self.generateSearchList();\n            $(\".subscribers-grade.social-hover\").click(function (e) {\n                self.adminChatroomPannelView.render(self, e);\n            });\n\n            return self;\n        })\n    }\n});\n\nexport { ChatListViews }\n","import { channel_gen } from \"../channels/chat_channel\"\nimport consumer from \"../channels/consumer\"\nimport { Friend, Friends } from \"../BackboneModel/friend_list_model\"\nimport { Battle, Battles } from \"../BackboneModel/battle_list_model\"\nimport { FriendsMessage, FriendsMessages } from \"../BackboneModel/friends_message_model\"\n\nvar ChatFriendMessageView = Backbone.View.extend({\n\n    render: function () {\n        var date = new Date(this.model.get(\"date\"));\n        var date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n\n        this.$el.html('<li class=\"message\"><p class=\"user-message\">' + this.model.get(\"username\") + '</p><p class=\"time-message\">' + date_string + '</p><br><p class=\"content-message\">' + this.model.get(\"content\") + '</p></li>')\n        return this;\n    }\n});\n\nvar ChatMessageView = Backbone.View.extend({\n\n    render: function () {\n        var date = new Date(this.model.get(\"date\"));\n        var date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n\n        this.$el.html('<li class=\"message\"><p class=\"user-message\">' + this.model.get(\"username\") + '</p><p class=\"time-message\">' + date_string + '</p><br><p class=\"content-message\">' + this.model.get(\"content\") + '</p></li>')\n        return this;\n    }\n});\n\nvar ChatNotificationView = Backbone.View.extend({\n\n    render: function () {\n        var date = new Date(this.model.get(\"date\"));\n        var date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n        \n        if (this.model.get(\"type\") != undefined) {\n            if (this.model.get(\"type\") == 'friend-request') {\n                this.$el.html('<li class=\"notification\"><p class=\"time-notification-message\">' + date_string + '</p><br><p class=\"content-notification\">' + this.model.get(\"value\") + '</p><p class=\"accept-notification social-hover\">✓</p><p class=\"decline-notification social-hover\">✖</p></li>')\n            }\n            else if (this.model.get(\"type\") == 'casual-battle') {\n                this.$el.html('<li class=\"notification\"><p class=\"time-notification-message\">' + date_string + '</p><br><p class=\"content-notification\">' + this.model.get(\"value\") + '</p><p class=\"accept-notification social-hover\">⚔</p><p class=\"decline-notification social-hover\">✖</p></li>')\n            }\n        }\n        return this;\n    }\n});\n\nvar ChatViews = Backbone.View.extend({\n    el: \".chat-message\",\n\n    disconnected: function (room) {\n        if (room != undefined) {\n            for (var i = 0; i < consumer.subscriptions.subscriptions.length; i++) {\n                if (JSON.parse(consumer.subscriptions.subscriptions[i].identifier).room == room &&\n                JSON.parse(consumer.subscriptions.subscriptions[i].identifier).channel == \"ChatChannel\") {\n                    consumer.subscriptions.subscriptions[i].unsubscribe();\n                };\n            };\n        }\n    },\n\n    initialize: function (options) {\n        this.notificationInChat = false;\n        this.friendInChat = undefined;\n        this.bus = options.bus;\n        this.bus.on(\"chatroomSelected\", this.chatroomSelected, this);\n        this.bus.on(\"chatroomRefresh\", this.chatroomRefresh, this);\n        this.bus.on(\"notificationReceived\", this.notificationReceived, this);\n        this.bus.on(\"notificationSelected\", this.notificationSelected, this);\n        this.bus.on(\"friendChatroomSelected\", this.friendChatroomSelected, this);\n        this.bus.on(\"friendChatroomRefresh\", this.friendChatroomRefresh, this);\n        this.bus.on(\"leaveChatroom\", this.leaveChatroom, this);\n        this.message_model = options.message_model;\n        this.notifications = options.notifications;\n        this.friendsMessages = options.friendsMessages;\n    },\n\n    select_chatroom_connection: function () {\n        if (this.chatroom_model != undefined) {\n            for (var i = 0; i < consumer.subscriptions.subscriptions.length; i++) {\n                if (JSON.parse(consumer.subscriptions.subscriptions[i].identifier).room == this.chatroom_model.get(\"name\") &&\n                JSON.parse(consumer.subscriptions.subscriptions[i].identifier).channel == \"ChatChannel\") {\n                    return (consumer.subscriptions.subscriptions[i]);\n                };\n            };\n        }\n    },\n\n    chatroomRefresh: function (data) {\n        if (this.chatroom_model != undefined && data[\"messageContent\"] == this.chatroom_model.get(\"name\"))\n            this.render()\n    },\n\n    select_user_connection: function () {\n        for (var i = 0; i < consumer.subscriptions.subscriptions.length; i++) {\n            if (JSON.parse(consumer.subscriptions.subscriptions[i].identifier).channel == 'UserChannel') {\n                return (consumer.subscriptions.subscriptions[i]);\n            };\n        };\n    },\n\n    chatroomSelected: function (chatroom) {\n        this.notificationInChat = false;\n        this.friendInChat = undefined;\n        var needToDisconnect = this.chatroom_model == undefined;\n        if (needToDisconnect || chatroom.get(\"name\") != this.chatroom_model.get(\"name\")) {\n            if (!needToDisconnect) {\n                this.disconnected(this.chatroom_model.get(\"name\"));\n            }\n            this.chatroom_model = chatroom;\n            this.render();\n        }\n    },\n\n    friendChatroomRefresh: function () {\n        this.render()\n    },\n\n    notificationReceived: function () {\n        var self = this;\n        self.notifications.fetch().then(function () {\n            if (self.notifications.length > 0) {\n                $(\".title-notification\").addClass(\"notification-blink\")\n            } else {\n                $(\".title-notification\").removeClass(\"notification-blink\")\n            }\n        })\n    },\n\n    notificationSelected: function () {\n        this.notificationInChat = true;\n        this.friendInChat = undefined;\n        if (this.chatroom_model != undefined) {\n            this.disconnected(this.chatroom_model.get(\"name\"));\n            this.chatroom_model = undefined;\n        }\n        $(\".title-notification\").removeClass(\"notification-blink\")\n        this.render();\n    },\n\n    friendChatroomSelected: function (friend) {\n        this.friendInChat = friend.get(\"pseudo\");\n        this.notificationInChat = false;\n        if (this.chatroom_model != undefined) {\n            this.disconnected(this.chatroom_model.get(\"name\"));\n            this.chatroom_model = undefined;\n        }\n        $(\"#chat-top-bar > p#center\").data(\"friend-chat-open\", \"true\");\n        this.render();\n    },\n\n    leaveChatroom: function (chatroom_name) {\n        this.notificationInChat = false;\n        if (this.chatroom_model && this.chatroom_model.get(\"name\") == chatroom_name) {\n            this.disconnected(chatroom_name);\n            this.chatroom_model = undefined;\n            this.notificationInChat = false;\n            this.render();\n        }\n    },\n\n    events: {\n        \"click #input-button\": \"onClick\",\n        \"keydown\": \"keyDown\"\n    },\n\n    onClick: function () {\n        this.sendMessage();\n    },\n\n    keyDown: function (e) {\n        var code = e.keyCode || e.which;\n        if (code == 13) {\n            this.sendMessage();\n        }\n    },\n\n    sendMessage: function () {\n        if (this.chatroom_model) {\n            if (this.friendInChat == undefined) {\n                this.select_chatroom_connection().send({ messageContent: $(\"#input_content\").val() })\n            }\n        } else if ($(\"#chat-top-bar > p#center\").attr(\"friend-chat-open\") != undefined) {\n            this.select_user_connection().send({ recipient: $(\"#chat-top-bar > p#center\").html() , messageContent: $(\"#input_content\").val() })\n        }\n        $(\"#input_content\").val(\"\");\n    },\n\n    render: function () {\n        var self = this;\n        if (this.chatroom_model) {\n            channel_gen(\"ChatChannel\", this.chatroom_model.get(\"name\"), \"\", undefined);\n        }\n\n        this.$el.html('<div id=\"chat-message\">\\\n            <div id=\"chat-top-bar\">\\\n                <p id=\"center\">no chatroom selected</p>\\\n            </div>\\\n            <ul id=\"message-container\">\\\n            </ul>\\\n            <div id=\"inputs\">\\\n                <input type=\"text\" id=\"input_content\" placeholder=\"your message...\">\\\n                <button id=\"input-button\">send</button>\\\n            </div>\\\n        </div> ');\n\n        if (this.friendInChat != undefined) {\n            $(\"#chat-top-bar > p#center\").attr(\"friend-chat-open\", \"true\");\n        }\n\n        if (this.chatroom_model) {\n            $(\"#chat-top-bar > p#center\").html(this.chatroom_model.get(\"name\"))\n            this.message_model.fetch({ data: { chatroom_name: this.chatroom_model.get(\"name\") } }).then(function () {\n                self.message_model.each(function (message) {\n                    var chatMessageView = new ChatMessageView({ model: message })\n                    self.$el.find(\"#message-container\").append(chatMessageView.render().$el);\n                })\n                $(\"#message-container\").scrollTop($(\"#message-container\")[0].scrollHeight);\n            });\n        }\n        else if (this.notificationInChat == true) {\n            $(\"#chat-top-bar > p#center\").html('notification')\n            self.notifications.fetch().then(function () {\n                self.$el.find(\"#message-container\").html('')\n                self.notifications.each(function (notification) {\n                    var chatNotificationView = new ChatNotificationView({ model: notification })\n                    self.$el.find(\"#message-container\").append(chatNotificationView.render().$el);\n                })\n                $(\".accept-notification\").click(function (e) {\n                    if ($(e.currentTarget).html() == '✓') {\n                        var friend = new Friend({ id: $(e.currentTarget).prev().html(), order: 'accept-invitation' })\n                        friend.save().then(function () {\n                            self.bus.trigger(\"refreshFriendsList\", self)\n                            self.render();\n                        })\n                    }\n                    else if ($(e.currentTarget).html() == '⚔') {\n                        var battle = new Battle({ id: $(e.currentTarget).prev().html(), type_battle: 'casual' })\n                        battle.save().then((res)=> {\n                            if (res && res[\"error\"])\n                                alert(\"user not connected\");\n                            self.render();\n                        })\n                    }\n                })\n                $(\".decline-notification\").click(function (e) {\n                    if ($(e.currentTarget).prev().html() == '✓') {\n                        var friend = new Friend({ id: $(e.currentTarget).prev().prev().html(), order: 'decline-invitation' })\n                        friend.save().then(function () {\n                            self.bus.trigger(\"refreshFriendsList\", self)\n                            self.render();\n                        })\n                    }\n                    else if ($(e.currentTarget).prev().html() == '⚔') {\n                        var battle = new Battle({ id: $(e.currentTarget).prev().prev().html() })\n                        battle.destroy({ data: { type_battle: 'casual' }, processData: true }).then(function () {\n                            self.render();\n                        })\n                    }\n                })\n            })\n        }\n        else if (this.friendInChat != undefined) {\n            var self = this;\n            $(\"#chat-top-bar > p#center\").html(this.friendInChat)\n            this.friendsMessages.fetch().then(function () {\n                self.friendsMessages.each(function (friendMessage) {\n                    var chatFriendMessageView = new ChatFriendMessageView({ model: friendMessage })\n                    self.$el.find(\"#message-container\").append(chatFriendMessageView.render().$el);\n                })\n                $(\"#message-container\").scrollTop($(\"#message-container\")[0].scrollHeight);\n            })\n        }\n        return this;\n    }\n})\n\nexport { ChatViews }\n","import {router} from \"../BackboneRouter/application_router\";\nimport {User} from \"../BackboneModel/user_model\"\nimport {getUrlParam, getCookie, imageExists} from \"../utils/utils_1\"\n\nvar ConnectedContent = Backbone.View.extend({\n    events: {\n        \"click #settingsButton\": \"settingsClicked\",\n    },\n    render : function()\n    {\n        $(\"#errorCreate\").remove();\n        var src;\n        var pseudo;\n        var user = new User({id: Cookies.get(\"login\")});\n        \n        pseudo = Cookies.get(\"pseudo\");\n        src = Cookies.get(\"url\");\n        if (src == \"null\" || src.length == 0)\n        {\n            src = \"https://portal.staralliance.com/cms/aux-pictures/prototype-images/avatar-default.png\";\n        }\n        else if (!imageExists(src))\n        {\n            user.fetch().then((res)=>\n            {\n                src = res[\"url\"];\n            });\n        }\n        if (pseudo == \"null\")\n        {\n            user.fetch().then((res)=>\n            {\n                pseudo = res[\"pseudo\"];\n                this.displayHtml(pseudo, src);\n            });\n        }\n        else\n            this.displayHtml(pseudo, src);\n    },\n    displayHtml: function (pseudo, src)\n    {\n        axios.get(`/api/users/${Cookies.get(\"login\")}`).then((res)=>{\n            this.$el.html(`\n            <div id=\"flex_div\">\n                <img src=\"${src}\"> </img>\n                <h1> ${pseudo} </h1>\n                <h2> rank: ${res[\"data\"][\"rank\"]} </h2>\n                <h2> wins: ${res[\"data\"][\"win\"]} </h2>\n                <h2> loss: ${res[\"data\"][\"loss\"]} </h2>\n                <button id=\"settingsButton\"> settings </button>\n            </div>\n            `);\n            return this;\n        });\n\n    },\n    settingsClicked: function()\n    {\n        router.navigate(`connected/settings`, {trigger: true})\n    }})\n    \n    var ConnectedMenu = Backbone.View.extend({\n        events: {\n        \"click #play\": \"play\",\n        \"click #guild\" : \"guild\",\n        \"click #disconnect\" : \"disconnect\",\n        \"click #tournament\" : \"tournament\"\n    },\n    render : function()\n    {\n        this.$el.html(` <div class=\"NavBar\">\n            <h1 id=\"title\"> Ultimate Pong Tournament </h1>\n                <div>\n                    <h1 id=\"play\"> Play </h1>\n                    <h1 id=\"tournament\"> Tournament </h1>\n                    <h1 id=\"guild\"> Guild </h1>\n                    <h1 id=\"disconnect\"> Disconnect </h1>\n                </div>\n            </div>`);\n        return this;\n    },\n    home: function ()\n    {\n        router.navigate(\"connected/play\", {trigger: true})\n    },\n    play: function ()\n    {\n        router.navigate(`connected/play`, {trigger: true})\n    },\n    guild: function ()\n    {\n        router.navigate(\"connected/guild\", {trigger: true})\n    },\n    disconnect: function()\n    {\n        Cookies.remove(\"url\");\n        Cookies.remove(\"login\");\n        Cookies.remove(\"pseudo\");\n        Cookies.remove(\"two_factor\");\n        Cookies.remove(\"id\");\n        Cookies.remove(\"token\");\n        Cookies.remove(\"guildId\");\n        $(\".Menu\").css({\"background-color\": \"black\"});\n        axios.get(`/api/log?disconnect=true`).then(()=>{\n            router.navigate(\"\", {trigger: true})\n        });\n    },\n    tournament: function ()\n    {\n        router.navigate(\"connected/tournament\", {trigger: true})\n    },\n})\n\nvar connectedContent = new ConnectedContent({el: \".Center\"});\nvar connectedMenu = new ConnectedMenu({el: \".Menu\"});\n\nexport {connectedMenu, connectedContent}","import {router} from \"../BackboneRouter/application_router\";\nimport {User} from \"../BackboneModel/user_model\"\nimport {getUrlParam} from \"../utils/utils_1\"\n\nvar CreateUserContent = Backbone.View.extend({\n    events:\n    {\n        \"click #registerButton\" : \"registerUser\",\n    },\n    render : function()\n    {\n        this.$el.html(`\n        <div id=\"flex_div\">\n            <h1> Create User </h1>\n            <input id=\"pseudo\" placeholder=\"pseudo\"/>\n            <button id=\"registerButton\"> create </button>\n        </div>\n        `);\n        return this;\n    },\n    registerUser: function()\n    {\n        if ($(\"#pseudo\").val().length < 3)\n        {\n            if ($(\"#errorCreate\").length == 0)\n                $(\".Center\").append(`<p id=\"errorCreate\"> The user pseudo must be at least 3 character </p>`);\n            return ;\n        }\n        var user = new User({login: Cookies.get(\"login\"), pseudo: $(\"#pseudo\").val()});\n        user.save(null, {\n            success : (res)=>{\n                if (res.attributes.error)\n                {\n                    if (!$(\"#errorCreate\").length)\n                        $(\".Center\").append(`<p id=\"errorCreate\"> error: Username already exist in the database </p>`)\n                }\n                else\n                {\n                    Cookies.set(\"id\", res.attributes[\"id\"])\n                    router.navigate(\"/connected/play\", {trigger: true})\n                }\n            }\n        });\n    }\n})\n\nvar CreateUserMenu = Backbone.View.extend({\n    events: {\n        \"click #title\": \"home\"\n    },\n    render : function()\n    {\n        this.$el.html(` <div class=\"NavBar\">\n            <h1 id=\"title\"> Ultimate Pong Tournament </h1>\n        </div>`);\n        return this;\n    },\n    home: function ()\n    {\n        router.navigate(\"\", {trigger: true})\n    }\n})\n\nvar createUserContent = new CreateUserContent({el: \".Center\"});\nvar createUserMenu = new CreateUserMenu({el: \".Menu\"});\n\nexport {createUserContent, createUserMenu}","var Denied = Backbone.View.extend({\n    render: function ()\n    {\n        $(\"body\").append(`<div class=\"BackClick\"></div>`);\n        $(\".BackClick\").click(()=>{\n            this.removePopUp();\n        });\n        $(\".App\").html(`\n            <div id=\"confirmDiv\">\n                <h1> ACCES DENIED </h1>\n            </div>\n        `)    \n    }\n})\n\n\nvar Banned = Backbone.View.extend({\n    render: function ()\n    {\n        $(\"body\").append(`<div class=\"BackClick\"></div>`);\n        $(\".BackClick\").click(()=>{\n            this.removePopUp();\n        });\n        $(\".App\").html(`\n            <div id=\"confirmDiv\">\n                <h1> BANNED  </h1>\n            </div>\n        `)    \n    }\n})\n\nvar denied = new Denied;\nvar banned = new Banned;\nexport {denied, banned};\n","import { Chatrooms, Chatroom } from \"../BackboneModel/chat_list_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\"\nimport { Friend, Friends } from \"../BackboneModel/friend_list_model\"\nimport { Battle, Battles } from \"../BackboneModel/battle_list_model\"\nimport { Ban } from \"../BackboneModel/ban_model\"\n\n\nvar FriendListView = Backbone.View.extend({\n\n    initialize: function (options) {\n        this.bus = options.bus;\n    },\n\n    events: {\n        \"click .speech-friend\": \"onClick\"\n    },\n\n    onClick: function (e) {\n        this.bus.trigger(\"friendChatroomSelected\", this.model)\n    },\n\n    render: function () {\n        var right_buttons = '<p class=\"speech-friend social-hover\">💬</p><p class=\"mute-friend social-hover\">' + (this.model.get(\"i_mute\") ? '🔇' : '🔉') + '</p><p class=\"flb quite-friend social-hover\">✖</p>'\n        this.$el.html('<li class=\"friend\">\\\n            <p class=\"friend-name ' + (this.model.get('onsite') == true ? 'green-dot ' : 'red-dot ') + 'social-hover\">' + this.model.get(\"pseudo\") + '</p>' + right_buttons + '</li>')\n        return this;\n    }\n});\n\nvar FriendListViews = Backbone.View.extend({\n    el: \".friend-list\",\n\n    initialize: function (options) {\n        var self = this;\n        this.friends = new Friends();\n        this.search_is_open = false;\n        this.bus = options.bus;\n        this.users = options.users;\n        this.profilView = options.profilView;\n        this.bus.on(\"refreshFriendsList\", this.refreshFriendsList, this);\n    },\n\n    refreshFriendsList: function (e) {\n        if (e.status != undefined) {\n            if (e.status) {\n                $(\".friend-name:contains('\" + e.pseudo + \"')\").addClass('green-dot')\n                $(\".friend-name:contains('\" + e.pseudo + \"')\").removeClass('red-dot')\n            } else {\n                $(\".friend-name:contains('\" + e.pseudo + \"')\").addClass('red-dot')\n                $(\".friend-name:contains('\" + e.pseudo + \"')\").removeClass('green-dot')\n            }\n        }\n    },\n\n    generateSearchList: function () {\n        var self = this;\n        $(\"#search-friend-corps\").html('<ul id=\"friend-search-list\">\\\n        </ul>');\n        this.users.fetch({ data: { pseudo: $(\"#input-button-search-friend\").val(), findby: \"friend\" } }).then(function () {\n            $(\"#friend-search-list\").html(\"\");\n            self.users.each(function (user) {\n                $(\"#friend-search-list\").append('<li class=\"friend\">\\\n                <p class=\"title-friend-search social-hover\">' +\n                    user.get(\"pseudo\") + '</p>' +\n                    (user.get(\"blocked\") == false && user.get(\"invitation\") != \"cant_do_anything\" ? '<p class=\"user-invitation social-hover\">' + (user.get(\"invitation\") == \"can_invite\" ? '✋' : '❌') + '</p>' : '') +\n                    (user.get(\"blocked\") == false && user.get(\"battle\") != \"cant_do_anything\" ? '<p class=\"user-challenge social-hover\">' + (user.get(\"battle\") == \"can_invite\" ? '⚔' : '❌') + '</p>' : '') +\n                    (user.get(\"are_friend\") == false ? '<p class=\"user-ban social-hover\">' + (user.get(\"blocked\") == true ? '🏴' : '🏳') + '</p>' : '') +\n                    '</li>')\n            })\n            $(\"p.title-friend-search\").click(function (e) {\n                self.profilView.render(self, e);\n            })\n            $(\".user-invitation\").click(function (e) {\n                if ($(e.currentTarget).html() == '✋') {\n                    var friend = new Friend({ pseudo: $(e.currentTarget).prev().html() })\n                    friend.save().then(function () {\n                        self.render();\n                    })\n                } else if ($(e.currentTarget).html() == '❌') {\n                    var friend = new Friend({ id: $(e.currentTarget).prev().html() })\n                    friend.destroy().then(function () {\n                        self.render();\n                    })\n                }\n            })\n            $(\".user-challenge\").click(function (e) {\n                var left_pseudo = $(e.currentTarget).prev().html();\n                if (left_pseudo == '✋' || left_pseudo == '❌')\n                    left_pseudo = $(e.currentTarget).prev().prev().html();\n                if ($(e.currentTarget).html() == '⚔') {\n                    var battle = new Battle({ pseudo: left_pseudo, type_battle: 'casual' })\n                    battle.save().then(function () {\n                        self.render();\n                    })\n                } else if ($(e.currentTarget).html() == '❌') {\n                    var battle = new Battle({ id: left_pseudo })\n                    battle.destroy({ data: { type_battle: 'casual' }, processData: true }).then(function () {\n                        self.render();\n                    })\n                }\n            })\n            $(\".user-ban\").click(function (e) {\n                var left_pseudo = $(e.currentTarget).prev().html();\n                if (left_pseudo == '✋' || left_pseudo == '❌' || left_pseudo == '⚔') {\n                    left_pseudo = $(e.currentTarget).prev().prev().html();\n                    if (left_pseudo == '✋' || left_pseudo == '❌' || left_pseudo == '⚔') {\n                        left_pseudo = $(e.currentTarget).prev().prev().prev().html();\n                    }\n                }\n                if ($(e.currentTarget).html() == '🏴') {\n                    var ban = new Ban({ id: left_pseudo, new_status: false })\n                    ban.save().then(function () {\n                        self.render();\n                    })\n                } else if ($(e.currentTarget).html() == '🏳') {\n                    var ban = new Ban({ id: left_pseudo, new_status: true })\n                    ban.save().then(function () {\n                        self.render();\n                    })\n                }\n            })\n        });\n    },\n\n    events: {\n        \"click #right-button-friend\": \"onClickForSearch\",\n        \"click .user-leave\": \"onClickForLeave\"\n    },\n\n    onClickForSearch: function () {\n        var self = this;\n        if (this.search_is_open == false) {\n            $(\"#friend-list\").prepend('<div id=\"search-friend\">\\\n                    <input type=\"text\" id=\"input-button-search-friend\"><p class=\"show-more-friend social-hover\">C</p>\\\n                    <div id=\"search-friend-corps\">\\\n                    </div>\\\n                </div>')\n            $(\"#input-button-search-friend\").keyup(function (e) {\n                self.generateSearchList();\n            })\n            self.generateSearchList();\n            $(\"#right-button-friend\").html(\"−\")\n            $(\"#right-button-friend\").css(\"background\", \"red\")\n            this.search_is_open = true;\n        }\n        else {\n            $(\"#right-button-friend\").html(\"✚\")\n            $(\"#right-button-friend\").css(\"background\", \"green\")\n            $(\"#search-friend\").remove()\n            this.search_is_open = false;\n        }\n    },\n\n    quite_friend: function () {\n        var self = this;\n        $(\".quite-friend\").click(function (e) {\n            var friend = new Friend({ id: $(e.currentTarget).prev().prev().prev().html() })\n            friend.destroy().then(function () {\n                self.render();\n            })\n        })\n    },\n\n    mute_friend: function () {\n        var self = this;\n        $(\".mute-friend\").click(function (e) {\n            var mute = $(e.currentTarget).html() == '🔉' ? true : false;\n            var friend = new Friend({ id: $(e.currentTarget).prev().prev().html(), order: 'mute-friend', mute: mute })\n            friend.save().then(function () {\n                if (!mute && $(\"#chat-top-bar > p#center\").html() == $(e.currentTarget).prev().prev().html()) {\n                    self.bus.trigger(\"friendChatroomRefresh\", this.model)\n                }\n                self.render();\n            })\n        })\n    },\n\n    render: function () {\n        var self = this;\n\n        self.ProfilIsOpen = false;\n        this.search_is_open = false\n        this.$el.html('<div id=\"friend-list\">\\\n            <div id=\"friend-list-top-bar\">\\\n                <p id=\"center-friend-list-top-bar\">YourFriends</p><p id=\"right-button-friend\" class=\"social-hover\">✚</p>\\\n            </div>\\\n            <ul id=\"friend-list-container\">\\\n            </ul>\\\n            </div>');\n        $(\"#right-button-friend\").css(\"background\", \"green\")\n        self.model.fetch().then(function () {\n            self.$el.find(\"ul#friend-list-container\").html('')\n            self.model.each(function (friend) {\n                var friendListView = new FriendListView({ model: friend, bus: self.bus })\n                self.$el.find(\"ul#friend-list-container\").append(friendListView.render().$el);\n            })\n            self.quite_friend();\n            self.mute_friend();\n            $(\".friend-name.social-hover\").click(function (e) {\n                self.profilView.render(self, e);\n            });\n            return self;\n        })\n    }\n});\n\nexport { FriendListViews }\n","import {GameModel} from \"../BackboneModel/game_model\"\nimport {getUrlParam} from \"../utils/utils_1\"\nimport {game_channel} from \"../channels/game_channel\"\nimport consumer from \"../channels/consumer\"\nimport {router} from \"../BackboneRouter/application_router\"\n\nvar interval;\n\nvar GameContent = Backbone.View.extend({\n    events: {\n        \"click #menu\" : \"launch_game\",\n        \"keyup\" : \"keyup_event\",\n        \"keydown\" : \"keydown_event\",\n    },\n    render: function ()\n    {\n        var game_id = getUrlParam(\"game_id\");\n        var game = new GameModel({id: game_id});\n        game.fetch().then((res)=>{\n            this.$el.html(`\n            <div id=\"flex_div\">\n            <div id=\"top\">\n            <h2 id=\"score\"> <span id=\"player1\">${res[\"player_1\"]}</span>: <span id=\"scoreP1\">0</span> <span class=\"VS\">VS</span> <span id=\"player2\">${res[\"player_2\"]}</span>: <span id=\"scoreP2\">0</span></h2>\n            <h1 id=\"menu\"></h1>\n            </div>\n            <canvas id=\"pongBoard\" width=750 height=750> </canvas>\n            </div>\n            `);\n            if (Cookies.get(\"pseudo\") != res[\"player_1\"] && Cookies.get(\"pseudo\") != res[\"player_2\"])\n                var guest = true\n            else\n                var guest = false\n            this.socket = game_channel(guest, res[\"player_1\"], this);\n            return this;\n        });\n    },\n    end_game: function ()\n    {\n        this.socket.unsubscribe();\n        clearInterval(interval);\n        var winner;\n        if (this.p1.score == 10)\n            winner = $(\"#player1\").text();\n        else\n            winner = $(\"#player2\").text();\n        $(\"#score\").hide();\n        if ($(\".BackClick\").length == 0)\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n        if ($(\"#partyEnding\").length == 0)\n            $(\".Center\").append(`\n                <div class=\"PopUp\" id=\"partyEnding\">\n                    <h1> ${winner} <span style=\"color: green\">WIN</span> THE GAME </h1>\n                    <button id=\"endMatchButton\"> Go back to menu </button>\n                </div>\n            `);\n        $(\".BackClick\").click(()=>{\n            this.end = false;\n            router.navigate(\"connected/play\", {trigger: true});\n            $(\".BackClick\").remove();\n        });\n        $(\"#endMatchButton\").click(()=>{\n            this.end = false;\n            router.navigate(\"connected/play\", {trigger: true});\n            $(\".BackClick\").remove();\n        })\n    }\n});\n\nvar gameContent = new GameContent({el: \".Center\"});\n\nexport {gameContent};","import { Guild, guildCollection, GuildCollection } from \"../BackboneModel/guild_model\"\nimport { ProfilGuildView } from \"../BackboneViews/ProfilGuildView\"\n\nvar GuildLiView = Backbone.View.extend({\n    render: function () {\n        this.$el.html('<li class=\"glist-li social-hover\"><p class=\"glist-name\">' + this.model.get(\"name\") + '</p><p class=\"glist-anagram\">' + this.model.get(\"anagram\") + '</p><p class=\"glist-points\">point: ' + this.model.get(\"points\") + '</p></li>')\n        return this;\n    }\n})\n\nvar GuildListView = Backbone.View.extend({\n\n    initialize: function () {\n        this.profilGuildView = new ProfilGuildView();\n    },\n\n    generate_list: function () {\n        var self = this;\n        var guildC = new GuildCollection();\n        guildC.fetch({ data: { name: $(\"#guild-list-input\").val(), checked: $(\"#guild-list-input-check\").is(\":checked\") } }).then(function () {\n            $(\"#guild-list\").html('');\n            guildC.each(function (guild) {\n                var guildLiView = new GuildLiView({ model: guild });\n                $(\"#guild-list\").append(guildLiView.render().$el);\n                120147\n            })\n            $(\".glist-li\").click(function (e) {\n                self.profilGuildView.render(e);\n            })\n        })\n    },\n\n    render: function () {\n        var self = this;\n        $(\"#flex_div\").append('<h2 id=\"guild-list-title\">guild list</h2>');\n        $(\"#flex_div\").append('<div><input id=\"guild-list-input\" type=\"text\"></input><input id=\"guild-list-input-check\" type=\"checkbox\"></input><p id=\"guild-list-classed-check\">classed by rank</p></div>');\n        $(\"#flex_div\").append('<div><ul id=\"guild-list\"></ul></div>');\n\n        $(\"#guild-list-input\").keyup(function () {\n            self.generate_list();\n        })\n        self.generate_list();\n    }\n})\n\nexport { GuildListView }","import { router } from \"../BackboneRouter/application_router\";\nimport { User } from \"../BackboneModel/user_model\"\nimport { Guild, guildCollection, GuildCollection } from \"../BackboneModel/guild_model\"\nimport { War } from \"../BackboneModel/war_model\"\nimport { userCollection } from \"../BackboneModel/user_model\"\nimport { Battle, Battles } from \"../BackboneModel/battle_list_model\"\nimport { GuildListView } from \"../BackboneViews/GuildListView\"\n\nvar Guild_matching_popup = Backbone.View.extend({\n    render: function (self) {\n        $(\".PopUp-guild-matching\").remove()\n        if (true) {\n            var chrono = 15;\n            self.stop_matchine = false;\n\n            $(\".Center\").append('<div class=\"PopUp PopUp-guild-matching\" id=\"popup-profil\">\\\n                <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"✖\"></input>' +\n                '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-refresh\" value=\"⟳\"></input>\\\n                <h2 id=\"title-popup-chatroom-pannel\">' + 'search match' + '</h2>\\\n                <p id=\"chrono\"><p>\\\n                <img id=\"img-chargement-gif\" src=\"https://thumbs.gfycat.com/KnobbyWeirdIlladopsis-size_restricted.gif\"><image>\\\n                </div>');\n\n            var removePopup = function () {\n                self.stop_matchine = true;\n                var battle = new Battle({ id: 'tournament' })\n                battle.destroy({ data: { type_battle: 'tournament' }, processData: true }).then(function () {\n                    $(\".PopUp\").remove()\n                })\n                $(\"#popUpWar\").remove();\n                $(\".BackClick\").remove();\n                $(\".PopUp\").remove()\n                self.mouseIn = true;\n            }\n\n            function traitement(chrono) {\n                setTimeout(suiteTraitement, 1000, chrono)\n            }\n            function suiteTraitement(chrono) {\n                console.log(chrono)\n                if (self.stop_matchine == true) {\n                    // nothing\n                } else if (chrono > 0) {\n                    traitement(chrono - 1);\n                    $('#chrono').html(chrono)\n                } else {\n                    removePopup();\n                }\n            }\n            traitement(chrono);\n            console.log(\"valp valp: on lance\")\n\n            self.mouseIn = false;\n\n            $(\".PopUp\").hover(function () {\n                self.mouseIn = true;\n            }, function () {\n                self.mouseIn = false;\n            });\n\n            $(\"body\").mouseup(function () {\n                if (self.mouseIn == false)\n                    removePopup();\n            });\n\n            $(\"#popup-chatroom-administration-quit\").click(function () {\n                removePopup();\n            });\n        };\n    }\n})\n\nvar matching_popup = new Guild_matching_popup();\n\nvar GuildContent = Backbone.View.extend({\n\n    initialize: function () {\n        this.guildListView = new GuildListView();\n    },\n\n    events:\n    {\n        \"click #joinGuild\": \"join\",\n        \"click #createGuild\": \"create\",\n        \"click #leaveGuild\": \"leave\",\n        \"click #no\": \"removeConfirmDiv\",\n        \"click #yes\": \"exitGuild\",\n        \"click #manageGuild\": \"manageGuild\",\n        \"click #destroyGuild\": \"destroyGuildConfirm\",\n        \"click #destroyGuildButton\": \"destroyGuild\",\n        \"click #exitDestroy\": \"exitDestroy\",\n        \"click #warMenu\": \"displayWarMenu\",\n        \"click #quitPopUp\": \"removeWarMenu\",\n        \"click #giveUpWar\": \"surrender\",\n        \"click #settingGuildButton\": \"settings\"\n    },\n\n    render: function () {\n        var self = this;\n        self.matchingPopupIsOpen = false;\n        var user = new User({ id: Cookies.get(\"login\") });\n        user.fetch().then((res) => {\n            if (res[\"guild_id\"] == null) {\n                this.$el.html(`\n                <div id=\"flex_div\">\n                    <button id=\"joinGuild\"> Join a Guild </button>\n                    <button id=\"createGuild\"> Create a Guild </button>\n                </div>\n                `);\n                self.guildListView.render();\n            }\n            else {\n                var guild = new Guild({ id: res[\"guild_id\"] });\n                var user = res;\n                guild.fetch().then((res) => {\n                    var src;\n                    if (res.flag.length > 0)\n                        src = res.flag\n                    else\n                        src = \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Pirate_Flag_of_Jack_Rackham.svg/1024px-Pirate_Flag_of_Jack_Rackham.svg.png\";\n                    this.$el.html(`\n                        <div id=\"flex_div\">\n                        <img src=\"${src}\"> </img>\n                        <h1> ${res[\"name\"]} </h1>\n                        <h1> ${res[\"anagram\"]} </h1>\n                        <h1> Points: ${res[\"points\"]} </h1> \n                        </div>`);\n                    if (user[\"guildStatus\"] == \"owner\") {\n                        $(\"#flex_div\").append(`<button id=\"manageGuild\"> manage the guild </button>`);\n                        $(\"#flex_div\").append(`<button id=\"destroyGuild\"> destroy the guild </button>`);\n                    }\n                    else {\n                        $(\"#flex_div\").append(`<button id=\"leaveGuild\"> leave the guild </button>`);\n                    }\n                    self.guildListView.render();\n                })\n            }\n        }).then(() => {\n            var guild = new Guild({ id: Cookies.get(\"guildId\") });\n            guild.fetch().then((res) => {\n                console.log(\"putin 0\")\n                \n                if (res[\"error\"]) {\n                    console.log(\"putin 1\")\n                    return;\n                } else {\n                    console.log(\"putin 2\")\n                }\n                var my_guild = res;\n                axios.get(`/api/wars/${res[\"name\"]}`).then((res) => {\n                    console.log(\"putin 3 \" + res[\"name\"])\n                    if (res.data) {\n                        console.log(\"putin 4\")\n                        this.data = res.data;\n                        axios.get(`/api/users/${Cookies.get(\"login\")}`).then((res) => {\n                            console.log(\"putin res.data[] = \" + res.data[\"guild_id\"])\n                            if (res.data[\"guild_id\"] != null) {\n                                $(\"#flex_div\").append(`<button id=\"warMenu\"> War menu </button>`);\n                            }\n                        });\n                    };\n                });\n            });\n        });\n    },\n    join: function () {\n        router.navigate(\"connected/guild/join\", { trigger: true })\n    },\n    create: function () {\n        router.navigate(\"connected/guild/create\", { trigger: true })\n    },\n    leave: function () {\n        $(\".Center\").append(\n            `<div id=\"confirmDiv\">\n            <h2> Are you sure you want to leave the guild ? </h2>\n            <div id=\"yesno\">\n                <button id=\"yes\"> yes </button>\n                <button id=\"no\"> no </button>\n            </div>\n        </div>\n        `)\n    },\n    removeConfirmDiv: function () {\n        $(\"#confirmDiv\").remove();\n    },\n    exitGuild: function () {\n        var user = new User({ id: Cookies.get(\"login\") });\n        user.fetch();\n        user.save({ guild_id: null, guildStatus: null }).then(() => {\n            $(\"#confirmDiv\").remove();\n            this.render();\n        });\n    },\n    manageGuild: function () {\n        router.navigate(\"connected/guild/manage\", { trigger: true })\n    },\n    destroyGuildConfirm: function () {\n        if ($(\"#popUpDestroy\").length == 0) {\n            $(\".Center\").append(\n                `<div id=\"popUpDestroy\" class=\"PopUp\">\n                    <h1> Are you sure you want to destroy the guild ? </h1>\n                    <div id=\"yesno\">\n                        <button id=\"destroyGuildButton\"> destroy guild </button>\n                        <button id=\"exitDestroy\"> exit </button>\n                    </div>\n                </div>\n            `)\n        }\n    },\n    destroyGuild: function () {\n        axios.delete(`/api/guilds/${Cookies.get(\"guildId\")}`).then((res) => {\n            this.render();\n        });\n        $(\"#popUpDestroy\").remove();\n    },\n    exitDestroy: function () {\n        $(\"#popUpDestroy\").remove();\n    },\n    displayWarMenu: function (e) {\n        var self = this;\n        $(\"body\").append(`<div class=\"BackClick\"></div>`);\n        $(\".BackClick\").click(() => {\n            this.removeWarMenu();\n        });\n        $(\".Center\").append(`\n            <div class=\"PopUp\" id=\"popUpWar\">\n                <h1> ${this.data[\"player1\"]} <span style=\"color: red\" > VS </span> ${this.data[\"player2\"]} </h1>\n                <h3> <span style=\"color: #d4af37; font-size: 1.5em\">PRIZE :  ${this.data[\"prize\"]} </span></h3>\n                <p> ${this.data[\"player1\"]} points : ${this.data[\"player1_points\"]} </p>\n                <p> ${this.data[\"player2\"]} points : ${this.data[\"player2_points\"]} </p>\n                <h3> <span style=\"color: red; font-size: 1.5em\">MAX UNANSWERED MATCHS : ${this.data[\"max_unanswered\"]} </span></h3>\n                <p> unanswered match ${this.data[\"player1\"]}: ${this.data[\"player1_unanswered\"]} </p>\n                <p> unanswered match ${this.data[\"player2\"]}: ${this.data[\"player2_unanswered\"]} </p>\n                <h3> <span style=\"color: green; font-size: 1.5em\"> FROM ${new Date(this.data[\"start_at\"]).toDateString()} TO ${new Date(this.data[\"end_at\"]).toDateString()} </span> </h3>\n                <div id=\"warTimeList\">\n                </div>\n                <button id=\"giveUpWar\"> surrender </button> \n                <button id=\"battleGuildWar\"> guild battle </button> \n                <p class=\"QuitPopUp\" id=\"quitPopUp\">❌</p>\n            </div>\n        `)\n\n        $(\"#battleGuildWar\").click(function () {\n            var battle = new Battle({ type_battle: 'guild' })\n            battle.save().then(function (res) {\n                console.log(\"okok res:\")\n                console.log(res[\"possible\"])\n                if (res[\"possible\"] == true) {\n                    self.removeWarMenu();\n                    matching_popup.render(self)\n                } else {\n                    alert(\"unable to start matchmaking:\\n- match in progress\\n- already pending\\n- you are not in a combat period\")\n                }\n            })\n        })\n\n        $.each(this.data[\"timetable\"], (i) => {\n            $(\"#warTimeList\").append(`\n                <p>${this.data[\"timetable\"][i]}</p>\n            `)\n        });\n        //si ya match afficher score sinon bouton pour defier\n    },\n    removeWarMenu: function () {\n        $(\"#popUpWar\").remove();\n        $(\".BackClick\").remove();\n    },\n    surrender: function () {\n        var war = new War({ id: this.data.id });\n        war.fetch().then(() => {\n            war.destroy().then((res) => {\n                $(\".BackClick\").remove();\n                this.render();\n            });\n        });\n    },\n});\n\nvar guildContent = new GuildContent({ el: \".Center\" })\n\nvar GuildCreateContent = Backbone.View.extend({\n    events:\n    {\n        \"click #saveGuildButton\": \"saveGuild\"\n    },\n    render: function () {\n        this.$el.html(`\n        <div id=\"flex_div\">\n       <h2 id=\"settingsTitle\"> Create a Guild </h2>\n        <div id=\"inputDiv\">\n        <input id=\"guildName\" placeholder=\"name\"/>\n        <input id=\"guildAnagram\" placeholder=\"anagram\"/>\n        </div>\n        <div class=\"CheckBox\">\n        <p> select an flag image </p>\n        <label id=\"fileLabel\" for=\"fileUpload\"> Select a file </label>\n        <input id=\"fileUpload\" type=\"file\" accept=\"image/*\"/>\n        </div>\n        <button id=\"saveGuildButton\"> create </button>\n        </div>\n        `);\n        return this;\n    },\n    saveGuild: function () {\n        if ($(\"#guildName\").val().length < 3) {\n            if ($(\"#errorCreate\").length == 0)\n                $(\".Center\").append(`<p id=\"errorCreate\"> The guild name must be at least 3 characters </p>`);\n            return;\n        }\n        else\n            $(\"#errorCreate\").remove();\n        if ($(\"#guildAnagram\").val().length > 5) {\n            if ($(\"#errorCreate\").length == 0)\n                $(\".Center\").append(`<p id=\"errorCreate\"> The guild anagram must be less than 6 characters </p>`);\n            return;\n        }\n        else\n            $(\"#errorCreate\").remove();\n        if ($(\"#guildAnagram\").val().length < 2) {\n            if ($(\"#errorCreate\").length == 0)\n                $(\".Center\").append(`<p id=\"errorCreate\"> The guild anagram must at least two character long </p>`);\n            return;\n        }\n        else\n            $(\"#errorCreate\").remove();\n        var user = new User({ id: Cookies.get(\"login\") });\n        user.fetch().then((res) => {\n            const formData = new FormData();\n            if (document.getElementById(\"fileUpload\").files.length > 0) {\n                var file = document.getElementById(\"fileUpload\").files[0];\n                var blob = new Blob([file]);\n                formData.append(\"flag\", blob);\n            }\n            formData.append(\"name\", $(\"#guildName\").val());\n            formData.append(\"points\", 0);\n            formData.append(\"anagram\", $(\"#guildAnagram\").val());\n            formData.append(\"user\", user[\"id\"]);\n            if (document.getElementById(\"fileUpload\").files.length > 0) {\n                var file = document.getElementById(\"fileUpload\").files[0];\n                var blob = new Blob([file]);\n                formData.append(\"flag\", blob);\n            }\n            axios({\n                url: `/api/guilds`,\n                method: \"POST\",\n                data: formData\n            }).then((res) => {\n                if (res.data.body == \"guild name already exist in the database\") {\n                    if ($(\"#errorCreate\").length == 0)\n                        $(\".Center\").append(`<p id=\"errorCreate\"> The guild name is already register </p>`);\n                    return;\n                }\n                else\n                    $(\"#errorCreate\").remove();\n                if (res.data.body == \"guild anagram already exist in the database\") {\n                    if ($(\"#errorCreate\").length == 0)\n                        $(\".Center\").append(`<p id=\"errorCreate\"> The guild anagram is already register </p>`);\n                    return;\n                }\n                else\n                    $(\"#errorCreate\").remove();\n                Cookies.set(\"guildId\", res.data[\"id\"]);\n                router.navigate(\"connected/guild\", { trigger: true })\n            });\n        });\n    }\n});\n\nvar guildCreateContent = new GuildCreateContent({ el: \".Center\" });\n\nvar GuildJoinContent = Backbone.View.extend({\n    events:\n    {\n        \"click .guildBox\": \"joinGuild\",\n        \"keyup #guildSearch\": \"updateList\",\n    },\n    render: function () {\n        this.$el.html(\n            `<h1> Join a guild </h1>\n            <input placeholder=\"search a guild\" id=\"guildSearch\"/>\n            <div id=\"guildList\">\n            </div>\n            `)\n        guildCollection.fetch().then((res) => {\n            guildCollection.each((guild) => {\n                $(\"#guildList\").append(`\n                    <div class=\"guildBox\" data-guild=${guild.attributes[\"id\"]}>\n                        <p> ${guild.attributes[\"name\"]} </p>\n                        <p> ${guild.attributes[\"anagram\"]} </p>\n                        <p> ${guild.attributes[\"points\"]} </p>\n                    </div>\n                    `)\n            })\n        })\n    },\n    joinGuild: function (e) {\n        var guildId = e.currentTarget.getAttribute(\"data-guild\");\n        var guild = new Guild({ id: guildId });\n        guild.fetch().then((res) => {\n            guild.set({ \"user\": Cookies.get(\"id\") });\n            guild.save().then((res) => {\n                Cookies.set(\"guildId\", res[\"id\"]);\n                router.navigate(\"connected/guild\", { trigger: true })\n            })\n        })\n    },\n    updateList: function (e) {\n        axios.get(`/api/guilds.json?name=${$(\"#guildSearch\").val()}`).then((res) => {\n            var object = JSON.parse(res[\"request\"].response);\n            $(\"#guildList\").empty();\n            $.each(object, (i) => {\n                $(\"#guildList\").append(`\n                    <div class=\"guildBox\" data-guild=${object[i][\"id\"]}>\n                    <p> ${object[i][\"name\"]} </p>\n                    <p> ${object[i][\"anagram\"]} </p>\n                    <p> ${object[i][\"points\"]} </p>\n                    </div>\n                `)\n            })\n        })\n    }\n});\n\nvar guildJoinContent = new GuildJoinContent({ el: \".Center\" });\n\nvar GuildManageContent = Backbone.View.extend({\n    events: {\n        \"keyup #guildManageSearch\": \"updateList\",\n        \"change #selectVal\": \"updateList\",\n        \"click .manageBox\": \"handleClick\",\n        \"change #guildManageSearch\": \"updateList\",\n        \"click #sendDeclaration\": \"sendDeclaration\",\n        \"click #exitDeclare\": \"exitDeclare\",\n        \"click #exitNotif\": \"exitNotif\",\n        \"click #notifWarDeclaration\": \"confirmDeclaration\",\n        \"click #declineWar\": \"declineWar\",\n        \"click #acceptWar\": \"acceptWar\",\n        \"change #dateRange\": \"updateDateWar\",\n        \"click #addWarTime\": \"addWarTime\",\n        \"click .WarTimeBox\": \"removeWarTime\"\n    },\n    render: function () {\n        this.warTimes = [];\n        this.$el.html(`\n        <div id=\"select\">\n        <select id=\"selectVal\">\n            <option value=\"0\">ban members</option>\n        </select>\n        </div>\n        <div id=\"guildManagment\">\n            <input id=\"guildManageSearch\"/>\n            <div id=\"list\"> </div>\n        </div>\n        `);\n        this.updateList();\n        return this\n    },\n    updateList: function () {\n        $(\"#errorCreate\").remove();\n        axios.get(`/api/guilds/${Cookies.get(\"guildId\")}`).then((res) => {\n            axios.get(`/api/wars/${res.data[\"name\"]}`).then((res) => {\n                if (!res.data && $(\"#warManage\").length == 0) {\n                    $(\"#selectVal\").append(`<option value=\"1\" id=\"warManage\">accept war declaration</option>\n                    <option value=\"2\">declare war</option>`)\n                }\n            });\n        });\n        if ($(\"#selectVal option:selected\").text() == \"declare war\") {\n            axios.get(`/api/guilds?name=${$(\"#guildManageSearch\").val()}&war=true`).then((res) => {\n\n                var object = JSON.parse(res[\"request\"].response);\n                $(\"#list\").empty();\n                $.each(object, (i) => {\n                    $(\"#list\").append(`\n                    <div class=\"manageBox\">\n                        <p id=\"name\">${object[i][\"name\"]}</p>\n                        <p id=\"anagram\">${object[i][\"anagram\"]}</p>\n                        <p id=\"startWar\"> ⚔ </p>\n                    </div>\n                    `)\n                })\n            })\n        }\n        else if ($(\"#selectVal option:selected\").text() == \"ban members\") {\n            axios.get(`/api/guilds/${Cookies.get(\"guildId\")}?pseudo=${$(\"#guildManageSearch\").val()}`).then((res) => {\n                var object = JSON.parse(res[\"request\"].response);\n                $(\"#list\").empty();\n                $.each(object, (i) => {\n                    $(\"#list\").append(`\n                        <div class=\"manageBox\">\n                            <p id=\"name\">${object[i][\"pseudo\"]}</p>\n                            <p id=\"ban\">Ban</p>\n                        </div>\n                    `)\n                })\n            })\n        }\n        else {\n            $(\"#list\").empty();\n            axios.get(`/api/guilds/${Cookies.get(\"guildId\")}`).then((res) => {\n                var guild_name = res.data[\"name\"];\n                axios.get(`/api/declarations?receiver=${guild_name}`).then((res) => {\n                    var object = JSON.parse(res[\"request\"].response);\n                    $.each(object, (i) => {\n                        $(\"#list\").append(`\n                        <div class=\"manageBox\" id=\"notifWarDeclaration\" sender=\"${object[i][\"sender\"]}\" start-date=${object[i][\"start_at\"]} end-date=${object[i][\"end_at\"]}>\n                            <p id=\"sender\">${object[i][\"sender\"]}</p>\n                            <p id=\"points\">${object[i][\"points\"]} points</p>\n                        </div>\n                        `)\n                    });\n                })\n            })\n        }\n    },\n    handleClick: function (e) {\n        if ($(\"#selectVal option:selected\").text() == \"ban members\" && $(e.target).html() == \"Ban\") {\n            var user = e.currentTarget.querySelector(\"#name\").innerHTML;\n            axios.patch(`/api/guilds/${Cookies.get(\"guildId\")}?ban=${user}`).then((res) => {\n                this.updateList();\n            });\n        }\n        else if ($(\"#selectVal option:selected\").text() == \"declare war\" && $(\"#declareDiv\").length == 0) {\n            $(\".Center\").append(\n                `<div id=\"declareDiv\" data-guild=\"${e.currentTarget.querySelector(\"#name\").innerHTML}\">\n                    <p> How many points do you want to bet ? </p>\n                    <input id=\"pointInput\" type=\"number\" min=\"0\" placeholder=\"points\"/>\n                    <p> Max unanswered match </p>\n                    <input id=\"unanswered\" type=\"number\" placeholder=\"max unanswered match\"/>\n                    <p> choose a range date </p>\n                    <input id=\"dateRange\"/>\n                    <p> Choose war times </p>\n                    <input id=\"timeTable\"/>\n                    <p id=\"addWarTime\">➕</p>\n                    <div id=\"warTimeList\">\n                    </div>\n                    <div id=\"yesno\">\n                        <button id=\"sendDeclaration\"> declare war </button>\n                        <button id=\"exitDeclare\"> exit </button>\n                    </div>\n                </div>\n                `)\n            $('#dateRange').daterangepicker({\n                autoApply: true,\n                minDate: new Date()\n            });\n            $('#timeTable').daterangepicker({\n                autoApply: true,\n                timePicker: true,\n                minDate: $(\"#dateRange\").val().split(\" - \")[0],\n                maxDate: $(\"#dateRange\").val().split(\" - \")[1],\n                startDate: moment().startOf('hour'),\n                endDate: moment().startOf('hour').add(32, 'hour'),\n                locale: {\n                    format: 'M/DD hh:mm A'\n                }\n            });\n        }\n    },\n    sendDeclaration: function () {\n        if ($(\"#pointInput\").val() <= 0) {\n            if ($(\"#errorCreate\").length == 0)\n                $(\"#declareDiv\").append(`<p id=\"errorCreate\"> Points must be superior than 0 </p>`);\n            return;\n        }\n        else\n            $(\"#errorCreate\").remove();\n        if ($(\"#warTimeList > *\").length == 0) {\n            if ($(\"#errorCreate\").length == 0)\n                $(\"#declareDiv\").append(`<p id=\"errorCreate\"> You need at least one war time </p>`);\n            return;\n        }\n        else\n            $(\"#errorCreate\").remove();\n        var date_range = $(\"#dateRange\").val().split(\" - \");\n        if (date_range[0] == date_range[1]) {\n            if ($(\"#errorCreate\").length == 0)\n                $(\"#declareDiv\").append(`<p id=\"errorCreate\"> Start date and End date cannot be the same </p>`);\n            return;\n        }\n        else\n            $(\"#errorCreate\").remove();\n        axios.get(`/api/guilds/${Cookies.get(\"guildId\")}`).then((res) => {\n            var guild_name = res.data[\"name\"];\n            if (parseInt(res.data[\"points\"]) < parseInt($(\"#pointInput\").val())) {\n                if ($(\"#errorCreate\").length == 0)\n                    $(\"#declareDiv\").append(`<p id=\"errorCreate\"> You dont have enought points </p>`);\n                throw new Error('error');\n            }\n            else\n                $(\"#errorCreate\").remove();\n            axios({\n                method: 'post',\n                url: '/api/declarations',\n                data: {\n                    receiver: $(\"#declareDiv\").attr(\"data-guild\"),\n                    points: $(\"#pointInput\").val(),\n                    start_at: new Date(date_range[0]),\n                    end_at: new Date(date_range[1]),\n                    sender: guild_name,\n                    timetable: this.warTimes,\n                    unanswered: $(\"#unanswered\").val()\n                }\n            }).then((res) => {\n                $(\"#declareDiv\").remove();\n            }).catch((err) => {\n                return;\n            })\n        });\n    },\n    exitDeclare: function () {\n        $(\"#declareDiv\").remove();\n    },\n    confirmDeclaration: function (e) {\n        if ($(\"#notifWar\").length == 0) {\n            $(\".Center\").append(\n                `<div id=\"notifWar\">\n                    <h1> sender : ${e.currentTarget.getAttribute(\"sender\")} </h1>\n                    <h1> start date : ${new Date(e.currentTarget.getAttribute(\"start-date\")).toDateString()} </h1>\n                    <h1> end date : ${new Date(e.currentTarget.getAttribute(\"end-date\")).toDateString()} </h1>\n                    <div id=\"warTimeList\">\n                    </div>\n                    <div id=\"yesno\">\n                        <button id=\"acceptWar\" declarationId=\"\"> ACCEPT </button>\n                        <button sender=\"${e.currentTarget.getAttribute(\"sender\")}\" id=\"declineWar\"> DECLINE </button>\n                    </div>\n                </div>\n            `);\n            axios.get(`/api/guilds/${Cookies.get(\"guildId\")}`).then((res) => {\n                var guild_name = res.data[\"name\"];\n                axios.get(`/api/declarations?receiver=${guild_name}`).then((res) => {\n                    $(\"#acceptWar\").attr(\"declarationId\", res.data[0][\"id\"]);\n                    var timeTable = JSON.parse(res[\"request\"].response)[0][\"timetable\"];\n                    $.each(timeTable, (i) => {\n                        $(\"#warTimeList\").append(`\n                                <p>${timeTable[i]}</p>\n                            `)\n                    });\n                })\n            })\n        }\n    },\n    exitNotif: function (e) {\n        $(\"#notifWar\").remove();\n    },\n    declineWar: function (e) {\n        axios.delete(`/api/declarations/${e.currentTarget.getAttribute(\"sender\")}`).then((res) => {\n            $(\"#notifWar\").remove();\n            this.updateList();\n        })\n    },\n    updateDateWar: function () {\n        $('#timeTable').daterangepicker({\n            autoApply: true,\n            timePicker: true,\n            minDate: $(\"#dateRange\").val().split(\" - \")[0],\n            maxDate: $(\"#dateRange\").val().split(\" - \")[1],\n            startDate: moment().startOf('hour'),\n            endDate: moment().startOf('hour').add(32, 'hour'),\n            locale: {\n                format: 'M/DD hh:mm A'\n            }\n        });\n        $(\"#warTimeList\").empty();\n        this.warTimes = [];\n    },\n    addWarTime: function (e) {\n        this.warTimes.push($(\"#timeTable\").val());\n        $(\"#warTimeList\").append(`\n        <div class=\"WarTimeBox\">\n        <p>${$(\"#timeTable\").val()}</p>\n            <span class=\"RedCross\"> ❌ </span>\n            </div>\n        `)\n    },\n    removeWarTime: function (e) {\n        if ($(e.target).attr(\"class\") == \"RedCross\") {\n            for (var i = 0; i < this.warTimes.length; i++) {\n                if (this.warTimes[i] == $(e.currentTarget).find(\"p\")[0].innerText) {\n                    this.warTimes.splice(i, 1);\n                }\n            }\n            $(e.currentTarget).remove();\n        }\n    },\n    acceptWar: function (e) {\n        axios.post(`/api/wars?id=${$(e.target).attr(\"declarationId\")}`).then((res) => {\n            $(\"#notifWar\").remove();\n            this.render();\n            if (res.data[\"error\"]) {\n                if (!$(\"#errorCreate\").length)\n                    $(\".Center\").append(`<p id=\"errorCreate\">${res.data[\"error\"]}</p>`)\n            }\n            else\n                $(\"#errorCreate\").remove();\n        });\n    }\n});\n\nvar guildManageContent = new GuildManageContent({ el: \".Center\" });\n\nexport { guildCreateContent, guildContent, guildJoinContent, guildManageContent };","import {router} from \"../BackboneRouter/application_router.js\";\nimport { User } from \"../BackboneModel/user_model.js\";\n\nvar LoginContent = Backbone.View.extend({\n    render : function()\n    {\n        this.$el.html(`\n        <div id=\"flex_div\">\n            <h1> Welcome to pong tournament </h1>\n            <h1> You need to be a 42 student to play this game </h1>\n            <h1> Please log in to start playing </h1>\n        </div>\n        `);\n        return this;\n    }\n})\n\nvar LoginMenu = Backbone.View.extend({\n    events: {\n        \"click #loginButton\": \"logIn\",\n        \"click #title\": \"home\",\n        \"click #guest\" : \"guestLogin\"\n    },\n    render : function()\n    {\n        this.$el.html(` <div class=\"NavBar\">\n            <h1 id=\"title\"> Ultimate Pong Tournament </h1>\n            <div>\n                <h1 id=\"loginButton\"> login </h1>\n                <h1 id=\"guest\"> guest </h1>\n            </div>\n        </div>`);\n        return this;\n    },\n    logIn: function (e)\n    {\n        $(location).attr('href', 'api/oauth');\n    },\n    home: function ()\n    {\n        router.navigate(\"\", {trigger: true})\n    },\n    guestLogin: function ()\n    {\n        $(location).attr('href', 'api/oauth?guest=true');\n    }\n})\n\nvar loginContent = new LoginContent({el: \".Center\"});\nvar loginMenu = new LoginMenu({el: \".Menu\"});\n\nexport {loginContent, loginMenu}","var MinimizeChatView = Backbone.View.extend({\n\n    initialize: function () {\n        this.open = true;\n    },\n\n    render: function () {\n        var self = this\n        $('#left-button-minimize').remove()\n        \n        var my_sign;\n        var my_class;\n        \n        if (self.open) {\n            my_sign = '◄'\n            my_class = 'open-lbm'\n        } else {\n            my_sign = '►'\n            my_class = 'close-lbm'\n        }\n        \n        $('.Content').prepend('<p id=\"left-button-minimize\" class=\"' + my_class + '\">' + my_sign + '</p>')\n        \n        $('#left-button-minimize').click(function(){\n            if (self.open) {\n                $('.social').css('display', 'none')\n                self.open = false;\n            } else {\n                $('.social').css('display', 'block')\n                self.open = true;\n            }\n            self.render()\n        })\n\n        return (this);\n    }\n})\n\nexport {MinimizeChatView}","import { Users, User, UsersCollection } from \"../BackboneModel/user_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\"\nimport { Match, Matchs } from \"../BackboneModel/matchs_model\"\nimport { Wars, War } from \"../BackboneModel/war_model\"\nimport { Chatroom } from \"../BackboneModel/chat_list_model\"\n\n/* win | guild adverse name | prix | */\n\nvar WarView = Backbone.View.extend({\n    initialize: function(options) {\n        this.e = options.element;\n    },\n\n    render: function () {\n        var date;\n        \n        date = new Date(this.model.get(\"start_at\"));\n        var start_date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n        \n        date = new Date(this.model.get(\"end_at\"));\n        var end_date_string = date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n\n\n        this.$el.html('<li class=\"war-li\">\\\n        <p>' + this.model.get(\"im_winner\") + '</p>\\\n        <p class=\"wlist-me\">' + $(this.e.currentTarget).find(\">:first-child\").html() + ' (points: ' + this.model.get(\"my_point\") + ')</p>\\\n        <p class=\"wlist-vs\">🆚</p>\\\n        <p class=\"wlist-him\">' + this.model.get(\"enemy\") + ' (point: ' + this.model.get(\"his_point\") + ')</p>\\\n        <p class=\"wlist-prize\">prize: ' + this.model.get(\"prize\") + ' 💰</p>\\\n        <div class=\"wlist-time\">\\\n            <p class=\"wlist-start\">start: ' + start_date_string + '</p>\\\n            <p class=\"wlist-end\">end: ' + end_date_string + '</p>\\\n        </div>\\\n        </li>')\n        return this;\n    }\n})\n\nvar ProfilGuildView = Backbone.View.extend({\n\n    initialize: function() {\n        this.ProfilIsOpen = false;\n    },\n\n    render: function (e) {\n        var self = this;\n        if (self.ProfilIsOpen == false) {\n            var wars = new Wars()\n            wars.fetch({ data: { guild: $(e.currentTarget).find(\">:first-child\").html() } }).then(function () {\n                self.ProfilIsOpen = true;\n                $(\".Center\").append('<div class=\"PopUp\" id=\"popup-profil\">\\\n                <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"✖\"></input>' +\n                    '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-refresh\" value=\"⟳\"></input>\\\n                <h2 id=\"title-popup-chatroom-pannel\">' + $(e.currentTarget).find(\">:first-child\").html() + '</h2>\\\n            <img id=\"profil-image-user\" src=\"https://images04.military.com/sites/default/files/styles/full/public/media/news/conflicts/2015/04/pro-russian-tank-600.jpg?itok=FPZYi7nD\">\\\n            <h2>War Historic</h2>\\\n            <ul id=\"guild-war-historic\"></lu>');\n\n            \n\n            wars.each(function (war) {\n                    var warView = new WarView({ model: war, element: e})\n                    $(\"ul#guild-war-historic\").append(warView.render().$el);\n                })\n\n                var removePopup = function () {\n                    self.ProfilIsOpen = false;\n                    $(\".PopUp\").remove()\n                }\n\n                self.mouseIn = false;\n\n                $(\".PopUp\").hover(function () {\n                    self.mouseIn = true;\n                }, function () {\n                    self.mouseIn = false;\n                });\n\n                $(\"body\").mouseup(function () {\n                    if (self.mouseIn == false)\n                        removePopup();\n                });\n\n                $(\"#popup-chatroom-administration-refresh\").click(function () {\n                    this.render();\n                });\n\n                $(\"#popup-chatroom-administration-quit\").click(function () {\n                    removePopup();\n                });\n            });\n        }\n    }\n})\n\nexport { ProfilGuildView }","import { Users, User, UsersCollection } from \"../BackboneModel/user_model\"\nimport { UsersChatroom } from \"../BackboneModel/users_chatroom_model\"\nimport { Match, Matchs } from \"../BackboneModel/matchs_model\"\nimport { Chatroom } from \"../BackboneModel/chat_list_model\"\nimport { router } from \"../BackboneRouter/application_router\"\n\nvar MatchView = Backbone.View.extend({\n    render: function () {\n        var guilds_or_tournament;\n        if (this.model.get(\"my_guild\") != undefined) {\n            guilds_or_tournament = '<p class=\"pstat-guilds\">(' + this.model.get(\"my_guild\") + ' 🆚 ' + this.model.get(\"enemy_guild\") + ')</p>'\n        } else if (this.model.get(\"tournament_name\") != undefined) {\n            guilds_or_tournament = '<p class=\"pstat-tournament\">(tournament:' + this.model.get(\"tournament_name\") + ')</p>'\n        } else {\n            guilds_or_tournament = '';\n        }\n        this.$el.html('<li class=\"match-li\">\\\n        <p class=\"pstat-win-or-lose\">' + (this.model.get(\"i_win\") == true ? '👍' : '👎') + '</p>\\\n        <p class=\"pstat-score\">' + this.model.get(\"my_score\") + '/' + this.model.get(\"enemy_score\") + '</p>\\\n        <p class=\"pstat-opponent\">adversaire: ' + this.model.get(\"enemy_pseudo\") + '</p>' +\n            guilds_or_tournament +\n            '</li>')\n        return this;\n    }\n})\n\nvar ProfilView = Backbone.View.extend({\n    events: {\n        \"click #streamin\": \"streamParty\"\n    },\n    render: function (self, e) {\n        if (self.ProfilIsOpen == false) {\n            var matchs = new Matchs()\n            matchs.fetch({ data: { pseudo: $(e.currentTarget).html() } }).then(function () {\n                var user = new User({ id: $(e.currentTarget).html() })\n                user.fetch({ data: { pseudo: true } }).then(function () {\n\n                    self.ProfilIsOpen = true;\n                    $(\".Center\").append('<div class=\"PopUp\" id=\"popup-profil\">\\\n                    <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"✖\"></input>\\\n                    <h2 id=\"title-popup-chatroom-pannel\">' + $(e.currentTarget).html() + '</h2>\\\n                    <img id=\"profil-image-user\" src=\"https://images04.military.com/sites/default/files/styles/full/public/media/news/conflicts/2015/04/pro-russian-tank-600.jpg?itok=FPZYi7nD\">\\\n                    <div id=\"player-stat\">\\\n                    <p>guild: ' + user.get(\"guild_name\") + '</p>\\\n                    <p>nombre de parties gagnées: ' + user.get(\"win\") + '</p>\\\n                    <p>nombre de parties perdues: ' + user.get(\"loss\") + '</p>\\\n                    <p>ladder level: ' + user.get(\"rank\") + '</p>\\\n                    <p>nombre de tournois remportés: ' + user.get(\"tournaments_win\") + '</p>\\\n                    </div>\\\n                    <h2>historique des parties</h2>\\\n                    <ul id=\"player-dual-historic\">\\\n                    </ul>\\\n                    <input id=\"streamin\" type=\"button\" value=\"stream game\"></input>\\\n                    </div>');\n                    $(\"#streamin\").hide()\n                    axios.get(`/api/games/id=True?user_pseudo=${$(e.currentTarget).html()}`).then((res) => {\n                        if (res.data[\"game\"] == true) {\n                            $(\"#streamin\").show()\n                        }\n                        $(\"#streamin\").click(() => {\n                            router.navigate(`connected/game?game_id=${res.data[\"id\"]}`, { trigger: true });\n                        });\n                    })\n\n                    matchs.each(function (match) {\n                        var matchView = new MatchView({ model: match })\n                        $(\"ul#player-dual-historic\").append(matchView.render().$el);\n                    })\n\n                    var removePopup = function () {\n                        self.ProfilIsOpen = false;\n                        $(\".PopUp\").remove()\n                    }\n\n                    self.mouseIn = false;\n\n                    $(\".PopUp\").hover(function () {\n                        self.mouseIn = true;\n                    }, function () {\n                        self.mouseIn = false;\n                    });\n\n                    $(\"body\").mouseup(function () {\n                        if (self.mouseIn == false)\n                            removePopup();\n                    });\n\n                    $(\"#popup-chatroom-administration-refresh\").click(function () {\n                        self.render();\n                    });\n\n                    $(\"#popup-chatroom-administration-quit\").click(function () {\n                        removePopup();\n                    });\n                });\n            })\n        }\n    }\n})\n\nexport { ProfilView }","import {router} from \"../BackboneRouter/application_router\";\nimport {getUrlParam} from \"../utils/utils_1\"\nimport {User} from \"../BackboneModel/user_model\"\n\nvar SettingsContent = Backbone.View.extend({\n    events:\n    {\n        \"click #saveImageButton\" : \"updateUser\",\n        \"change #fileUpload\" : \"confirmUpload\",\n        \"click #disable2FA\" : \"disable2FA\"\n    },\n    render : function()\n    {\n        this.$el.html(`\n        <div id=\"flex_div\">\n            <h2 id=\"settingsTitle\"> Settings </h2>\n            <div class=\"CheckBox\">\n                <p> enable two factor auth </p>\n                <input id=\"TwoFactor\" type=\"checkbox\"/>\n            </div>\n            <div class=\"CheckBox\">\n                <p> select an avatar image </p>\n                <label id=\"fileLabel\" for=\"fileUpload\"> Select a file </label>\n                <input id=\"fileUpload\" type=\"file\" accept=\"image/*\"/>\n            </div>\n            <button id=\"saveImageButton\"> save </button>\n        </div>\n        `);\n        var user = new User({id: Cookies.get(\"login\")});\n        user.fetch().then((res)=>\n        {\n            if (res[\"two_factor\"] == true)\n                $('#TwoFactor').prop('checked', true);\n        })\n        return this;\n    },\n    confirmUpload: function()\n    {\n        $(\"#fileLabel\").css(\"background-color\", \"#93E493\");\n        $(\"#fileLabel\").html(\"file selected\");\n    },\n    updateUser: function(e)\n    {\n        var user = new User({id: Cookies.get(\"login\")});\n        user.fetch();\n        const formData = new FormData();\n        var i = 0;\n        if (document.getElementById(\"fileUpload\").files.length > 0)\n        {\n            i = 1;\n            var file = document.getElementById(\"fileUpload\").files[0];\n            var blob = new Blob([file]);\n            formData.append(\"avatar_pers\", blob);\n        }\n        if (!$(\"#TwoFactor\").is(\":checked\"))\n        {\n            formData.append(\"two_factor\", $(\"#TwoFactor\").is(\":checked\"));\n            axios({\n                url: `/api/users/${user.attributes.id}`,\n                method: \"PATCH\",\n                data: formData\n            }).then((res)=>{\n                if (i == 1)\n                    Cookies.set(\"url\", res.data.url);\n                this.removeQRcode();\n            })\n        }\n        else\n        {\n            axios({\n                url: `/api/users/${user.attributes.id}`,\n                method: \"PATCH\",\n                data: formData\n            }).then((res)=>{\n                if (i == 1)\n                    Cookies.set(\"url\", res.data.url);\n                if ($(\"#TwoFactor\").is(\":checked\"))\n                    this.displayQRCode();\n                });\n        }\n    },\n    displayQRCode: function ()\n    {\n        axios.post(`/api/twofactor`).then((res)=>{\n            if (res.data[\"error\"])\n            {\n                router.navigate(`connected/play`, {trigger: true});\n                return ;\n            }\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n            $(\".BackClick\").click(()=>{\n                this.removePopUp();\n            });\n            $(\".Center\").append(`\n            <div class=\"PopUp\" id=\"qrCodePopUp\">\n                <img id=\"imageQRcode\" src=\"http://chart.apis.google.com/chart?cht=qr&chs=300x300&chl=${res.data[\"uri\"]}\"/>\n            </div>`)\n        });\n    },\n    removePopUp: function ()\n    {\n        $(\"#qrCodePopUp\").remove();\n        $(\".BackClick\").remove();\n        router.navigate(`connected/play`, {trigger: true});\n    },\n    removeQRcode: function ()\n    {\n        axios.get(`/api/users/${Cookies.get(\"login\")}`).then((res)=>{\n            if (res.data[\"two_factor\"] == true)\n            {\n                $(\"body\").append(`<div class=\"BackClick\"></div>`);\n                $(\".BackClick\").click(()=>{\n                    this.removePopUp();\n                });\n                $(\".Center\").append(`\n                <div class=\"PopUp\" id=\"2faDisablePopUp\">\n                    <h1> Enter google authentification code to disable 2FA </h1>\n                    <input id=\"twoFactorCode\" placeholder=\"two factor code\"/>\n                    <button id=\"disable2FA\">Confirm</button>\n                </div>`)\n            }\n            else\n                this.removePopUp();\n\n        });\n    },\n    disable2FA: function()\n    {\n        var code = $(\"#twoFactorCode\").val();\n        axios.delete(`/api/twofactor/${Cookies.get(\"login\")}?code=${code}`).then((res)=>{\n            if (res.data[\"success\"])\n                this.removePopUp();\n            else\n            {\n                if (!$(\"#errorCreate\").length)\n                    $(\"#2faDisablePopUp\").append(`\n                        <p id=\"errorCreate\"> error: incorrect code </p>\n                    `)\n            }\n        });\n    }\n})\n\nvar settingsContent = new SettingsContent({el: \".Center\"});\n\nexport {settingsContent}","import consumer from \"../channels/consumer\"\nimport {ChatViews} from \"./ChatView\"\nimport {MinimizeChatView} from \"./MinimizeChatView\"\nimport {ChatListViews} from \"./ChatListView\"\nimport {FriendListViews} from \"./FriendListView\"\nimport {Chatrooms, Chatroom} from \"../BackboneModel/chat_list_model\"\nimport {Messages, Message} from \"../BackboneModel/message_model\"\nimport {Friend, Friends} from \"../BackboneModel/friend_list_model\"\nimport {Notification, Notifications} from \"../BackboneModel/notification_model\"\nimport { AdminChatroomPannelView } from \"../BackboneViews/AdminChatroomPannelView\"\nimport { ProfilView } from \"./ProfilView\"\nimport {User, usersCollection, usersCollection_2, UsersCollection} from \"../BackboneModel/user_model\"\nimport { channel_gen } from \"../channels/chat_channel\"\nimport { FriendsMessage, FriendsMessages } from \"../BackboneModel/friends_message_model\"\n\nvar chatrooms = new Chatrooms();\nvar messages = new Messages();\nvar friends = new Friends();\nvar adminChatroomPannelView = new AdminChatroomPannelView();\nvar profilView = new ProfilView();\nvar notifications = new Notifications()\nvar friendsMessages = new FriendsMessages()\n\nvar bus = _.extend({}, Backbone.Events);\nvar chatViews = new ChatViews({message_model: messages, notifications: notifications, friendsMessages: friendsMessages, bus: bus});\nvar chatListViews = new ChatListViews({model: chatrooms, adminChatroomPannelView: adminChatroomPannelView, notifications: notifications, bus: bus});\nvar friendListViews = new FriendListViews({model: friends, profilView: profilView, users: usersCollection_2, bus: bus});\nvar minimizeChatView = new MinimizeChatView();\n\nvar SocialView = Backbone.View.extend({\n    \n    full_disconnect : function() {\n        for (var i = 0; i < consumer.subscriptions.subscriptions.length; i++)\n        consumer.subscriptions.subscriptions[i].unsubscribe();\n    },\n    \n    render : function()\n    {\n        this.full_disconnect();\n        chatListViews.render();\n        chatViews.render();\n        friendListViews.render();\n        minimizeChatView.render();\n        channel_gen(\"UserChannel\", Cookies.get(\"pseudo\"), \"\", bus);\n        return this;\n    }    \n});\n\nvar socialView = new SocialView({el: \".social\"});\n\nexport {socialView}","import { Tournament, Tournaments } from \"../BackboneModel/tournament_model\"\nimport { Battle, Battles } from \"../BackboneModel/battle_list_model\"\nimport { UserTourament, UsersTourament } from \"../BackboneModel/users_tournament_model\"\n\nvar Tournament_matching_popup = Backbone.View.extend({\n    render: function (self) {\n        if (self.matchingPopupIsOpen == false) {\n            $(\".Center\").append('<div class=\"PopUp\" id=\"popup-profil\">\\\n                <input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-quit\" value=\"✖\"></input>' +\n                '<input type=\"button\" class=\"popup-social-hover\" id=\"popup-chatroom-administration-refresh\" value=\"⟳\"></input>\\\n                <h2 id=\"title-popup-chatroom-pannel\">' + 'search match' + '</h2>\\\n                <img id=\"img-chargement-gif\" src=\"https://thumbs.gfycat.com/KnobbyWeirdIlladopsis-size_restricted.gif\"><image>\\\n                </div>');\n\n            var removePopup = function () {\n                self.ProfilIsOpen = false;\n                var battle = new Battle({ id: 'tournament' })\n                battle.destroy({ data: { type_battle: 'tournament' }, processData: true }).then(function () {\n                    $(\".PopUp\").remove()\n                })\n            }\n\n            self.mouseIn = false;\n\n            $(\".PopUp\").hover(function () {\n                self.mouseIn = true;\n            }, function () {\n                self.mouseIn = false;\n            });\n\n            $(\"body\").mouseup(function () {\n                if (self.mouseIn == false)\n                    removePopup();\n            });\n\n            $(\"#popup-chatroom-administration-quit\").click(function () {\n                removePopup();\n            });\n        };\n    }\n})\n\nvar matching_popup = new Tournament_matching_popup();\n\nvar TournamentPersoView = Backbone.View.extend({\n    render: function () {\n        var now = new Date();\n        var start_at = new Date(this.model.get(\"start_at\"))\n\n        if (now > start_at) {\n            var end_at = new Date(this.model.get(\"start_at\"))\n            var end_at_string = end_at.getDate() + '/' + end_at.getMonth() + '/' + end_at.getFullYear() + '  ' + end_at.getHours() + ':' + end_at.getMinutes();\n\n            $(\"#tournament-perso-div\").append('<div class=\"tournament-perso-list\">\\\n                <p class=\"tournament-perso-list-name\">' + this.model.get(\"name\") + '</p>\\\n                <p class=\"tournament-perso-list-prize\">' + this.model.get(\"prize\") + '</p>\\\n                <p class=\"tournament-perso-list-rank\">' + '7/77' + '</p>\\\n                <p class=\"tournament-perso-list-end_at\">tournament end : ' + end_at_string + '</p>\\\n                <div class=\"tournament-perso-list-button\">\\\n                    <input class=\"tournament-perso-battle-button social-hover\" type=\"button\" value=\"⚔ battle ⚔\"></input>\\\n                    <input class=\"tournament-perso-unsubscribe-button social-hover\" type=\"button\" value=\"unsubscribe\"></input>\\\n                </div>\\\n            </div>')\n        } else {\n            var start_at = new Date(this.model.get(\"start_at\"))\n            var start_at_string = start_at.getDate() + '/' + start_at.getMonth() + '/' + start_at.getFullYear() + '  ' + start_at.getHours() + ':' + start_at.getMinutes();\n            $(\"#tournament-perso-div\").append('<div class=\"tournament-perso-list\">\\\n                <p class=\"tournament-perso-list-name\">' + this.model.get(\"name\") + '</p>\\\n                <p class=\"tournament-perso-list-prize\">' + this.model.get(\"prize\") + '</p>\\\n                <p class=\"tournament-perso-list-end_at\">tournament start : ' + start_at_string + '</p>\\\n                <div class=\"tournament-perso-list-button\">\\\n                    <input class=\"tournament-perso-unsubscribe-button social-hover\" type=\"button\" value=\"unsubscribe\"></input>\\\n                </div>\\\n            </div>')\n        }\n    }\n})\n\nvar TournamentPersoJoinView = Backbone.View.extend({\n    render: function () {\n        var now = new Date();\n\n        var start_registration = new Date(this.model.get(\"start_registration\"))\n        var end_registration = new Date(this.model.get(\"end_registration\"))\n\n        var start_registration_string = start_registration.getDate() + '/' + start_registration.getMonth() + '/' + start_registration.getFullYear() + '  ' + start_registration.getHours() + ':' + start_registration.getMinutes();\n        var end_registration_string = end_registration.getDate() + '/' + end_registration.getMonth() + '/' + end_registration.getFullYear() + '  ' + end_registration.getHours() + ':' + end_registration.getMinutes();\n\n        var start_at = new Date(this.model.get(\"start_at\"))\n        var start_at_string = start_at.getDate() + '/' + start_at.getMonth() + '/' + start_at.getFullYear() + '  ' + start_at.getHours() + ':' + start_at.getMinutes();\n\n        var end_at = new Date(this.model.get(\"start_at\"))\n        var end_at_string = end_at.getDate() + '/' + end_at.getMonth() + '/' + end_at.getFullYear() + '  ' + end_at.getHours() + ':' + end_at.getMinutes();\n\n        if (now < end_registration) {\n            if (now > start_registration) {\n                $(\"#tournament-join-div\").append('<div class=\"tournament-perso-list\">\\\n                    <p class=\"tournament-perso-list-name\">' + this.model.get(\"name\") + '</p>\\\n                    <p class=\"tournament-perso-list-prize\">' + this.model.get(\"prize\") + '</p>\\\n                    <div>\\\n                        <p class=\"tournament-perso-list-end_at\">registration start : ' + start_registration_string + '</p>\\\n                        <p class=\"tournament-perso-list-end_at\">registration end : ' + end_registration_string + '</p>\\\n                        <p class=\"tournament-perso-list-end_at\">tournament start : ' + start_at_string + '</p>\\\n                        <p class=\"tournament-perso-list-end_at\">tournament end : ' + end_at_string + '</p>\\\n                    </div>\\\n                    <div class=\"tournament-perso-list-button\">\\\n                        <input class=\"tournament-perso-register-button social-hover\" type=\"button\" value=\"register\"></input>\\\n                    </div>\\\n                </div>')\n            } else {\n                $(\"#tournament-join-div\").append('<div class=\"tournament-perso-list\">\\\n                    <p class=\"tournament-perso-list-name\">' + this.model.get(\"name\") + '</p>\\\n                    <p class=\"tournament-perso-list-prize\">' + this.model.get(\"prize\") + '</p>\\\n                    <div>\\\n                        <p class=\"tournament-perso-list-end_at\">registration start : ' + start_registration_string + '</p>\\\n                        <p class=\"tournament-perso-list-end_at\">registration end : ' + end_registration_string + '</p>\\\n                        <p class=\"tournament-perso-list-end_at\">tournament start : ' + start_at_string + '</p>\\\n                        <p class=\"tournament-perso-list-end_at\">tournament end : ' + end_at_string + '</p>\\\n                    </div>\\\n                    <div class=\"tournament-perso-list-button\">\\\n                        <input class=\"tournament-perso-register-button social-hover\" type=\"button\" value=\"register\"disabled></input>\\\n                    </div>\\\n                </div>')\n            }\n        }\n    }\n})\n\nvar TournamentContentView = Backbone.View.extend({\n    render: function () {\n        var self = this;\n\n        self.matchingPopupIsOpen = false;\n        $(\".Center\").html('<div id=\"tournament-div\">\\\n            <div id=\"tournament-main-div\">\\\n                <h2>Main tournament</h2>\\\n                <p>my rank : 4 / 19</p>\\\n                <input class=\"social-hover\" id=\"start-main-tournament-classed-battle\" type=\"button\" value=\"⚔ classed ⚔\"></input>\\\n                <input class=\"social-hover\" id=\"start-main-tournament-unclassed-battle\" type=\"button\" value=\"⚔ unclassed ⚔\"></input>\\\n            </div>\\\n            <div id=\"tournament-perso-div\">\\\n            </div>\\\n            <div id=\"tournament-join-div\">\\\n            </div>\\\n        </div>')\n\n        $(\"#start-main-tournament-classed-battle\").click(function () {\n            var battle = new Battle({ type_battle: 'main-classed' })\n            battle.save().then(function () {\n                matching_popup.render(self)\n            })\n        })\n\n        $(\"#start-main-tournament-unclassed-battle\").click(function () {\n            var battle = new Battle({ type_battle: 'main-unclassed' })\n            battle.save().then(function () {\n                matching_popup.render(self)\n            })\n        })\n\n        $(\"#start-main-tournament-unclassed-battle\").click(function () {\n        })\n\n        var refresh_tournament_perso = function () {\n            var tournaments = new Tournaments();\n            tournaments.fetch({ data: { perso: \"true\" } }).then(function () {\n                $(\"#tournament-perso-div\").html(\"<h2>My tournaments</h2>\")\n                tournaments.each(function (tournament) {\n                    if (tournament.get(\"main_tournament\") == undefined || tournament.get(\"main_tournament\") == false) {\n                        var tournamentPersoView = new TournamentPersoView({ model: tournament })\n                        tournamentPersoView.render();\n                    }\n                });\n                $(\".tournament-perso-unsubscribe-button\").click(function (e) {\n                    var tournament_name;\n                    if ($(e.currentTarget).prev().val() == \"⚔ battle ⚔\") {\n                        tournament_name = $(e.currentTarget).parent().prev().prev().prev().prev().html()\n                    } else {\n                        tournament_name = $(e.currentTarget).parent().prev().prev().prev().html()\n                    }\n                    var userTourament = new UserTourament({ id: tournament_name })\n                    userTourament.destroy().then(function () {\n                        refresh_tournament_perso();\n                        refresh_tournament_perso_join();\n                    })\n                })\n                $(\".tournament-perso-battle-button\").click(function(e){\n                    console.log(\"on veut lancer une partie de tournament perso (click)\")\n                    var battle = new Battle({ type_battle: 'perso-classed', tournament_name: $(e.currentTarget).parent().prev().prev().prev().prev().html()})\n                    battle.save().then(function () {\n                        matching_popup.render(self)\n                    })\n                })\n            })\n        }\n\n        var refresh_tournament_perso_join = function () {\n            var tournaments = new Tournaments();\n            tournaments.fetch({ data: { join: \"true\" } }).then(function () {\n                $(\"#tournament-join-div\").html(\"<h2>Join tournament</h2>\")\n                tournaments.each(function (tournament) {\n                    if (tournament.get(\"main_tournament\") == undefined || tournament.get(\"main_tournament\") == false) {\n                        var tournamentPersoJoinView = new TournamentPersoJoinView({ model: tournament })\n                        tournamentPersoJoinView.render();\n                    }\n                });\n                $(\".tournament-perso-register-button\").click(function (e) {\n                    var userTourament = new UserTourament({ tournament_name: $(e.currentTarget).parent().prev().prev().prev().html() })\n                    userTourament.save().then(function () {\n                        refresh_tournament_perso();\n                        refresh_tournament_perso_join();\n                    })\n                })\n            })\n        }\n\n        refresh_tournament_perso();\n        refresh_tournament_perso_join();\n\n        return this;\n    }\n})\n\nvar tournamentContent = new TournamentContentView({ el: \".Menu\" })\n\nexport { tournamentContent }","import {router} from \"../BackboneRouter/application_router\"\n\nvar TwoFactorContent = Backbone.View.extend({\n    events: {\n        \"click #authenticate\" : \"verifyCode\"\n    },\n    render: function ()\n    {\n        $(\".Menu\").html(`\n        <div class=\"NavBar\">\n            <h1 id=\"title\"> Ultimate Pong Tournament </h1>\n        </div>\n        `)\n        this.$el.html(`\n        <div class=\"AuthBox\">\n            <h1> Enter google authentification code to authenticate </h1>\n            <input id=\"authInput\" placeholder=\"two factor code\"/>\n            <button id=\"authenticate\">Confirm</button>\n        </div>\n        `)\n    },\n    verifyCode: function ()\n    {\n        axios.get(`/api/twofactor/${Cookies.get(\"login\")}?code=${$(\"#authInput\").val()}`).then((res)=>\n        {\n            if (res.data[\"error\"])\n            {\n                if (!$(\"#errorCreate\").length)\n                    $(\".Center\").append(`\n                        <p id=\"errorCreate\"> error: incorrect code </p>\n                    `)\n            }\n            else\n                router.navigate(\"connected/play\", {trigger: true});\n        });\n    }\n});\n\nvar twoFactorContent = new TwoFactorContent({el: \".Center\"});\n\nexport {twoFactorContent}\n","import consumer from \"../channels/consumer\"\nimport {channel_gen} from \"../channels/chat_channel\"\n\n\n/* ============================== SPACE */\n\ndocument.body.onkeyup = function(e){\n    if(e.keyCode == 32){\n        console.log(\"space =========== start\")\n        console.log(consumer.subscriptions.subscriptions)\n        console.log(\"space =========== end\")\n        for (var i = 0; i < consumer.subscriptions.subscriptions.length; i++) {\n            console.log(\"on PPPPaaarcours --- start\");\n            console.log(consumer.subscriptions.subscriptions[i])\n            console.log(consumer.subscriptions.subscriptions[i].identifier)\n            console.log(JSON.parse(consumer.subscriptions.subscriptions[i].identifier).room)\n            console.log(\"on PPPPaaarcours --- end\");\n        }\n    }\n}","var map = {\n\t\"./chat_channel.js\": \"./app/javascript/channels/chat_channel.js\",\n\t\"./game_channel.js\": \"./app/javascript/channels/game_channel.js\",\n\t\"./notification_channel.js\": \"./app/javascript/channels/notification_channel.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./app/javascript/channels sync recursive _channel\\\\.js$\";","import consumer from \"./consumer\"\nimport { router } from \"../BackboneRouter/application_router\"\nimport { getCookie } from \"../utils/utils_1\";\n\nvar channel_gen = (channel_type, channel_name, channel_password, bus) => {\n  var new_channel = consumer.subscriptions.create({ channel: channel_type, room: channel_name, password: channel_password }, {\n\n    connected() {\n      $(\"#subscriber_count\").html(this.count)\n      console.log(\"--- CHANNEL \" + channel_type + \"/\" + channel_name + \" >>> connection etablie\")\n      new_channel.send({ start: true })\n      this.connected = true;\n    },\n\n    disconnected() {\n      console.log(\"--- CHANNEL \" + channel_type + \"/\" + channel_name + \" >>> deconnection\")\n      $(\"#message-container\").html(\"vous avez été deconnecter du serveur pour une raison inconnu ...\")\n    },\n\n    rejected() {\n      console.log(\"--- CHANNEL \" + channel_type + \"/\" + channel_name + \" >>> rejected\")\n      $(\"#message-container\").html(\"vous avez été banni du chat room\")\n    },\n\n    received(data) {\n      console.log(\"--- CHANNEL \" + channel_type + \"/\" + channel_name + \" >>> received data\")\n      if (data[\"username\"] == \"server\") {\n        this.count = data[\"messageContent\"];\n        if (this.connected == true)\n          $(\"#subscriber_count\").html(this.count)\n        else\n          $(\"#subscriber_count\").html(\"ban/error\")\n      }\n      else if (data[\"username\"] == \"notification\") {\n        if (data[\"messageContent\"] == \"refresh\") {\n          if ($(\"#chat-top-bar > p#center\").html() != 'notification') {\n            bus.trigger(\"notificationReceived\", this)\n          } else {\n            bus.trigger(\"notificationSelected\", this)\n          }\n        }\n        else if (data[\"messageContent\"] == \"battle-start\") {\n          router.navigate(`connected/game?game_id=${data[\"battle_id\"]}`, { trigger: true });\n        }\n      }\n      else if (data[\"username\"] == \"personnal-chat\") {\n        if ($(\"#chat-top-bar > p#center\").attr(\"friend-chat-open\") != undefined) {\n          if (data[\"forwarder\"] == $(\"#chat-top-bar > p#center\").html() || data[\"forwarder\"] == Cookies.get(\"pseudo\")) {\n            var down = false;\n            if ($('#message-container').scrollTop() + $('#message-container').innerHeight() >= $('#message-container')[0].scrollHeight) {\n              down = true;\n            }\n            var date = new Date(data[\"date\"]);\n            var date_string = date.getDay() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n            $(\"#message-container\").append('<li class=\"message\"><p class=\"user-message\">' + data[\"forwarder\"] + '</p><p class=\"time-message\">' + date_string + '</p><br><p class=\"content-message\">' + data[\"messageContent\"] + '</p></li>')\n            if (down == true)\n              $(\"#message-container\").scrollTop($(\"#message-container\")[0].scrollHeight);\n          }\n        }\n      }\n      else if (data[\"username\"] == \"friend-status\") {\n        bus.trigger(\"refreshFriendsList\", data)\n      }\n      else if (data[\"username\"] == \"channel-ban\") {\n        bus.trigger(\"chatroomRefresh\", data)\n        alert('vous avez etait banni du chatroom [' + data[\"messageContent\"] + ']')\n      }\n      else if (data[\"username\"] == \"channel-unban\") {\n        bus.trigger(\"chatroomRefresh\", data)\n        alert('vous avez etait debanni du chatroom [' + data[\"messageContent\"] + ']')\n      }\n      else {\n        var date = new Date(data[\"date\"]);\n        var date_string = date.getDay() + '/' + date.getMonth() + '/' + date.getFullYear() + '  ' + date.getHours() + ':' + date.getMinutes();\n\n        var down = false;\n        if ($('#message-container').scrollTop() + $('#message-container').innerHeight() >= $('#message-container')[0].scrollHeight) {\n          down = true;\n        }\n        $(\"#message-container\").append('<li class=\"message\"><p class=\"user-message\">' + data[\"username\"] + '</p><p class=\"time-message\">' + date_string + '</p><br><p class=\"content-message\">' + data[\"messageContent\"] + '</p></li>')\n        if (down == true)\n          $(\"#message-container\").scrollTop($(\"#message-container\")[0].scrollHeight);\n      }\n    }\n  });\n  return (new_channel);\n}\n\nexport { channel_gen }\n","// Action Cable provides the framework to deal with WebSockets in Rails.\n// You can generate new channels where WebSocket features live using the `rails generate channel` command.\n\nimport { createConsumer } from \"@rails/actioncable\"\n\nexport default createConsumer()\n","import consumer from \"./consumer\"\nimport {router} from \"../BackboneRouter/application_router\"\nimport {Player, Game, Ball} from \"../utils/game_class\"\n\nvar game_channel = (guest, channel_name, game) => {\n    var new_channel = consumer.subscriptions.create({ channel: \"GameChannel\", room: channel_name}, {\n        connected() {\n            this.data = game;\n            this.guest = guest\n            router.on(\"route\", () => {\n                if (this.intervalSet == true)\n                {\n                    clearInterval(this.interval);\n                    this.intervalSet = false;\n                }\n                if (this.started == true)\n                    this.unsubscribe();\n            });\n        },\n  \n      disconnected() {\n        clearInterval(this.interval);\n        this.interval = false;\n      },\n  \n      rejected() {\n          $(\".Center\").html(`\n            <div class=\"PopUp\">\n                <h1> ERROR: YOU ARE ALREADY PLAYING </h1>\n            </div>\n          `);\n      },\n      received(data) {\n        if (data[\"ended\"])\n        {\n            this.ended_game_error();\n        }\n        if (data[\"end_game\"])\n            this.end_game();\n        if (data[\"rebound\"] && data[\"pseudo\"] != Cookies.get(\"pseudo\"))\n        {\n            this.ball.object.x = data[\"x\"];\n            this.ball.object.y = data[\"y\"];\n            this.ball.x_dir = data['x_dir'];\n            this.ball.y_dir = data['y_dir'];\n\n        }\n        else if (data[\"start\"] && this.started != true)\n        {\n            if (this.stageInit != true)\n            {\n                this.stageInit = true\n                this.started = true;\n                this.player_1 = $(\"#player1\").text();\n                this.player_2 = $(\"#player2\").text();\n                this.host_name = data[\"host\"]\n                if (data[\"host\"] == Cookies.get(\"pseudo\"))\n                    this.host = true;\n                else\n                    this.host = false;\n                this.game = new Game(data[\"width\"], data[\"height\"], data[\"max_score\"], \"pongBoard\");\n                this.p1 = new Player;\n                this.p2 = new Player;\n                this.ball = new Ball(data[\"speed\"], data[\"x_dir\"], data[\"y_dir\"]);\n                this.init_stage(data);\n                if (this.guest == false)\n                    this.initListenner();           \n            }\n        }\n        else if (data[\"break\"])\n        {\n            this.interval = false;\n            clearInterval(this.interval);\n        }\n        else if (data[\"move_up\"] && (data[\"move_up\"] != Cookies.get(\"pseudo\")))\n        {\n            if (this.guest)\n            {\n                if (this.host_name != data[\"move_up\"])\n                    this.p2.up = data[\"up\"];\n                else\n                    this.p1.up = data[\"up\"];\n            }\n            else\n            {\n                if (this.host)\n                    this.p2.up = data[\"up\"];\n                else\n                    this.p1.up = data[\"up\"];\n            }\n        }\n        else if (data[\"move_down\"] && (data[\"move_down\"] != Cookies.get(\"pseudo\")))\n        {\n            if (this.guest)\n            {\n                if (this.host_name != data[\"move_down\"])\n                    this.p2.down = data[\"down\"];\n                else\n                    this.p1.down = data[\"down\"]\n            }\n            else\n            {\n                if (this.host)\n                    this.p2.down = data[\"down\"];\n                else\n                    this.p1.down = data[\"down\"]\n            }\n        }\n        if (data[\"go\"] || data[\"catch\"])\n        {\n            this.score_p1 = data[\"score_p1\"];\n            this.score_p2 = data[\"score_p2\"];\n            this.player_1 = data[\"player_1\"];\n            this.player_2 = data[\"player_2\"];\n            $(\"#score\").html(`<span id=\"player1\">${this.player_1}</span>: <span id=\"scoreP1\">${this.score_p1}</span> <span class=\"VS\">VS</span> <span id=\"player2\">${this.player_2}</span>: <span id=\"scoreP2\">${this.score_p2}</span>`)\n            this.intervalSet = true;\n            this.interval = setInterval(()=>{\n                this.move(this.game, this.p1, this.p2, this.ball, this.socket)\n            }, 5);\n        }\n        else if (data[\"goal\"])\n        {\n            clearInterval(this.interval);\n            this.intervalSet = false;\n            if (data[\"goal\"] == \"p1\")\n            {\n                this.p1.score += 1;\n            }\n            else if (data[\"goal\"] == \"p2\")\n            {\n                this.p2.score += 1;\n            }\n            this.ball.x_dir = data[\"x_dir\"];\n            this.ball.y_dir = data[\"y_dir\"];\n            this.ball.object.x = data[\"x\"];\n            this.ball.object.y = data[\"y\"];\n            this.p1.object.x = data[\"p1_x\"];\n            this.p1.object.y = data[\"p1_y\"];\n            this.p2.object.x = data[\"p2_x\"];\n            this.p2.object.y = data[\"p2_y\"];\n            this.game.stage.update();\n        }\n        else if (data[\"3\"])\n            $(\"#score\").text(\"3\");\n        else if (data[\"2\"])\n            $(\"#score\").text(\"2\");\n        else if (data[\"1\"])\n            $(\"#score\").text(\"1\");\n        else if (data[\"forfait\"])\n        {\n            if (this.guest == false)\n                this.forfait(data[\"forfait\"]);\n            else\n                router.navigate(\"connected/play\", {trigger: true});\n        }\n    },\n    move : function (game, p1, p2, ball, socket)\n    {\n        var canvs = document.getElementById(\"pongBoard\");\n        var middle;\n\n        if (p1.up == 1 && p1.object.y - this.hgt(1) >= -5)\n            p1.object.y -= this.hgt(0.5);\n        else if (p1.down == 1 && p1.object.y + this.hgt(17) <= canvs.height - 55)\n            p1.object.y += this.hgt(0.5);\n        if (p2.up == 1 && p2.object.y - this.hgt(1) >= -5)\n            p2.object.y -= this.hgt(0.5);\n        else if (p2.down == 1 && p2.object.y + this.hgt(17) <= canvs.height - 55)\n            p2.object.y += this.hgt(0.5);\n        if ((ball.object.y > p1.object.y && ball.object.y < p1.object.y + game.height() && ball.object.x > p1.object.x + game.width() && ball.object.x + ball.x_dir < p1.object.x + game.width()))\n        {\n            middle = p1.object.y + game.height() / 2;\n            ball.y_dir = (ball.object.y - middle) / (game.height() / 2) * (ball.max_speed * 0.75);\n            ball.x_dir = Math.sqrt(Math.pow(ball.max_speed, 2) - Math.pow(ball.y_dir, 2));\n            if (this.host && !this.guest)\n            {\n                this.send({\n                    rebound: true,\n                    x_dir: ball.x_dir,\n                    y_dir: ball.y_dir,\n                    x: ball.object.x,\n                    y: ball.object.y\n                })\n            }\n        }\n        else if ((ball.object.y > p2.object.y && ball.object.y < p2.object.y + game.height() && ball.object.x < p2.object.x && ball.object.x + ball.x_dir > p2.object.x))\n        {\n            middle = p2.object.y + game.height() / 2;\n            ball.y_dir = (ball.object.y - middle) / (game.height() / 2) * (ball.max_speed * 0.75);\n            ball.x_dir = Math.sqrt(Math.pow(ball.max_speed, 2) - Math.pow(ball.y_dir, 2)) * -1;\n            if (!this.host && !this.guest)\n            {\n                this.send({\n                    rebound: true,\n                    x_dir: ball.x_dir,\n                    y_dir: ball.y_dir,\n                    x: ball.object.x,\n                    y: ball.object.y\n                })\n            }\n        }\n        else if (ball.object.y > 0 && ball.object.y + ball.y_dir < 0)\n        {\n            ball.y_dir *= -1;\n        }\n        else if (ball.object.y < canvs.height && ball.object.y + ball.y_dir > canvs.height)\n        {\n            ball.y_dir *= -1;\n        }\n        else\n        {\n            ball.object.x += ball.x_dir;\n            ball.object.y += ball.y_dir;\n        }\n        game.stage.update();\n      },\n    init_stage: function (data)\n    {\n        this.ball.object.graphics.beginFill(\"white\").drawCircle(0, 0, data[\"ball_size\"]);\n        this.ball.object.x = data[\"x\"];\n        this.ball.object.y = data[\"y\"];\n        this.p1.object.graphics.beginFill(\"white\").drawRoundRect(0, 0, this.game.width(), this.game.height(),  0);\n        this.p1.object.x = data[\"p1_x\"];\n        this.p1.object.y = data[\"p1_y\"];\n        this.p2.object.graphics.beginFill(\"white\").drawRoundRect(0, 0, this.game.width(), this.game.height(),  0);\n        this.p2.object.x = data[\"p2_x\"];\n        this.p2.object.y = data[\"p2_y\"];\n        this.game.stage.addChild(this.p1.object);\n        this.game.stage.addChild(this.p2.object);\n        this.game.stage.addChild(this.ball.object);\n        this.game.stage.update();\n      },\n    initListenner: function ()\n    {\n        var self = this;\n        $(\"body\").keyup(function(){\n            self.keyup_event();\n        });\n        $(\"body\").keydown(function(){\n            self.keydown_event();\n        });\n      },\n    keyup_event: function ()\n    {\n        if ($(\"#pongBoard\").length)\n        {\n            if (event.code == \"ArrowDown\")\n            {\n                if (this.host == false && this.p2.down != 0)\n                    this.p2.down = 0;\n                else if (this.host && this.p1.down != 0)\n                    this.p1.down = 0;\n                this.send({\n                    move_down: true,\n                    down: 0\n                })\n            }\n            else if (event.code == \"ArrowUp\")\n            {\n                if (this.host == false && this.p2.up != 0)\n                    this.p2.up = 0;\n                else if (this.host && this.p1.up != 0)\n                    this.p1.up = 0\n                this.send({\n                    move_up: true,\n                    up: 0\n                })\n            }\n        }\n    },\n    keydown_event: function ()\n    {\n        if ($(\"#pongBoard\").length)\n        {\n            if (event.code == \"ArrowDown\")\n            {\n                if (this.host == false && this.p2.down != 1)\n                    this.p2.down = 1;\n                else if (this.host && this.p1.down != 1)\n                    this.p1.down = 1;\n                this.send({\n                    move_down: true,\n                    down: 1\n                })\n            }\n            else if (event.code == \"ArrowUp\")\n            {\n                if (this.host == false && this.p2.up != 1)\n                    this.p2.up = 1;\n                else if (this.host && this.p1.up != 1)\n                    this.p1.up = 1;\n                this.send({\n                    move_up: true,\n                    up: 1\n                })\n            }\n        }\n    },\n    wdh: function (number)\n    {\n        var canvs = document.getElementById(\"pongBoard\");\n        if (canvs)\n            number = number / 100 * canvs.width;\n        return number;\n    },\n    hgt : function (number)\n    {\n        var canvs = document.getElementById(\"pongBoard\");\n        if (canvs)\n            number = number / 100 * canvs.height;\n        return number;\n    },\n    end_game: function()\n    {\n        this.unsubscribe();\n        clearInterval(this.interval);\n        var winner;\n        if (this.p1.score == 10)\n            winner = this.player_1\n        else\n            winner = this.player_2\n        $(\"#score\").hide();\n        if ($(\".BackClick\").length == 0)\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n        if ($(\"#partyEnding\").length == 0)\n            $(\".Center\").append(`\n                <div class=\"PopUp\" id=\"partyEnding\">\n                    <h1> ${winner} <span style=\"color: green\">WIN</span> THE GAME </h1>\n                    <button id=\"endMatchButton\"> Go back to menu </button>\n                </div>\n            `);\n        $(\".BackClick\").click(()=>{\n            router.navigate(\"connected/play\", {trigger: true});\n            $(\".BackClick\").remove();\n        });\n        $(\"#endMatchButton\").click(()=>{\n            router.navigate(\"connected/play\", {trigger: true});\n            $(\".BackClick\").remove();\n        })\n    },\n    ended_game_error: function()\n    {\n        this.unsubscribe();\n        clearInterval(this.interval);\n        this.interval = 0\n        router.navigate(\"connected/play\", {trigger: true});\n    },\n    forfait : function (looser)\n    {\n        this.unsubscribe();\n        clearInterval(this.interval);\n        this.interval = 0\n        var sentence;\n        if (looser == Cookies.get(\"pseudo\"))\n            sentence = `Game ended, you left the party`;\n        else\n            sentence = `You win, ${looser} left the party`;\n        $(\"#score\").hide();\n        if ($(\".BackClick\").length == 0)\n            $(\"body\").append(`<div class=\"BackClick\"></div>`);\n        if ($(\"#partyEnding\").length == 0)\n            $(\".Center\").append(`\n                <div class=\"PopUp\" id=\"partyEnding\">\n                    <h1> ${sentence} </h1>\n                    <button id=\"endMatchButton\"> Go back to menu </button>\n                </div>\n            `);\n        $(\".BackClick\").click(()=>{\n            router.navigate(\"connected/play\", {trigger: true});\n            $(\".BackClick\").remove();\n        });\n        $(\"#endMatchButton\").click(()=>{\n            router.navigate(\"connected/play\", {trigger: true});\n            $(\".BackClick\").remove();\n        })\n    }\n    });\n    return (new_channel);\n  }\n  \n  export {game_channel}\n  ","// Load all the channels within this directory and all subdirectories.\n// Channel files must be named *_channel.js.\n\nconst channels = require.context('.', true, /_channel\\.js$/)\nchannels.keys().forEach(channels)","import consumer from \"./consumer\"\n\nvar notification_gen = () => {\n    var new_notification = consumer.subscriptions.create({}, {\n        connected() {\n            console.log(\"--- NOTIFICATION >>> connection etablie\")\n            this.connected = true;\n        },\n\n        disconnected() {\n            console.log(\"--- NOTIFICATION >>> deconnection\")\n        },\n\n        rejected() {\n            console.log(\"--- NOTIFICATION >>> rejected\")\n        },\n\n        received(data) {\n            console.log(\"--- NOTIFICATION >>> received data\")\n        }\n    });\n    return (new_notification);\n}\nexport { notification_gen }\n","// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\n\nrequire(\"@rails/ujs\").start()\nrequire(\"@rails/activestorage\").start()\nrequire(\"BackboneRouter/application_router.js\")\nrequire(\"channels\")\nrequire(\"channel_handler/script_1\")\n\n\n// Uncomment to copy all static images under ../images to the output folder and reference\n// them with the image_pack_tag helper in views (e.g <%= image_pack_tag 'rails.png' %>)\n// or the `imagePath` JavaScript helper below.\n//\n// const images = require.context('../images', true)\n// const imagePath = (name) => images(name, true)\n","function wdh(number)\n{\n    var canvs = document.getElementById(\"pongBoard\");\n    number = number / 100 * canvs.width;\n    return number;\n}\n\nfunction hgt(number)\n{\n    var canvs = document.getElementById(\"pongBoard\");\n    number = number / 100 * canvs.height;\n    return number;\n}\n\nclass Player\n{\n    constructor()\n    {\n        this.object = new createjs.Shape();\n        this.score = 0;\n        this.up = 0;\n        this.down = 0;\n    };\n}\n\nclass Ball\n{\n    constructor(max_speed, x_dir, y_dir)\n    {\n        this.object = new createjs.Shape();\n        this.y_dir = y_dir;\n        this.x_dir = x_dir;\n        this.max_speed = max_speed;\n    };\n    reset(height, middle)\n    {\n        this.y_dir = (this.object.y - middle) / (height / 2) * (this.max_speed * 0.75);\n        this.x_dir = Math.sqrt(Math.pow(this.max_speed, 2) - Math.pow(this.y_dir, 2));\n    };\n}\n\nclass Game\n{\n    constructor (width, height, max_score, stage)\n    {\n        this.player_width = width;\n        this.player_height = height;\n        this.max_score = max_score;\n        this.wait = 0;\n        this.stage = new createjs.Stage(stage);\n    };\n    width()\n    {\n        return (this.player_width)\n    };\n    height()\n    {\n        return (this.player_height)\n    };\n}\n\nexport {Player, Game, Ball}","import {router} from \"../BackboneRouter/application_router\"\nimport {connectedMenu} from \"../BackboneViews/ConnectedView\"\nimport {socialView} from \"../BackboneViews/SocialView\"\nimport {adminContentView} from \"../BackboneViews/AdminView\"\nimport {User} from \"../BackboneModel/user_model\"\n\nvar getUrlParam = function(name){\n\tvar results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\n\treturn results[1] || 0;\n}\n\nfunction getCookie(cname) {\n\tvar name = cname + \"=\";\n\tvar decodedCookie = decodeURIComponent(document.cookie);\n\tvar ca = decodedCookie.split(';');\n\tfor(var i = 0; i <ca.length; i++) {\n\t  var c = ca[i];\n\t  while (c.charAt(0) == ' ') {\n\t\tc = c.substring(1);\n\t  }\n\t  if (c.indexOf(name) == 0) {\n\t\treturn c.substring(name.length, c.length);\n\t  }\n\t}\n\treturn \"\";\n  }\n\n\nfunction imageExists(image_url){\n\n    var http = new XMLHttpRequest();\n\n    http.open('HEAD', image_url, false);\n    http.send();\n\n    return http.status != 404;\n\n}\n\nfunction tokenValidity(view)\n{\n\n\tvar user = new User({id: Cookies.get(\"login\")});\n\tuser.fetch().then((res)=>{\n\t\tif (res[\"error\"] == \"banned\")\n\t\t{\n\t\t\trouter.navigate(\"/banned\", {trigger: true});\n\t\t}\n\t\telse if (res[\"error\"] == \"acces denied\")\n\t\t{\n\t\t\trouter.navigate(\"/acces_denied\", {trigger: true});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (view[0] != adminContentView)\n\t\t\t{\n\t\t\t\tif ($(\".NavBar\").length == 0)\n\t\t\t\t\tconnectedMenu.render();\n\t\t\t\tif ($(\".title-notification\").length == 0)\n\t\t\t\t\tsocialView.render();\n\t\t\t}\n\t\t\tview.forEach((e)=>{\n\t\t\t\te.render();\n\t\t\t});\n\t\t}\n\t})\n}\n\nexport {getUrlParam, getCookie, imageExists, tokenValidity};","module.exports = require(\"regenerator-runtime\");\n","function _typeof2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\n(function (global, factory) {\n  (typeof exports === \"undefined\" ? \"undefined\" : _typeof2(exports)) === \"object\" && typeof module !== \"undefined\" ? factory(exports) : typeof define === \"function\" && define.amd ? define([\"exports\"], factory) : factory(global.ActionCable = {});\n})(this, function (exports) {\n  \"use strict\";\n\n  var adapters = {\n    logger: self.console,\n    WebSocket: self.WebSocket\n  };\n  var logger = {\n    log: function log() {\n      if (this.enabled) {\n        var _adapters$logger;\n\n        for (var _len = arguments.length, messages = Array(_len), _key = 0; _key < _len; _key++) {\n          messages[_key] = arguments[_key];\n        }\n\n        messages.push(Date.now());\n\n        (_adapters$logger = adapters.logger).log.apply(_adapters$logger, [\"[ActionCable]\"].concat(messages));\n      }\n    }\n  };\n\n  var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n    return _typeof2(obj);\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n  };\n\n  var classCallCheck = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var now = function now() {\n    return new Date().getTime();\n  };\n\n  var secondsSince = function secondsSince(time) {\n    return (now() - time) / 1e3;\n  };\n\n  var clamp = function clamp(number, min, max) {\n    return Math.max(min, Math.min(max, number));\n  };\n\n  var ConnectionMonitor = function () {\n    function ConnectionMonitor(connection) {\n      classCallCheck(this, ConnectionMonitor);\n      this.visibilityDidChange = this.visibilityDidChange.bind(this);\n      this.connection = connection;\n      this.reconnectAttempts = 0;\n    }\n\n    ConnectionMonitor.prototype.start = function start() {\n      if (!this.isRunning()) {\n        this.startedAt = now();\n        delete this.stoppedAt;\n        this.startPolling();\n        addEventListener(\"visibilitychange\", this.visibilityDidChange);\n        logger.log(\"ConnectionMonitor started. pollInterval = \" + this.getPollInterval() + \" ms\");\n      }\n    };\n\n    ConnectionMonitor.prototype.stop = function stop() {\n      if (this.isRunning()) {\n        this.stoppedAt = now();\n        this.stopPolling();\n        removeEventListener(\"visibilitychange\", this.visibilityDidChange);\n        logger.log(\"ConnectionMonitor stopped\");\n      }\n    };\n\n    ConnectionMonitor.prototype.isRunning = function isRunning() {\n      return this.startedAt && !this.stoppedAt;\n    };\n\n    ConnectionMonitor.prototype.recordPing = function recordPing() {\n      this.pingedAt = now();\n    };\n\n    ConnectionMonitor.prototype.recordConnect = function recordConnect() {\n      this.reconnectAttempts = 0;\n      this.recordPing();\n      delete this.disconnectedAt;\n      logger.log(\"ConnectionMonitor recorded connect\");\n    };\n\n    ConnectionMonitor.prototype.recordDisconnect = function recordDisconnect() {\n      this.disconnectedAt = now();\n      logger.log(\"ConnectionMonitor recorded disconnect\");\n    };\n\n    ConnectionMonitor.prototype.startPolling = function startPolling() {\n      this.stopPolling();\n      this.poll();\n    };\n\n    ConnectionMonitor.prototype.stopPolling = function stopPolling() {\n      clearTimeout(this.pollTimeout);\n    };\n\n    ConnectionMonitor.prototype.poll = function poll() {\n      var _this = this;\n\n      this.pollTimeout = setTimeout(function () {\n        _this.reconnectIfStale();\n\n        _this.poll();\n      }, this.getPollInterval());\n    };\n\n    ConnectionMonitor.prototype.getPollInterval = function getPollInterval() {\n      var _constructor$pollInte = this.constructor.pollInterval,\n          min = _constructor$pollInte.min,\n          max = _constructor$pollInte.max,\n          multiplier = _constructor$pollInte.multiplier;\n      var interval = multiplier * Math.log(this.reconnectAttempts + 1);\n      return Math.round(clamp(interval, min, max) * 1e3);\n    };\n\n    ConnectionMonitor.prototype.reconnectIfStale = function reconnectIfStale() {\n      if (this.connectionIsStale()) {\n        logger.log(\"ConnectionMonitor detected stale connection. reconnectAttempts = \" + this.reconnectAttempts + \", pollInterval = \" + this.getPollInterval() + \" ms, time disconnected = \" + secondsSince(this.disconnectedAt) + \" s, stale threshold = \" + this.constructor.staleThreshold + \" s\");\n        this.reconnectAttempts++;\n\n        if (this.disconnectedRecently()) {\n          logger.log(\"ConnectionMonitor skipping reopening recent disconnect\");\n        } else {\n          logger.log(\"ConnectionMonitor reopening\");\n          this.connection.reopen();\n        }\n      }\n    };\n\n    ConnectionMonitor.prototype.connectionIsStale = function connectionIsStale() {\n      return secondsSince(this.pingedAt ? this.pingedAt : this.startedAt) > this.constructor.staleThreshold;\n    };\n\n    ConnectionMonitor.prototype.disconnectedRecently = function disconnectedRecently() {\n      return this.disconnectedAt && secondsSince(this.disconnectedAt) < this.constructor.staleThreshold;\n    };\n\n    ConnectionMonitor.prototype.visibilityDidChange = function visibilityDidChange() {\n      var _this2 = this;\n\n      if (document.visibilityState === \"visible\") {\n        setTimeout(function () {\n          if (_this2.connectionIsStale() || !_this2.connection.isOpen()) {\n            logger.log(\"ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = \" + document.visibilityState);\n\n            _this2.connection.reopen();\n          }\n        }, 200);\n      }\n    };\n\n    return ConnectionMonitor;\n  }();\n\n  ConnectionMonitor.pollInterval = {\n    min: 3,\n    max: 30,\n    multiplier: 5\n  };\n  ConnectionMonitor.staleThreshold = 6;\n  var INTERNAL = {\n    message_types: {\n      welcome: \"welcome\",\n      disconnect: \"disconnect\",\n      ping: \"ping\",\n      confirmation: \"confirm_subscription\",\n      rejection: \"reject_subscription\"\n    },\n    disconnect_reasons: {\n      unauthorized: \"unauthorized\",\n      invalid_request: \"invalid_request\",\n      server_restart: \"server_restart\"\n    },\n    default_mount_path: \"/cable\",\n    protocols: [\"actioncable-v1-json\", \"actioncable-unsupported\"]\n  };\n  var message_types = INTERNAL.message_types,\n      protocols = INTERNAL.protocols;\n  var supportedProtocols = protocols.slice(0, protocols.length - 1);\n  var indexOf = [].indexOf;\n\n  var Connection = function () {\n    function Connection(consumer) {\n      classCallCheck(this, Connection);\n      this.open = this.open.bind(this);\n      this.consumer = consumer;\n      this.subscriptions = this.consumer.subscriptions;\n      this.monitor = new ConnectionMonitor(this);\n      this.disconnected = true;\n    }\n\n    Connection.prototype.send = function send(data) {\n      if (this.isOpen()) {\n        this.webSocket.send(JSON.stringify(data));\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    Connection.prototype.open = function open() {\n      if (this.isActive()) {\n        logger.log(\"Attempted to open WebSocket, but existing socket is \" + this.getState());\n        return false;\n      } else {\n        logger.log(\"Opening WebSocket, current state is \" + this.getState() + \", subprotocols: \" + protocols);\n\n        if (this.webSocket) {\n          this.uninstallEventHandlers();\n        }\n\n        this.webSocket = new adapters.WebSocket(this.consumer.url, protocols);\n        this.installEventHandlers();\n        this.monitor.start();\n        return true;\n      }\n    };\n\n    Connection.prototype.close = function close() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        allowReconnect: true\n      },\n          allowReconnect = _ref.allowReconnect;\n\n      if (!allowReconnect) {\n        this.monitor.stop();\n      }\n\n      if (this.isActive()) {\n        return this.webSocket.close();\n      }\n    };\n\n    Connection.prototype.reopen = function reopen() {\n      logger.log(\"Reopening WebSocket, current state is \" + this.getState());\n\n      if (this.isActive()) {\n        try {\n          return this.close();\n        } catch (error) {\n          logger.log(\"Failed to reopen WebSocket\", error);\n        } finally {\n          logger.log(\"Reopening WebSocket in \" + this.constructor.reopenDelay + \"ms\");\n          setTimeout(this.open, this.constructor.reopenDelay);\n        }\n      } else {\n        return this.open();\n      }\n    };\n\n    Connection.prototype.getProtocol = function getProtocol() {\n      if (this.webSocket) {\n        return this.webSocket.protocol;\n      }\n    };\n\n    Connection.prototype.isOpen = function isOpen() {\n      return this.isState(\"open\");\n    };\n\n    Connection.prototype.isActive = function isActive() {\n      return this.isState(\"open\", \"connecting\");\n    };\n\n    Connection.prototype.isProtocolSupported = function isProtocolSupported() {\n      return indexOf.call(supportedProtocols, this.getProtocol()) >= 0;\n    };\n\n    Connection.prototype.isState = function isState() {\n      for (var _len = arguments.length, states = Array(_len), _key = 0; _key < _len; _key++) {\n        states[_key] = arguments[_key];\n      }\n\n      return indexOf.call(states, this.getState()) >= 0;\n    };\n\n    Connection.prototype.getState = function getState() {\n      if (this.webSocket) {\n        for (var state in adapters.WebSocket) {\n          if (adapters.WebSocket[state] === this.webSocket.readyState) {\n            return state.toLowerCase();\n          }\n        }\n      }\n\n      return null;\n    };\n\n    Connection.prototype.installEventHandlers = function installEventHandlers() {\n      for (var eventName in this.events) {\n        var handler = this.events[eventName].bind(this);\n        this.webSocket[\"on\" + eventName] = handler;\n      }\n    };\n\n    Connection.prototype.uninstallEventHandlers = function uninstallEventHandlers() {\n      for (var eventName in this.events) {\n        this.webSocket[\"on\" + eventName] = function () {};\n      }\n    };\n\n    return Connection;\n  }();\n\n  Connection.reopenDelay = 500;\n  Connection.prototype.events = {\n    message: function message(event) {\n      if (!this.isProtocolSupported()) {\n        return;\n      }\n\n      var _JSON$parse = JSON.parse(event.data),\n          identifier = _JSON$parse.identifier,\n          message = _JSON$parse.message,\n          reason = _JSON$parse.reason,\n          reconnect = _JSON$parse.reconnect,\n          type = _JSON$parse.type;\n\n      switch (type) {\n        case message_types.welcome:\n          this.monitor.recordConnect();\n          return this.subscriptions.reload();\n\n        case message_types.disconnect:\n          logger.log(\"Disconnecting. Reason: \" + reason);\n          return this.close({\n            allowReconnect: reconnect\n          });\n\n        case message_types.ping:\n          return this.monitor.recordPing();\n\n        case message_types.confirmation:\n          return this.subscriptions.notify(identifier, \"connected\");\n\n        case message_types.rejection:\n          return this.subscriptions.reject(identifier);\n\n        default:\n          return this.subscriptions.notify(identifier, \"received\", message);\n      }\n    },\n    open: function open() {\n      logger.log(\"WebSocket onopen event, using '\" + this.getProtocol() + \"' subprotocol\");\n      this.disconnected = false;\n\n      if (!this.isProtocolSupported()) {\n        logger.log(\"Protocol is unsupported. Stopping monitor and disconnecting.\");\n        return this.close({\n          allowReconnect: false\n        });\n      }\n    },\n    close: function close(event) {\n      logger.log(\"WebSocket onclose event\");\n\n      if (this.disconnected) {\n        return;\n      }\n\n      this.disconnected = true;\n      this.monitor.recordDisconnect();\n      return this.subscriptions.notifyAll(\"disconnected\", {\n        willAttemptReconnect: this.monitor.isRunning()\n      });\n    },\n    error: function error() {\n      logger.log(\"WebSocket onerror event\");\n    }\n  };\n\n  var extend = function extend(object, properties) {\n    if (properties != null) {\n      for (var key in properties) {\n        var value = properties[key];\n        object[key] = value;\n      }\n    }\n\n    return object;\n  };\n\n  var Subscription = function () {\n    function Subscription(consumer) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var mixin = arguments[2];\n      classCallCheck(this, Subscription);\n      this.consumer = consumer;\n      this.identifier = JSON.stringify(params);\n      extend(this, mixin);\n    }\n\n    Subscription.prototype.perform = function perform(action) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      data.action = action;\n      return this.send(data);\n    };\n\n    Subscription.prototype.send = function send(data) {\n      return this.consumer.send({\n        command: \"message\",\n        identifier: this.identifier,\n        data: JSON.stringify(data)\n      });\n    };\n\n    Subscription.prototype.unsubscribe = function unsubscribe() {\n      return this.consumer.subscriptions.remove(this);\n    };\n\n    return Subscription;\n  }();\n\n  var Subscriptions = function () {\n    function Subscriptions(consumer) {\n      classCallCheck(this, Subscriptions);\n      this.consumer = consumer;\n      this.subscriptions = [];\n    }\n\n    Subscriptions.prototype.create = function create(channelName, mixin) {\n      var channel = channelName;\n      var params = (typeof channel === \"undefined\" ? \"undefined\" : _typeof(channel)) === \"object\" ? channel : {\n        channel: channel\n      };\n      var subscription = new Subscription(this.consumer, params, mixin);\n      return this.add(subscription);\n    };\n\n    Subscriptions.prototype.add = function add(subscription) {\n      this.subscriptions.push(subscription);\n      this.consumer.ensureActiveConnection();\n      this.notify(subscription, \"initialized\");\n      this.sendCommand(subscription, \"subscribe\");\n      return subscription;\n    };\n\n    Subscriptions.prototype.remove = function remove(subscription) {\n      this.forget(subscription);\n\n      if (!this.findAll(subscription.identifier).length) {\n        this.sendCommand(subscription, \"unsubscribe\");\n      }\n\n      return subscription;\n    };\n\n    Subscriptions.prototype.reject = function reject(identifier) {\n      var _this = this;\n\n      return this.findAll(identifier).map(function (subscription) {\n        _this.forget(subscription);\n\n        _this.notify(subscription, \"rejected\");\n\n        return subscription;\n      });\n    };\n\n    Subscriptions.prototype.forget = function forget(subscription) {\n      this.subscriptions = this.subscriptions.filter(function (s) {\n        return s !== subscription;\n      });\n      return subscription;\n    };\n\n    Subscriptions.prototype.findAll = function findAll(identifier) {\n      return this.subscriptions.filter(function (s) {\n        return s.identifier === identifier;\n      });\n    };\n\n    Subscriptions.prototype.reload = function reload() {\n      var _this2 = this;\n\n      return this.subscriptions.map(function (subscription) {\n        return _this2.sendCommand(subscription, \"subscribe\");\n      });\n    };\n\n    Subscriptions.prototype.notifyAll = function notifyAll(callbackName) {\n      var _this3 = this;\n\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return this.subscriptions.map(function (subscription) {\n        return _this3.notify.apply(_this3, [subscription, callbackName].concat(args));\n      });\n    };\n\n    Subscriptions.prototype.notify = function notify(subscription, callbackName) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      var subscriptions = void 0;\n\n      if (typeof subscription === \"string\") {\n        subscriptions = this.findAll(subscription);\n      } else {\n        subscriptions = [subscription];\n      }\n\n      return subscriptions.map(function (subscription) {\n        return typeof subscription[callbackName] === \"function\" ? subscription[callbackName].apply(subscription, args) : undefined;\n      });\n    };\n\n    Subscriptions.prototype.sendCommand = function sendCommand(subscription, command) {\n      var identifier = subscription.identifier;\n      return this.consumer.send({\n        command: command,\n        identifier: identifier\n      });\n    };\n\n    return Subscriptions;\n  }();\n\n  var Consumer = function () {\n    function Consumer(url) {\n      classCallCheck(this, Consumer);\n      this._url = url;\n      this.subscriptions = new Subscriptions(this);\n      this.connection = new Connection(this);\n    }\n\n    Consumer.prototype.send = function send(data) {\n      return this.connection.send(data);\n    };\n\n    Consumer.prototype.connect = function connect() {\n      return this.connection.open();\n    };\n\n    Consumer.prototype.disconnect = function disconnect() {\n      return this.connection.close({\n        allowReconnect: false\n      });\n    };\n\n    Consumer.prototype.ensureActiveConnection = function ensureActiveConnection() {\n      if (!this.connection.isActive()) {\n        return this.connection.open();\n      }\n    };\n\n    createClass(Consumer, [{\n      key: \"url\",\n      get: function get$$1() {\n        return createWebSocketURL(this._url);\n      }\n    }]);\n    return Consumer;\n  }();\n\n  function createWebSocketURL(url) {\n    if (typeof url === \"function\") {\n      url = url();\n    }\n\n    if (url && !/^wss?:/i.test(url)) {\n      var a = document.createElement(\"a\");\n      a.href = url;\n      a.href = a.href;\n      a.protocol = a.protocol.replace(\"http\", \"ws\");\n      return a.href;\n    } else {\n      return url;\n    }\n  }\n\n  function createConsumer() {\n    var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getConfig(\"url\") || INTERNAL.default_mount_path;\n    return new Consumer(url);\n  }\n\n  function getConfig(name) {\n    var element = document.head.querySelector(\"meta[name='action-cable-\" + name + \"']\");\n\n    if (element) {\n      return element.getAttribute(\"content\");\n    }\n  }\n\n  exports.Connection = Connection;\n  exports.ConnectionMonitor = ConnectionMonitor;\n  exports.Consumer = Consumer;\n  exports.INTERNAL = INTERNAL;\n  exports.Subscription = Subscription;\n  exports.Subscriptions = Subscriptions;\n  exports.adapters = adapters;\n  exports.createWebSocketURL = createWebSocketURL;\n  exports.logger = logger;\n  exports.createConsumer = createConsumer;\n  exports.getConfig = getConfig;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n});","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (global, factory) {\n  (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === \"object\" && typeof module !== \"undefined\" ? factory(exports) : typeof define === \"function\" && define.amd ? define([\"exports\"], factory) : factory(global.ActiveStorage = {});\n})(this, function (exports) {\n  \"use strict\";\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var sparkMd5 = createCommonjsModule(function (module, exports) {\n    (function (factory) {\n      {\n        module.exports = factory();\n      }\n    })(function (undefined) {\n      var hex_chr = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n\n      function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n      }\n\n      function md5blk(s) {\n        var md5blks = [],\n            i;\n\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n\n        return md5blks;\n      }\n\n      function md5blk_array(a) {\n        var md5blks = [],\n            i;\n\n        for (i = 0; i < 64; i += 4) {\n          md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n\n        return md5blks;\n      }\n\n      function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n        }\n\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n\n        if (i > 55) {\n          md5cycle(state, tail);\n\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n\n      function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n          md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        a = i - 64 < n ? a.subarray(i - 64) : new Uint8Array(0);\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= a[i] << (i % 4 << 3);\n        }\n\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n\n        if (i > 55) {\n          md5cycle(state, tail);\n\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(state, tail);\n        return state;\n      }\n\n      function rhex(n) {\n        var s = \"\",\n            j;\n\n        for (j = 0; j < 4; j += 1) {\n          s += hex_chr[n >> j * 8 + 4 & 15] + hex_chr[n >> j * 8 & 15];\n        }\n\n        return s;\n      }\n\n      function hex(x) {\n        var i;\n\n        for (i = 0; i < x.length; i += 1) {\n          x[i] = rhex(x[i]);\n        }\n\n        return x.join(\"\");\n      }\n\n      if (hex(md51(\"hello\")) !== \"5d41402abc4b2a76b9719d911017c592\") ;\n\n      if (typeof ArrayBuffer !== \"undefined\" && !ArrayBuffer.prototype.slice) {\n        (function () {\n          function clamp(val, length) {\n            val = val | 0 || 0;\n\n            if (val < 0) {\n              return Math.max(val + length, 0);\n            }\n\n            return Math.min(val, length);\n          }\n\n          ArrayBuffer.prototype.slice = function (from, to) {\n            var length = this.byteLength,\n                begin = clamp(from, length),\n                end = length,\n                num,\n                target,\n                targetArray,\n                sourceArray;\n\n            if (to !== undefined) {\n              end = clamp(to, length);\n            }\n\n            if (begin > end) {\n              return new ArrayBuffer(0);\n            }\n\n            num = end - begin;\n            target = new ArrayBuffer(num);\n            targetArray = new Uint8Array(target);\n            sourceArray = new Uint8Array(this, begin, num);\n            targetArray.set(sourceArray);\n            return target;\n          };\n        })();\n      }\n\n      function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n          str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n      }\n\n      function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n            buff = new ArrayBuffer(length),\n            arr = new Uint8Array(buff),\n            i;\n\n        for (i = 0; i < length; i += 1) {\n          arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n      }\n\n      function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n      }\n\n      function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n        return returnUInt8Array ? result : result.buffer;\n      }\n\n      function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n          bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n      }\n\n      function SparkMD5() {\n        this.reset();\n      }\n\n      SparkMD5.prototype.append = function (str) {\n        this.appendBinary(toUtf8(str));\n        return this;\n      };\n\n      SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n        return this;\n      };\n\n      SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff.charCodeAt(i) << (i % 4 << 3);\n        }\n\n        this._finish(tail, length);\n\n        ret = hex(this._hash);\n\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n        return ret;\n      };\n\n      SparkMD5.prototype.reset = function () {\n        this._buff = \"\";\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n        return this;\n      };\n\n      SparkMD5.prototype.getState = function () {\n        return {\n          buff: this._buff,\n          length: this._length,\n          hash: this._hash\n        };\n      };\n\n      SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n        return this;\n      };\n\n      SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n      };\n\n      SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n        tail[i >> 2] |= 128 << (i % 4 << 3);\n\n        if (i > 55) {\n          md5cycle(this._hash, tail);\n\n          for (i = 0; i < 16; i += 1) {\n            tail[i] = 0;\n          }\n        }\n\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n      };\n\n      SparkMD5.hash = function (str, raw) {\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n      };\n\n      SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n\n      SparkMD5.ArrayBuffer = function () {\n        this.reset();\n      };\n\n      SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n          md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = i - 64 < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n        return this;\n      };\n\n      SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n          tail[i >> 2] |= buff[i] << (i % 4 << 3);\n        }\n\n        this._finish(tail, length);\n\n        ret = hex(this._hash);\n\n        if (raw) {\n          ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n        return ret;\n      };\n\n      SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n        return this;\n      };\n\n      SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n        return state;\n      };\n\n      SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n        return SparkMD5.prototype.setState.call(this, state);\n      };\n\n      SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n      SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n      SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n        return raw ? hexToBinaryString(ret) : ret;\n      };\n\n      return SparkMD5;\n    });\n  });\n\n  var classCallCheck = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var fileSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\n\n  var FileChecksum = function () {\n    createClass(FileChecksum, null, [{\n      key: \"create\",\n      value: function create(file, callback) {\n        var instance = new FileChecksum(file);\n        instance.create(callback);\n      }\n    }]);\n\n    function FileChecksum(file) {\n      classCallCheck(this, FileChecksum);\n      this.file = file;\n      this.chunkSize = 2097152;\n      this.chunkCount = Math.ceil(this.file.size / this.chunkSize);\n      this.chunkIndex = 0;\n    }\n\n    createClass(FileChecksum, [{\n      key: \"create\",\n      value: function create(callback) {\n        var _this = this;\n\n        this.callback = callback;\n        this.md5Buffer = new sparkMd5.ArrayBuffer();\n        this.fileReader = new FileReader();\n        this.fileReader.addEventListener(\"load\", function (event) {\n          return _this.fileReaderDidLoad(event);\n        });\n        this.fileReader.addEventListener(\"error\", function (event) {\n          return _this.fileReaderDidError(event);\n        });\n        this.readNextChunk();\n      }\n    }, {\n      key: \"fileReaderDidLoad\",\n      value: function fileReaderDidLoad(event) {\n        this.md5Buffer.append(event.target.result);\n\n        if (!this.readNextChunk()) {\n          var binaryDigest = this.md5Buffer.end(true);\n          var base64digest = btoa(binaryDigest);\n          this.callback(null, base64digest);\n        }\n      }\n    }, {\n      key: \"fileReaderDidError\",\n      value: function fileReaderDidError(event) {\n        this.callback(\"Error reading \" + this.file.name);\n      }\n    }, {\n      key: \"readNextChunk\",\n      value: function readNextChunk() {\n        if (this.chunkIndex < this.chunkCount || this.chunkIndex == 0 && this.chunkCount == 0) {\n          var start = this.chunkIndex * this.chunkSize;\n          var end = Math.min(start + this.chunkSize, this.file.size);\n          var bytes = fileSlice.call(this.file, start, end);\n          this.fileReader.readAsArrayBuffer(bytes);\n          this.chunkIndex++;\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }]);\n    return FileChecksum;\n  }();\n\n  function getMetaValue(name) {\n    var element = findElement(document.head, 'meta[name=\"' + name + '\"]');\n\n    if (element) {\n      return element.getAttribute(\"content\");\n    }\n  }\n\n  function findElements(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n\n    var elements = root.querySelectorAll(selector);\n    return toArray$1(elements);\n  }\n\n  function findElement(root, selector) {\n    if (typeof root == \"string\") {\n      selector = root;\n      root = document;\n    }\n\n    return root.querySelector(selector);\n  }\n\n  function dispatchEvent(element, type) {\n    var eventInit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var disabled = element.disabled;\n    var bubbles = eventInit.bubbles,\n        cancelable = eventInit.cancelable,\n        detail = eventInit.detail;\n    var event = document.createEvent(\"Event\");\n    event.initEvent(type, bubbles || true, cancelable || true);\n    event.detail = detail || {};\n\n    try {\n      element.disabled = false;\n      element.dispatchEvent(event);\n    } finally {\n      element.disabled = disabled;\n    }\n\n    return event;\n  }\n\n  function toArray$1(value) {\n    if (Array.isArray(value)) {\n      return value;\n    } else if (Array.from) {\n      return Array.from(value);\n    } else {\n      return [].slice.call(value);\n    }\n  }\n\n  var BlobRecord = function () {\n    function BlobRecord(file, checksum, url) {\n      var _this = this;\n\n      classCallCheck(this, BlobRecord);\n      this.file = file;\n      this.attributes = {\n        filename: file.name,\n        content_type: file.type,\n        byte_size: file.size,\n        checksum: checksum\n      };\n      this.xhr = new XMLHttpRequest();\n      this.xhr.open(\"POST\", url, true);\n      this.xhr.responseType = \"json\";\n      this.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n      this.xhr.setRequestHeader(\"Accept\", \"application/json\");\n      this.xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n      var csrfToken = getMetaValue(\"csrf-token\");\n\n      if (csrfToken != undefined) {\n        this.xhr.setRequestHeader(\"X-CSRF-Token\", csrfToken);\n      }\n\n      this.xhr.addEventListener(\"load\", function (event) {\n        return _this.requestDidLoad(event);\n      });\n      this.xhr.addEventListener(\"error\", function (event) {\n        return _this.requestDidError(event);\n      });\n    }\n\n    createClass(BlobRecord, [{\n      key: \"create\",\n      value: function create(callback) {\n        this.callback = callback;\n        this.xhr.send(JSON.stringify({\n          blob: this.attributes\n        }));\n      }\n    }, {\n      key: \"requestDidLoad\",\n      value: function requestDidLoad(event) {\n        if (this.status >= 200 && this.status < 300) {\n          var response = this.response;\n          var direct_upload = response.direct_upload;\n          delete response.direct_upload;\n          this.attributes = response;\n          this.directUploadData = direct_upload;\n          this.callback(null, this.toJSON());\n        } else {\n          this.requestDidError(event);\n        }\n      }\n    }, {\n      key: \"requestDidError\",\n      value: function requestDidError(event) {\n        this.callback('Error creating Blob for \"' + this.file.name + '\". Status: ' + this.status);\n      }\n    }, {\n      key: \"toJSON\",\n      value: function toJSON() {\n        var result = {};\n\n        for (var key in this.attributes) {\n          result[key] = this.attributes[key];\n        }\n\n        return result;\n      }\n    }, {\n      key: \"status\",\n      get: function get$$1() {\n        return this.xhr.status;\n      }\n    }, {\n      key: \"response\",\n      get: function get$$1() {\n        var _xhr = this.xhr,\n            responseType = _xhr.responseType,\n            response = _xhr.response;\n\n        if (responseType == \"json\") {\n          return response;\n        } else {\n          return JSON.parse(response);\n        }\n      }\n    }]);\n    return BlobRecord;\n  }();\n\n  var BlobUpload = function () {\n    function BlobUpload(blob) {\n      var _this = this;\n\n      classCallCheck(this, BlobUpload);\n      this.blob = blob;\n      this.file = blob.file;\n      var _blob$directUploadDat = blob.directUploadData,\n          url = _blob$directUploadDat.url,\n          headers = _blob$directUploadDat.headers;\n      this.xhr = new XMLHttpRequest();\n      this.xhr.open(\"PUT\", url, true);\n      this.xhr.responseType = \"text\";\n\n      for (var key in headers) {\n        this.xhr.setRequestHeader(key, headers[key]);\n      }\n\n      this.xhr.addEventListener(\"load\", function (event) {\n        return _this.requestDidLoad(event);\n      });\n      this.xhr.addEventListener(\"error\", function (event) {\n        return _this.requestDidError(event);\n      });\n    }\n\n    createClass(BlobUpload, [{\n      key: \"create\",\n      value: function create(callback) {\n        this.callback = callback;\n        this.xhr.send(this.file.slice());\n      }\n    }, {\n      key: \"requestDidLoad\",\n      value: function requestDidLoad(event) {\n        var _xhr = this.xhr,\n            status = _xhr.status,\n            response = _xhr.response;\n\n        if (status >= 200 && status < 300) {\n          this.callback(null, response);\n        } else {\n          this.requestDidError(event);\n        }\n      }\n    }, {\n      key: \"requestDidError\",\n      value: function requestDidError(event) {\n        this.callback('Error storing \"' + this.file.name + '\". Status: ' + this.xhr.status);\n      }\n    }]);\n    return BlobUpload;\n  }();\n\n  var id = 0;\n\n  var DirectUpload = function () {\n    function DirectUpload(file, url, delegate) {\n      classCallCheck(this, DirectUpload);\n      this.id = ++id;\n      this.file = file;\n      this.url = url;\n      this.delegate = delegate;\n    }\n\n    createClass(DirectUpload, [{\n      key: \"create\",\n      value: function create(callback) {\n        var _this = this;\n\n        FileChecksum.create(this.file, function (error, checksum) {\n          if (error) {\n            callback(error);\n            return;\n          }\n\n          var blob = new BlobRecord(_this.file, checksum, _this.url);\n          notify(_this.delegate, \"directUploadWillCreateBlobWithXHR\", blob.xhr);\n          blob.create(function (error) {\n            if (error) {\n              callback(error);\n            } else {\n              var upload = new BlobUpload(blob);\n              notify(_this.delegate, \"directUploadWillStoreFileWithXHR\", upload.xhr);\n              upload.create(function (error) {\n                if (error) {\n                  callback(error);\n                } else {\n                  callback(null, blob.toJSON());\n                }\n              });\n            }\n          });\n        });\n      }\n    }]);\n    return DirectUpload;\n  }();\n\n  function notify(object, methodName) {\n    if (object && typeof object[methodName] == \"function\") {\n      for (var _len = arguments.length, messages = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        messages[_key - 2] = arguments[_key];\n      }\n\n      return object[methodName].apply(object, messages);\n    }\n  }\n\n  var DirectUploadController = function () {\n    function DirectUploadController(input, file) {\n      classCallCheck(this, DirectUploadController);\n      this.input = input;\n      this.file = file;\n      this.directUpload = new DirectUpload(this.file, this.url, this);\n      this.dispatch(\"initialize\");\n    }\n\n    createClass(DirectUploadController, [{\n      key: \"start\",\n      value: function start(callback) {\n        var _this = this;\n\n        var hiddenInput = document.createElement(\"input\");\n        hiddenInput.type = \"hidden\";\n        hiddenInput.name = this.input.name;\n        this.input.insertAdjacentElement(\"beforebegin\", hiddenInput);\n        this.dispatch(\"start\");\n        this.directUpload.create(function (error, attributes) {\n          if (error) {\n            hiddenInput.parentNode.removeChild(hiddenInput);\n\n            _this.dispatchError(error);\n          } else {\n            hiddenInput.value = attributes.signed_id;\n          }\n\n          _this.dispatch(\"end\");\n\n          callback(error);\n        });\n      }\n    }, {\n      key: \"uploadRequestDidProgress\",\n      value: function uploadRequestDidProgress(event) {\n        var progress = event.loaded / event.total * 100;\n\n        if (progress) {\n          this.dispatch(\"progress\", {\n            progress: progress\n          });\n        }\n      }\n    }, {\n      key: \"dispatch\",\n      value: function dispatch(name) {\n        var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        detail.file = this.file;\n        detail.id = this.directUpload.id;\n        return dispatchEvent(this.input, \"direct-upload:\" + name, {\n          detail: detail\n        });\n      }\n    }, {\n      key: \"dispatchError\",\n      value: function dispatchError(error) {\n        var event = this.dispatch(\"error\", {\n          error: error\n        });\n\n        if (!event.defaultPrevented) {\n          alert(error);\n        }\n      }\n    }, {\n      key: \"directUploadWillCreateBlobWithXHR\",\n      value: function directUploadWillCreateBlobWithXHR(xhr) {\n        this.dispatch(\"before-blob-request\", {\n          xhr: xhr\n        });\n      }\n    }, {\n      key: \"directUploadWillStoreFileWithXHR\",\n      value: function directUploadWillStoreFileWithXHR(xhr) {\n        var _this2 = this;\n\n        this.dispatch(\"before-storage-request\", {\n          xhr: xhr\n        });\n        xhr.upload.addEventListener(\"progress\", function (event) {\n          return _this2.uploadRequestDidProgress(event);\n        });\n      }\n    }, {\n      key: \"url\",\n      get: function get$$1() {\n        return this.input.getAttribute(\"data-direct-upload-url\");\n      }\n    }]);\n    return DirectUploadController;\n  }();\n\n  var inputSelector = \"input[type=file][data-direct-upload-url]:not([disabled])\";\n\n  var DirectUploadsController = function () {\n    function DirectUploadsController(form) {\n      classCallCheck(this, DirectUploadsController);\n      this.form = form;\n      this.inputs = findElements(form, inputSelector).filter(function (input) {\n        return input.files.length;\n      });\n    }\n\n    createClass(DirectUploadsController, [{\n      key: \"start\",\n      value: function start(callback) {\n        var _this = this;\n\n        var controllers = this.createDirectUploadControllers();\n\n        var startNextController = function startNextController() {\n          var controller = controllers.shift();\n\n          if (controller) {\n            controller.start(function (error) {\n              if (error) {\n                callback(error);\n\n                _this.dispatch(\"end\");\n              } else {\n                startNextController();\n              }\n            });\n          } else {\n            callback();\n\n            _this.dispatch(\"end\");\n          }\n        };\n\n        this.dispatch(\"start\");\n        startNextController();\n      }\n    }, {\n      key: \"createDirectUploadControllers\",\n      value: function createDirectUploadControllers() {\n        var controllers = [];\n        this.inputs.forEach(function (input) {\n          toArray$1(input.files).forEach(function (file) {\n            var controller = new DirectUploadController(input, file);\n            controllers.push(controller);\n          });\n        });\n        return controllers;\n      }\n    }, {\n      key: \"dispatch\",\n      value: function dispatch(name) {\n        var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return dispatchEvent(this.form, \"direct-uploads:\" + name, {\n          detail: detail\n        });\n      }\n    }]);\n    return DirectUploadsController;\n  }();\n\n  var processingAttribute = \"data-direct-uploads-processing\";\n  var submitButtonsByForm = new WeakMap();\n  var started = false;\n\n  function start() {\n    if (!started) {\n      started = true;\n      document.addEventListener(\"click\", didClick, true);\n      document.addEventListener(\"submit\", didSubmitForm);\n      document.addEventListener(\"ajax:before\", didSubmitRemoteElement);\n    }\n  }\n\n  function didClick(event) {\n    var target = event.target;\n\n    if ((target.tagName == \"INPUT\" || target.tagName == \"BUTTON\") && target.type == \"submit\" && target.form) {\n      submitButtonsByForm.set(target.form, target);\n    }\n  }\n\n  function didSubmitForm(event) {\n    handleFormSubmissionEvent(event);\n  }\n\n  function didSubmitRemoteElement(event) {\n    if (event.target.tagName == \"FORM\") {\n      handleFormSubmissionEvent(event);\n    }\n  }\n\n  function handleFormSubmissionEvent(event) {\n    var form = event.target;\n\n    if (form.hasAttribute(processingAttribute)) {\n      event.preventDefault();\n      return;\n    }\n\n    var controller = new DirectUploadsController(form);\n    var inputs = controller.inputs;\n\n    if (inputs.length) {\n      event.preventDefault();\n      form.setAttribute(processingAttribute, \"\");\n      inputs.forEach(disable);\n      controller.start(function (error) {\n        form.removeAttribute(processingAttribute);\n\n        if (error) {\n          inputs.forEach(enable);\n        } else {\n          submitForm(form);\n        }\n      });\n    }\n  }\n\n  function submitForm(form) {\n    var button = submitButtonsByForm.get(form) || findElement(form, \"input[type=submit], button[type=submit]\");\n\n    if (button) {\n      var _button = button,\n          disabled = _button.disabled;\n      button.disabled = false;\n      button.focus();\n      button.click();\n      button.disabled = disabled;\n    } else {\n      button = document.createElement(\"input\");\n      button.type = \"submit\";\n      button.style.display = \"none\";\n      form.appendChild(button);\n      button.click();\n      form.removeChild(button);\n    }\n\n    submitButtonsByForm[\"delete\"](form);\n  }\n\n  function disable(input) {\n    input.disabled = true;\n  }\n\n  function enable(input) {\n    input.disabled = false;\n  }\n\n  function autostart() {\n    if (window.ActiveStorage) {\n      start();\n    }\n  }\n\n  setTimeout(autostart, 1);\n  exports.start = start;\n  exports.DirectUpload = DirectUpload;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n});","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\nUnobtrusive JavaScript\nhttps://github.com/rails/rails/blob/master/actionview/app/assets/javascripts\nReleased under the MIT license\n */\n;\n(function () {\n  var context = this;\n  (function () {\n    (function () {\n      this.Rails = {\n        linkClickSelector: 'a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]',\n        buttonClickSelector: {\n          selector: 'button[data-remote]:not([form]), button[data-confirm]:not([form])',\n          exclude: 'form button'\n        },\n        inputChangeSelector: 'select[data-remote], input[data-remote], textarea[data-remote]',\n        formSubmitSelector: 'form',\n        formInputClickSelector: 'form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])',\n        formDisableSelector: 'input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled',\n        formEnableSelector: 'input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled',\n        fileInputSelector: 'input[name][type=file]:not([disabled])',\n        linkDisableSelector: 'a[data-disable-with], a[data-disable]',\n        buttonDisableSelector: 'button[data-remote][data-disable-with], button[data-remote][data-disable]'\n      };\n    }).call(this);\n  }).call(context);\n  var Rails = context.Rails;\n  (function () {\n    (function () {\n      var nonce;\n      nonce = null;\n\n      Rails.loadCSPNonce = function () {\n        var ref;\n        return nonce = (ref = document.querySelector(\"meta[name=csp-nonce]\")) != null ? ref.content : void 0;\n      };\n\n      Rails.cspNonce = function () {\n        return nonce != null ? nonce : Rails.loadCSPNonce();\n      };\n    }).call(this);\n    (function () {\n      var expando, m;\n      m = Element.prototype.matches || Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector;\n\n      Rails.matches = function (element, selector) {\n        if (selector.exclude != null) {\n          return m.call(element, selector.selector) && !m.call(element, selector.exclude);\n        } else {\n          return m.call(element, selector);\n        }\n      };\n\n      expando = '_ujsData';\n\n      Rails.getData = function (element, key) {\n        var ref;\n        return (ref = element[expando]) != null ? ref[key] : void 0;\n      };\n\n      Rails.setData = function (element, key, value) {\n        if (element[expando] == null) {\n          element[expando] = {};\n        }\n\n        return element[expando][key] = value;\n      };\n\n      Rails.$ = function (selector) {\n        return Array.prototype.slice.call(document.querySelectorAll(selector));\n      };\n    }).call(this);\n    (function () {\n      var $, csrfParam, csrfToken;\n      $ = Rails.$;\n\n      csrfToken = Rails.csrfToken = function () {\n        var meta;\n        meta = document.querySelector('meta[name=csrf-token]');\n        return meta && meta.content;\n      };\n\n      csrfParam = Rails.csrfParam = function () {\n        var meta;\n        meta = document.querySelector('meta[name=csrf-param]');\n        return meta && meta.content;\n      };\n\n      Rails.CSRFProtection = function (xhr) {\n        var token;\n        token = csrfToken();\n\n        if (token != null) {\n          return xhr.setRequestHeader('X-CSRF-Token', token);\n        }\n      };\n\n      Rails.refreshCSRFTokens = function () {\n        var param, token;\n        token = csrfToken();\n        param = csrfParam();\n\n        if (token != null && param != null) {\n          return $('form input[name=\"' + param + '\"]').forEach(function (input) {\n            return input.value = token;\n          });\n        }\n      };\n    }).call(this);\n    (function () {\n      var CustomEvent, fire, matches, preventDefault;\n      matches = Rails.matches;\n      CustomEvent = window.CustomEvent;\n\n      if (typeof CustomEvent !== 'function') {\n        CustomEvent = function CustomEvent(event, params) {\n          var evt;\n          evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n          return evt;\n        };\n\n        CustomEvent.prototype = window.Event.prototype;\n        preventDefault = CustomEvent.prototype.preventDefault;\n\n        CustomEvent.prototype.preventDefault = function () {\n          var result;\n          result = preventDefault.call(this);\n\n          if (this.cancelable && !this.defaultPrevented) {\n            Object.defineProperty(this, 'defaultPrevented', {\n              get: function get() {\n                return true;\n              }\n            });\n          }\n\n          return result;\n        };\n      }\n\n      fire = Rails.fire = function (obj, name, data) {\n        var event;\n        event = new CustomEvent(name, {\n          bubbles: true,\n          cancelable: true,\n          detail: data\n        });\n        obj.dispatchEvent(event);\n        return !event.defaultPrevented;\n      };\n\n      Rails.stopEverything = function (e) {\n        fire(e.target, 'ujs:everythingStopped');\n        e.preventDefault();\n        e.stopPropagation();\n        return e.stopImmediatePropagation();\n      };\n\n      Rails.delegate = function (element, selector, eventType, handler) {\n        return element.addEventListener(eventType, function (e) {\n          var target;\n          target = e.target;\n\n          while (!(!(target instanceof Element) || matches(target, selector))) {\n            target = target.parentNode;\n          }\n\n          if (target instanceof Element && handler.call(target, e) === false) {\n            e.preventDefault();\n            return e.stopPropagation();\n          }\n        });\n      };\n    }).call(this);\n    (function () {\n      var AcceptHeaders, CSRFProtection, createXHR, cspNonce, fire, prepareOptions, processResponse;\n      cspNonce = Rails.cspNonce, CSRFProtection = Rails.CSRFProtection, fire = Rails.fire;\n      AcceptHeaders = {\n        '*': '*/*',\n        text: 'text/plain',\n        html: 'text/html',\n        xml: 'application/xml, text/xml',\n        json: 'application/json, text/javascript',\n        script: 'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'\n      };\n\n      Rails.ajax = function (options) {\n        var xhr;\n        options = prepareOptions(options);\n        xhr = createXHR(options, function () {\n          var ref, response;\n          response = processResponse((ref = xhr.response) != null ? ref : xhr.responseText, xhr.getResponseHeader('Content-Type'));\n\n          if (Math.floor(xhr.status / 100) === 2) {\n            if (typeof options.success === \"function\") {\n              options.success(response, xhr.statusText, xhr);\n            }\n          } else {\n            if (typeof options.error === \"function\") {\n              options.error(response, xhr.statusText, xhr);\n            }\n          }\n\n          return typeof options.complete === \"function\" ? options.complete(xhr, xhr.statusText) : void 0;\n        });\n\n        if (options.beforeSend != null && !options.beforeSend(xhr, options)) {\n          return false;\n        }\n\n        if (xhr.readyState === XMLHttpRequest.OPENED) {\n          return xhr.send(options.data);\n        }\n      };\n\n      prepareOptions = function prepareOptions(options) {\n        options.url = options.url || location.href;\n        options.type = options.type.toUpperCase();\n\n        if (options.type === 'GET' && options.data) {\n          if (options.url.indexOf('?') < 0) {\n            options.url += '?' + options.data;\n          } else {\n            options.url += '&' + options.data;\n          }\n        }\n\n        if (AcceptHeaders[options.dataType] == null) {\n          options.dataType = '*';\n        }\n\n        options.accept = AcceptHeaders[options.dataType];\n\n        if (options.dataType !== '*') {\n          options.accept += ', */*; q=0.01';\n        }\n\n        return options;\n      };\n\n      createXHR = function createXHR(options, done) {\n        var xhr;\n        xhr = new XMLHttpRequest();\n        xhr.open(options.type, options.url, true);\n        xhr.setRequestHeader('Accept', options.accept);\n\n        if (typeof options.data === 'string') {\n          xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n        }\n\n        if (!options.crossDomain) {\n          xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        }\n\n        CSRFProtection(xhr);\n        xhr.withCredentials = !!options.withCredentials;\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === XMLHttpRequest.DONE) {\n            return done(xhr);\n          }\n        };\n\n        return xhr;\n      };\n\n      processResponse = function processResponse(response, type) {\n        var parser, script;\n\n        if (typeof response === 'string' && typeof type === 'string') {\n          if (type.match(/\\bjson\\b/)) {\n            try {\n              response = JSON.parse(response);\n            } catch (error) {}\n          } else if (type.match(/\\b(?:java|ecma)script\\b/)) {\n            script = document.createElement('script');\n            script.setAttribute('nonce', cspNonce());\n            script.text = response;\n            document.head.appendChild(script).parentNode.removeChild(script);\n          } else if (type.match(/\\b(xml|html|svg)\\b/)) {\n            parser = new DOMParser();\n            type = type.replace(/;.+/, '');\n\n            try {\n              response = parser.parseFromString(response, type);\n            } catch (error) {}\n          }\n        }\n\n        return response;\n      };\n\n      Rails.href = function (element) {\n        return element.href;\n      };\n\n      Rails.isCrossDomain = function (url) {\n        var e, originAnchor, urlAnchor;\n        originAnchor = document.createElement('a');\n        originAnchor.href = location.href;\n        urlAnchor = document.createElement('a');\n\n        try {\n          urlAnchor.href = url;\n          return !((!urlAnchor.protocol || urlAnchor.protocol === ':') && !urlAnchor.host || originAnchor.protocol + '//' + originAnchor.host === urlAnchor.protocol + '//' + urlAnchor.host);\n        } catch (error) {\n          e = error;\n          return true;\n        }\n      };\n    }).call(this);\n    (function () {\n      var matches, toArray;\n      matches = Rails.matches;\n\n      toArray = function toArray(e) {\n        return Array.prototype.slice.call(e);\n      };\n\n      Rails.serializeElement = function (element, additionalParam) {\n        var inputs, params;\n        inputs = [element];\n\n        if (matches(element, 'form')) {\n          inputs = toArray(element.elements);\n        }\n\n        params = [];\n        inputs.forEach(function (input) {\n          if (!input.name || input.disabled) {\n            return;\n          }\n\n          if (matches(input, 'fieldset[disabled] *')) {\n            return;\n          }\n\n          if (matches(input, 'select')) {\n            return toArray(input.options).forEach(function (option) {\n              if (option.selected) {\n                return params.push({\n                  name: input.name,\n                  value: option.value\n                });\n              }\n            });\n          } else if (input.checked || ['radio', 'checkbox', 'submit'].indexOf(input.type) === -1) {\n            return params.push({\n              name: input.name,\n              value: input.value\n            });\n          }\n        });\n\n        if (additionalParam) {\n          params.push(additionalParam);\n        }\n\n        return params.map(function (param) {\n          if (param.name != null) {\n            return encodeURIComponent(param.name) + \"=\" + encodeURIComponent(param.value);\n          } else {\n            return param;\n          }\n        }).join('&');\n      };\n\n      Rails.formElements = function (form, selector) {\n        if (matches(form, 'form')) {\n          return toArray(form.elements).filter(function (el) {\n            return matches(el, selector);\n          });\n        } else {\n          return toArray(form.querySelectorAll(selector));\n        }\n      };\n    }).call(this);\n    (function () {\n      var allowAction, fire, stopEverything;\n      fire = Rails.fire, stopEverything = Rails.stopEverything;\n\n      Rails.handleConfirm = function (e) {\n        if (!allowAction(this)) {\n          return stopEverything(e);\n        }\n      };\n\n      Rails.confirm = function (message, element) {\n        return confirm(message);\n      };\n\n      allowAction = function allowAction(element) {\n        var answer, callback, message;\n        message = element.getAttribute('data-confirm');\n\n        if (!message) {\n          return true;\n        }\n\n        answer = false;\n\n        if (fire(element, 'confirm')) {\n          try {\n            answer = Rails.confirm(message, element);\n          } catch (error) {}\n\n          callback = fire(element, 'confirm:complete', [answer]);\n        }\n\n        return answer && callback;\n      };\n    }).call(this);\n    (function () {\n      var disableFormElement, disableFormElements, disableLinkElement, enableFormElement, enableFormElements, enableLinkElement, formElements, getData, isXhrRedirect, matches, setData, stopEverything;\n      matches = Rails.matches, getData = Rails.getData, setData = Rails.setData, stopEverything = Rails.stopEverything, formElements = Rails.formElements;\n\n      Rails.handleDisabledElement = function (e) {\n        var element;\n        element = this;\n\n        if (element.disabled) {\n          return stopEverything(e);\n        }\n      };\n\n      Rails.enableElement = function (e) {\n        var element;\n\n        if (e instanceof Event) {\n          if (isXhrRedirect(e)) {\n            return;\n          }\n\n          element = e.target;\n        } else {\n          element = e;\n        }\n\n        if (matches(element, Rails.linkDisableSelector)) {\n          return enableLinkElement(element);\n        } else if (matches(element, Rails.buttonDisableSelector) || matches(element, Rails.formEnableSelector)) {\n          return enableFormElement(element);\n        } else if (matches(element, Rails.formSubmitSelector)) {\n          return enableFormElements(element);\n        }\n      };\n\n      Rails.disableElement = function (e) {\n        var element;\n        element = e instanceof Event ? e.target : e;\n\n        if (matches(element, Rails.linkDisableSelector)) {\n          return disableLinkElement(element);\n        } else if (matches(element, Rails.buttonDisableSelector) || matches(element, Rails.formDisableSelector)) {\n          return disableFormElement(element);\n        } else if (matches(element, Rails.formSubmitSelector)) {\n          return disableFormElements(element);\n        }\n      };\n\n      disableLinkElement = function disableLinkElement(element) {\n        var replacement;\n\n        if (getData(element, 'ujs:disabled')) {\n          return;\n        }\n\n        replacement = element.getAttribute('data-disable-with');\n\n        if (replacement != null) {\n          setData(element, 'ujs:enable-with', element.innerHTML);\n          element.innerHTML = replacement;\n        }\n\n        element.addEventListener('click', stopEverything);\n        return setData(element, 'ujs:disabled', true);\n      };\n\n      enableLinkElement = function enableLinkElement(element) {\n        var originalText;\n        originalText = getData(element, 'ujs:enable-with');\n\n        if (originalText != null) {\n          element.innerHTML = originalText;\n          setData(element, 'ujs:enable-with', null);\n        }\n\n        element.removeEventListener('click', stopEverything);\n        return setData(element, 'ujs:disabled', null);\n      };\n\n      disableFormElements = function disableFormElements(form) {\n        return formElements(form, Rails.formDisableSelector).forEach(disableFormElement);\n      };\n\n      disableFormElement = function disableFormElement(element) {\n        var replacement;\n\n        if (getData(element, 'ujs:disabled')) {\n          return;\n        }\n\n        replacement = element.getAttribute('data-disable-with');\n\n        if (replacement != null) {\n          if (matches(element, 'button')) {\n            setData(element, 'ujs:enable-with', element.innerHTML);\n            element.innerHTML = replacement;\n          } else {\n            setData(element, 'ujs:enable-with', element.value);\n            element.value = replacement;\n          }\n        }\n\n        element.disabled = true;\n        return setData(element, 'ujs:disabled', true);\n      };\n\n      enableFormElements = function enableFormElements(form) {\n        return formElements(form, Rails.formEnableSelector).forEach(enableFormElement);\n      };\n\n      enableFormElement = function enableFormElement(element) {\n        var originalText;\n        originalText = getData(element, 'ujs:enable-with');\n\n        if (originalText != null) {\n          if (matches(element, 'button')) {\n            element.innerHTML = originalText;\n          } else {\n            element.value = originalText;\n          }\n\n          setData(element, 'ujs:enable-with', null);\n        }\n\n        element.disabled = false;\n        return setData(element, 'ujs:disabled', null);\n      };\n\n      isXhrRedirect = function isXhrRedirect(event) {\n        var ref, xhr;\n        xhr = (ref = event.detail) != null ? ref[0] : void 0;\n        return (xhr != null ? xhr.getResponseHeader(\"X-Xhr-Redirect\") : void 0) != null;\n      };\n    }).call(this);\n    (function () {\n      var stopEverything;\n      stopEverything = Rails.stopEverything;\n\n      Rails.handleMethod = function (e) {\n        var csrfParam, csrfToken, form, formContent, href, link, method;\n        link = this;\n        method = link.getAttribute('data-method');\n\n        if (!method) {\n          return;\n        }\n\n        href = Rails.href(link);\n        csrfToken = Rails.csrfToken();\n        csrfParam = Rails.csrfParam();\n        form = document.createElement('form');\n        formContent = \"<input name='_method' value='\" + method + \"' type='hidden' />\";\n\n        if (csrfParam != null && csrfToken != null && !Rails.isCrossDomain(href)) {\n          formContent += \"<input name='\" + csrfParam + \"' value='\" + csrfToken + \"' type='hidden' />\";\n        }\n\n        formContent += '<input type=\"submit\" />';\n        form.method = 'post';\n        form.action = href;\n        form.target = link.target;\n        form.innerHTML = formContent;\n        form.style.display = 'none';\n        document.body.appendChild(form);\n        form.querySelector('[type=\"submit\"]').click();\n        return stopEverything(e);\n      };\n    }).call(this);\n    (function () {\n      var ajax,\n          fire,\n          getData,\n          isCrossDomain,\n          isRemote,\n          matches,\n          serializeElement,\n          setData,\n          stopEverything,\n          slice = [].slice;\n      matches = Rails.matches, getData = Rails.getData, setData = Rails.setData, fire = Rails.fire, stopEverything = Rails.stopEverything, ajax = Rails.ajax, isCrossDomain = Rails.isCrossDomain, serializeElement = Rails.serializeElement;\n\n      isRemote = function isRemote(element) {\n        var value;\n        value = element.getAttribute('data-remote');\n        return value != null && value !== 'false';\n      };\n\n      Rails.handleRemote = function (e) {\n        var button, data, dataType, element, method, url, withCredentials;\n        element = this;\n\n        if (!isRemote(element)) {\n          return true;\n        }\n\n        if (!fire(element, 'ajax:before')) {\n          fire(element, 'ajax:stopped');\n          return false;\n        }\n\n        withCredentials = element.getAttribute('data-with-credentials');\n        dataType = element.getAttribute('data-type') || 'script';\n\n        if (matches(element, Rails.formSubmitSelector)) {\n          button = getData(element, 'ujs:submit-button');\n          method = getData(element, 'ujs:submit-button-formmethod') || element.method;\n          url = getData(element, 'ujs:submit-button-formaction') || element.getAttribute('action') || location.href;\n\n          if (method.toUpperCase() === 'GET') {\n            url = url.replace(/\\?.*$/, '');\n          }\n\n          if (element.enctype === 'multipart/form-data') {\n            data = new FormData(element);\n\n            if (button != null) {\n              data.append(button.name, button.value);\n            }\n          } else {\n            data = serializeElement(element, button);\n          }\n\n          setData(element, 'ujs:submit-button', null);\n          setData(element, 'ujs:submit-button-formmethod', null);\n          setData(element, 'ujs:submit-button-formaction', null);\n        } else if (matches(element, Rails.buttonClickSelector) || matches(element, Rails.inputChangeSelector)) {\n          method = element.getAttribute('data-method');\n          url = element.getAttribute('data-url');\n          data = serializeElement(element, element.getAttribute('data-params'));\n        } else {\n          method = element.getAttribute('data-method');\n          url = Rails.href(element);\n          data = element.getAttribute('data-params');\n        }\n\n        ajax({\n          type: method || 'GET',\n          url: url,\n          data: data,\n          dataType: dataType,\n          beforeSend: function beforeSend(xhr, options) {\n            if (fire(element, 'ajax:beforeSend', [xhr, options])) {\n              return fire(element, 'ajax:send', [xhr]);\n            } else {\n              fire(element, 'ajax:stopped');\n              return false;\n            }\n          },\n          success: function success() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return fire(element, 'ajax:success', args);\n          },\n          error: function error() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return fire(element, 'ajax:error', args);\n          },\n          complete: function complete() {\n            var args;\n            args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n            return fire(element, 'ajax:complete', args);\n          },\n          crossDomain: isCrossDomain(url),\n          withCredentials: withCredentials != null && withCredentials !== 'false'\n        });\n        return stopEverything(e);\n      };\n\n      Rails.formSubmitButtonClick = function (e) {\n        var button, form;\n        button = this;\n        form = button.form;\n\n        if (!form) {\n          return;\n        }\n\n        if (button.name) {\n          setData(form, 'ujs:submit-button', {\n            name: button.name,\n            value: button.value\n          });\n        }\n\n        setData(form, 'ujs:formnovalidate-button', button.formNoValidate);\n        setData(form, 'ujs:submit-button-formaction', button.getAttribute('formaction'));\n        return setData(form, 'ujs:submit-button-formmethod', button.getAttribute('formmethod'));\n      };\n\n      Rails.preventInsignificantClick = function (e) {\n        var data, insignificantMetaClick, link, metaClick, method, nonPrimaryMouseClick;\n        link = this;\n        method = (link.getAttribute('data-method') || 'GET').toUpperCase();\n        data = link.getAttribute('data-params');\n        metaClick = e.metaKey || e.ctrlKey;\n        insignificantMetaClick = metaClick && method === 'GET' && !data;\n        nonPrimaryMouseClick = e.button != null && e.button !== 0;\n\n        if (nonPrimaryMouseClick || insignificantMetaClick) {\n          return e.stopImmediatePropagation();\n        }\n      };\n    }).call(this);\n    (function () {\n      var $, CSRFProtection, delegate, disableElement, enableElement, fire, formSubmitButtonClick, getData, handleConfirm, handleDisabledElement, handleMethod, handleRemote, loadCSPNonce, preventInsignificantClick, refreshCSRFTokens;\n      fire = Rails.fire, delegate = Rails.delegate, getData = Rails.getData, $ = Rails.$, refreshCSRFTokens = Rails.refreshCSRFTokens, CSRFProtection = Rails.CSRFProtection, loadCSPNonce = Rails.loadCSPNonce, enableElement = Rails.enableElement, disableElement = Rails.disableElement, handleDisabledElement = Rails.handleDisabledElement, handleConfirm = Rails.handleConfirm, preventInsignificantClick = Rails.preventInsignificantClick, handleRemote = Rails.handleRemote, formSubmitButtonClick = Rails.formSubmitButtonClick, handleMethod = Rails.handleMethod;\n\n      if (typeof jQuery !== \"undefined\" && jQuery !== null && jQuery.ajax != null) {\n        if (jQuery.rails) {\n          throw new Error('If you load both jquery_ujs and rails-ujs, use rails-ujs only.');\n        }\n\n        jQuery.rails = Rails;\n        jQuery.ajaxPrefilter(function (options, originalOptions, xhr) {\n          if (!options.crossDomain) {\n            return CSRFProtection(xhr);\n          }\n        });\n      }\n\n      Rails.start = function () {\n        if (window._rails_loaded) {\n          throw new Error('rails-ujs has already been loaded!');\n        }\n\n        window.addEventListener('pageshow', function () {\n          $(Rails.formEnableSelector).forEach(function (el) {\n            if (getData(el, 'ujs:disabled')) {\n              return enableElement(el);\n            }\n          });\n          return $(Rails.linkDisableSelector).forEach(function (el) {\n            if (getData(el, 'ujs:disabled')) {\n              return enableElement(el);\n            }\n          });\n        });\n        delegate(document, Rails.linkDisableSelector, 'ajax:complete', enableElement);\n        delegate(document, Rails.linkDisableSelector, 'ajax:stopped', enableElement);\n        delegate(document, Rails.buttonDisableSelector, 'ajax:complete', enableElement);\n        delegate(document, Rails.buttonDisableSelector, 'ajax:stopped', enableElement);\n        delegate(document, Rails.linkClickSelector, 'click', preventInsignificantClick);\n        delegate(document, Rails.linkClickSelector, 'click', handleDisabledElement);\n        delegate(document, Rails.linkClickSelector, 'click', handleConfirm);\n        delegate(document, Rails.linkClickSelector, 'click', disableElement);\n        delegate(document, Rails.linkClickSelector, 'click', handleRemote);\n        delegate(document, Rails.linkClickSelector, 'click', handleMethod);\n        delegate(document, Rails.buttonClickSelector, 'click', preventInsignificantClick);\n        delegate(document, Rails.buttonClickSelector, 'click', handleDisabledElement);\n        delegate(document, Rails.buttonClickSelector, 'click', handleConfirm);\n        delegate(document, Rails.buttonClickSelector, 'click', disableElement);\n        delegate(document, Rails.buttonClickSelector, 'click', handleRemote);\n        delegate(document, Rails.inputChangeSelector, 'change', handleDisabledElement);\n        delegate(document, Rails.inputChangeSelector, 'change', handleConfirm);\n        delegate(document, Rails.inputChangeSelector, 'change', handleRemote);\n        delegate(document, Rails.formSubmitSelector, 'submit', handleDisabledElement);\n        delegate(document, Rails.formSubmitSelector, 'submit', handleConfirm);\n        delegate(document, Rails.formSubmitSelector, 'submit', handleRemote);\n        delegate(document, Rails.formSubmitSelector, 'submit', function (e) {\n          return setTimeout(function () {\n            return disableElement(e);\n          }, 13);\n        });\n        delegate(document, Rails.formSubmitSelector, 'ajax:send', disableElement);\n        delegate(document, Rails.formSubmitSelector, 'ajax:complete', enableElement);\n        delegate(document, Rails.formInputClickSelector, 'click', preventInsignificantClick);\n        delegate(document, Rails.formInputClickSelector, 'click', handleDisabledElement);\n        delegate(document, Rails.formInputClickSelector, 'click', handleConfirm);\n        delegate(document, Rails.formInputClickSelector, 'click', formSubmitButtonClick);\n        document.addEventListener('DOMContentLoaded', refreshCSRFTokens);\n        document.addEventListener('DOMContentLoaded', loadCSPNonce);\n        return window._rails_loaded = true;\n      };\n\n      if (window.Rails === Rails && fire(document, 'rails:attachBindings')) {\n        Rails.start();\n      }\n    }).call(this);\n  }).call(this);\n\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && module.exports) {\n    module.exports = Rails;\n  } else if (typeof define === \"function\" && define.amd) {\n    define(Rails);\n  }\n}).call(this);","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = function (module) {\n  if (!module.webpackPolyfill) {\n    module.deprecate = function () {};\n\n    module.paths = []; // module.parent = undefined by default\n\n    if (!module.children) module.children = [];\n    Object.defineProperty(module, \"loaded\", {\n      enumerable: true,\n      get: function get() {\n        return module.l;\n      }\n    });\n    Object.defineProperty(module, \"id\", {\n      enumerable: true,\n      get: function get() {\n        return module.i;\n      }\n    });\n    module.webpackPolyfill = 1;\n  }\n\n  return module;\n};"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AACA;AADA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AACA;AADA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AAIA;AACA;AADA;AAIA;;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAHA;AAYA;AACA;AACA;AAFA;AAKA;AACA;AACA;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AACA;AADA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AAEA;AAHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjEA;AAmEA;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;AAAA;AACA;AASA;AACA;;;;;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxIA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAAA;;;AAAA;;;AAAA;;;AAAA;AAAA;AACA;AAgBA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnHA;AAsHA;;;;;;;;;;;;;AC3HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAWA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AAOA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AAKA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAKA;AACA;;;;;;;;;;;;;;;;;;;;;AAAA;AAuBA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAYA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AAEA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AASA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AA3UA;AA8UA;AAEA;AACA;AAQA;AAAA;AAAA;AACA;AACA;AAbA;AAgBA;AAAA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;;ACvWA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AADA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AAjBA;AAoBA;AAEA;AACA;AACA;AAEA;AACA;AADA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AAjBA;AAqBA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAAA;AACA;;;;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAAA;AAKA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAEA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;AAAA;AAOA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AA/MA;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AARA;AAWA;AAEA;AACA;AACA;AAEA;AACA;AACA;AARA;AAWA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAfA;AAkBA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AADA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AADA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAnOA;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AASA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AAvDA;AAyDA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAEA;AASA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAjDA;AAoDA;AAAA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;;AClHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AADA;AAGA;AAEA;AAOA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAZA;AAcA;AAvCA;AA0CA;AACA;AACA;AADA;AAGA;AAEA;AAGA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAdA;AAiBA;AAAA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAKA;AAZA;AAgBA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAKA;AAZA;AAeA;AACA;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AADA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AAnBA;AAsBA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAAA;AACA;;;;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;;;;;AAAA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9KA;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAQA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAIA;AACA;AAEA;AAOA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAzDA;AA4DA;AAAA;AAAA;;;;;;;;;;;;;ACpEA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAOA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAhCA;;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAyBA;AACA;AACA;AA3BA;AA4BA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArCA;AACA;AAEA;AAAA;AAAA;;;AAAA;AACA;AAOA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAeA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AADA;AACA;AA7DA;AAgEA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAgBA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAKA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAzMA;AA4MA;AAAA;AAAA;AAEA;AACA;AAEA;AADA;AAGA;AACA;AAeA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AArFA;AAwFA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAFA;AAIA;AACA;AAMA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AAlDA;AAqDA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AACA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAOA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAmBA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAPA;AAWA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAHA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAPA;AAWA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AAGA;AACA;AA/QA;AAkRA;AAAA;AAAA;;;;;;;;;;;;;AC3rBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AAOA;AACA;AAXA;AAcA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AAOA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AA5BA;AA+BA;AAAA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAnCA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAWA;AACA;AA3BA;AA8BA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;;;AAAA;AAUA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAtDA;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAjBA;AAoBA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;;AAAA;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;AAAA;AAgBA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAvEA;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAHA;AAKA;AAEA;AAeA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAMA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAIA;AAIA;AACA;AACA;AAxIA;AA2IA;AAAA;AAAA;;;;;;;;;;;;;AC/IA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AADA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAmBA;AAAA;AAAA;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;;AAAA;AACA;AAMA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AADA;AACA;AAnCA;AAsCA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;;;;;AAAA;AAUA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;;AAAA;AAQA;AACA;AA/BA;AAkCA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;;;;AAAA;AAaA;AACA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;;;;AAAA;AAaA;AACA;AACA;AA/CA;AAkDA;AACA;AACA;AAEA;AACA;;;;;;;;;;;AAAA;AAaA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AA5FA;AA+FA;AAAA;AAAA;;;;;;;;;;;;;AC/NA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAGA;AAEA;AAKA;AAOA;AACA;AAEA;AAEA;AAEA;AAIA;AAEA;AAAA;AACA;AACA;AAjCA;AAoCA;AAAA;AAAA;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AA9EA;AAgFA;AACA;AACA;;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAKA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAGA;AAEA;AAIA;AAGA;AAIA;AACA;AAGA;AAEA;AAIA;AAGA;AAIA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AAGA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAIA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAIA;AACA;AACA;AAFA;AAIA;AAGA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAIA;AACA;AACA;AAFA;AAIA;AAGA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAIA;AACA;AAEA;AAOA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AAOA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAlXA;AAoXA;AACA;AACA;;;;;;;;;;;;AC3XA;AACA;AAEA;AACA;AAAA;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAhBA;AAkBA;AACA;AACA;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACjBA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAAA;AAEA;AACA;AACA;;;;;;AAGA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAGA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnEA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACtnBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACzoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;AClyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}